System.register("chunks:///_virtual/AccountHistory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ActionUtil.ts","./EventUtil.ts","./LoadUtil.ts","./CustomScrollViewWithPrefab.ts","./ExchangeCenterRepeater.ts","./HistoryItem.ts"],(function(t){var e,i,o,n,s,r,c,a,l,u,h,g,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Label,s=t.Sprite,r=t._decorator,c=t.Component},function(t){a=t.default},function(t){l=t.default},function(t){u=t.default},function(t){h=t.CustomScrollViewWithPrefab},function(t){g=t.default},function(t){p=t.HistoryItem}],execute:function(){var f,y,d,b,w,m,S,H,C;o._RF.push({},"08c72JNKNJBoY4WMsFNMGHJ","AccountHistory",void 0);const{ccclass:_,property:P}=r;t("AccountHistory",(f=_("AccountHistory"),y=P(n),d=P(s),b=P(h),f((S=e((m=class extends c{constructor(){super(...arguments),i(this,"gold",S,this),i(this,"icon",H,this),i(this,"historyScrollViewWithPrefab",C,this),this._ruleContent=void 0}async onLoad(){this._listenMsg()}_listenMsg(){l.on("ExchangeSuccess",(()=>{this.gold.string=g.gold.toString()}),this)}async show(){a.show(this.node),this._setHistory()}async onClickClose(){await a.hide(this.node),this.node.active=!1}async _setHistory(){let t=await g.getExchangeConfig();t.isSucc&&(this.gold.string=t.res.amount.toString(),u.getSpriteFrameIntelligent(t.res.config.pointImage,(t=>t&&this.icon&&this.icon.isValid&&(this.icon.spriteFrame=t))),this._ruleContent=t.res.config.rule);let e=await g.getAccountHistory();e.isSucc?this._updateHistory(e.res.list):g.getUiPopup().showTips(e.err.message)}_updateHistory(t){this.historyScrollViewWithPrefab.setPrefabData(((t,e,i)=>{e.getComponent(p).updateHistroy(t)})),this.historyScrollViewWithPrefab.dateList=t}onShowRule(){g.exchangeCenterManager.showAccountRule(this._ruleContent,g.exchangeCenterManager.exchangeNode.parent)}}).prototype,"gold",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(m.prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(m.prototype,"historyScrollViewWithPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=m))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/AccountRule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ActionUtil.ts"],(function(t){var e,n,o,c,i,r,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,c=t.RichText,i=t._decorator,r=t.Component},function(t){s=t.default}],execute:function(){var l,u,a,p,d;o._RF.push({},"7d421B7ydtKUIng7qpwkyl6","AccountRule",void 0);const{ccclass:h,property:y}=i;t("AccountRule",(l=h("AccountRule"),u=y(c),l((d=e((p=class extends r{constructor(){super(...arguments),n(this,"content",d,this)}async show(t){s.show(this.node),this.content.string=`<color=#000000>${t}</color>`}async onClickClose(){await s.hide(this.node),this.node.active=!1}}).prototype,"content",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=p))||a));o._RF.pop()}}}));

System.register("chunks:///_virtual/AccountType.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"4377eFHOl1D8a5EkeZaVx3z","AccountType",void 0);e("AccountType",function(e){return e.POINT="POINT",e.TIMES="TIMES",e.DRAW="DRAW",e.DRAW_MONEY="DRAW_MONEY",e}({}));e("AccountTypeName",{POINT:"积分",TIMES:"次数",DRAW:"抽奖次数",DRAW_MONEY:"抽到的钱"});e("EPropsType",function(e){return e.gameProp_1="gameProp_1",e.gameProp_2="gameProp_2",e.gameProp_3="gameProp_3",e.gameProp_4="gameProp_4",e}({})),e("EGameBtn",function(e){return e.reviveBtn="reviveBtn",e.gameOverBtn="gameOverBtn",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/ActionUtil.ts",["cc","./fadeAction.ts","./moveAction.ts","./scaleAction.ts"],(function(t){var a,s,e,c;return{setters:[function(t){a=t.cclegacy},function(t){s=t.default},function(t){e=t.default},function(t){c=t.default}],execute:function(){a._RF.push({},"3cf8a4h3ZNB66H2ezXnROK2","ActionUtil",void 0);const i={type:"scale",duration:.3};let n={fade:{class:s,data:void 0},scale:{class:c,data:void 0},move:{class:e,data:void 0}};t("default",class{static async show(t,a){await this._play(t,"show",a)}static async change(t,a){await this._play(t,"change",a)}static async hide(t,a){await this._play(t,"hide",a)}static async _play(t,a,s){let e=this._getClass(s?.type);return e.setConfig(s,i),await e.play(t,a,s?.onFinish,s?.onChange)}static _getClass(t){return new(n[this._getType(t)].class)}static _getType(t){return t||i.type}}),a._RF.pop()}}}));

System.register("chunks:///_virtual/ActivietyDayResetType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a3560eFOxBHFapaph8biqFz","ActivietyDayResetType",void 0);e("ActivityDayResetType",function(e){return e.POINT="POINT",e.TIMES="TIMES",e}({}));e("ActivityDayResetTypeName",{POINT:"积分",TIMES:"次数"});t._RF.pop()}}}));

System.register("chunks:///_virtual/ActivityStatus.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"b2be8PvyDhM9ZekpPzcR+IX","ActivityStatus",void 0);t("ActivityStatus",function(t){return t.NOT_STARTED="NOT_STARTED",t.OPENING="OPENING",t.FINISHED="FINISHED",t.OFFLINE="OFFLINE",t}({}));t("ActivityStatusName",{NOT_STARTED:"未开始",OPENING:"进行中",FINISHED:"已结束",OFFLINE:"已下线"});c._RF.pop()}}}));

System.register("chunks:///_virtual/AddressInfo.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"f368dfydx1Da6qMz9lARZc2","AddressInfo",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/AdpterSprite.ts",["cc"],(function(e){var t,i,r,c,s;return{setters:[function(e){t=e.cclegacy,i=e.Component,r=e.view,c=e.Sprite,s=e._decorator}],execute:function(){var n;t._RF.push({},"e4073WgCb9A2aaZ8HgOcWvd","AdpterSprite",void 0);const{ccclass:o,property:p}=s;e("AdpterSprite",o("AdpterSprite")(n=class extends i{onLoad(){const e=r.getVisibleSize(),t=this.getComponent(c),{width:i,height:s}=t?.spriteFrame||e,n=Math.max(e.width/i,e.height/s,1);this.node.setScale(this.node.scale.multiplyScalar(n))}})||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/AllModules.ts",["cc","./AudioConfig.ts","./NotifyConfig.ts","./ServerConfig.ts","./UiParentConfig.ts","./DrawManager.ts","./InviteManager.ts","./NotifyManager.ts","./BagPackManager.ts","./UiParentManager.ts","./UIPopupManager.ts","./AudioManager.ts","./ServerManager.ts","./ExchangeCenterManager.ts"],(function(n){var a,e,t,r,i,u,g,o,f,c,M,s,l,d;return{setters:[function(n){a=n.cclegacy},function(n){e=n.default},function(n){t=n.default},function(n){r=n.default},function(n){i=n.default},function(n){u=n.DrawManager},function(n){g=n.InviteManager},function(n){o=n.NotifyManager},function(n){f=n.BagPackManager},function(n){c=n.UiParentManager},function(n){M=n.UIPopupManager},function(n){s=n.default},function(n){l=n.default},function(n){d=n.ExchangeCenterManager}],execute:function(){a._RF.push({},"61660C/pKpGOJapZXdIWrbp","AllModules",void 0);n("AllModules",{audioManager:new s(e),uiParent:new c(i),serverManager:new l(r),NotifyManager:new o(t),uiPopupManager:new M,bagPackManager:new f,exchangeCenterManager:new d,drawManager:new u,inviteManager:new g});a._RF.pop()}}}));

System.register("chunks:///_virtual/AndroidSdk.ts",["cc","./BaseSdk.ts"],(function(t){var e,s;return{setters:[function(t){e=t.cclegacy},function(t){s=t.default}],execute:function(){e._RF.push({},"711eftNjCBHpLusjQwlsGk/","AndroidSdk",void 0);t("default",class extends s{}),e._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtil.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"6ddbb+dekFARafSHdXmgGtT","ArrayUtil",void 0);t("default",class{static noRepeated(t){for(var r=[t[0]],e=1;e<t.length;e++){for(var a=!1,n=0;n<r.length;n++)if(t[e]==r[n]){a=!0;break}a||r.push(t[e])}return r}static copy2DArray(t){let r=[];for(let e=0;e<t.length;e++)r.push(t[e].concat());return r}static fisherYatesShuffle(t){let r=t.length;for(;r;){let e=Math.floor(Math.random()*r--),a=t[r];t[r]=t[e],t[e]=a}return t}static confound(t){return t.slice().sort((()=>Math.random()-.5))}static flattening(t){for(;t.some((t=>Array.isArray(t)));)t=[].concat.apply([],t);return t}static removeItem(t,r){var e=t.concat();for(let a=0;a<e.length;a++){if(r==e[a]){t.splice(a,1);break}}}static combineArrays(t,r){return[...t,...r]}static getRandomValueInArray(t){return t[Math.floor(Math.random()*t.length)]}static numberString(t){return t.join("_")}}),r._RF.pop()}}}));

System.register("chunks:///_virtual/AudioConfig.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"bc3655VhhNEO7gGlsnbxAq/","AudioConfig",void 0);t("default",{effect:{click:{path:"click"},popo:{path:"popo"},attack_chuizi:{path:"attack_chuizi"},fail:{path:"fail"},swap:{path:"swap"}},music:{Bgm_1:{path:"bgm1"}},normalBtnAudio:"click"});c._RF.pop()}}}));

System.register("chunks:///_virtual/AudioController.ts",["cc","./AudioDeclare.ts","./AudioRepeater.ts"],(function(o){var i,e,t,s,u,r,a,l,d,n,h;return{setters:[function(o){i=o.cclegacy,e=o.Node,t=o.director,s=o.resources,u=o.AudioClip,r=o.AudioSource,a=o.assetManager},function(o){l=o.AudioType,d=o.AudioInfoList,n=o.AudioPath},function(o){h=o.default}],execute:function(){i._RF.push({},"8ca47sDpjhMoL9rjv49vosg","AudioController",void 0);o("AudioController",class{constructor(){this._persistRootNode=null,this._audioSources=[],this._audioLogic=void 0,this.dictWeaponSoundIndex={},this.musicVolume=.6,this.soundVolume=1,this.cvVolume=1,this.audios={},this.arrSound=[]}init(o){this._persistRootNode||(this._persistRootNode=new e("audio"),t.getScene().addChild(this._persistRootNode),t.addPersistRootNode(this._persistRootNode),this._audioLogic=o,this.musicVolume=this._audioLogic?.audioState[0]?.6:0,this.soundVolume=this._audioLogic?.audioState[1]?1:0,this.cvVolume=this._audioLogic?.audioState[1]?1:0)}preloadAudioClips(o){void 0===o&&(o="ALL");let i=[];if("ALL"==o)for(const o in d)for(const e in d[o])i.push(e);else i=o;return i=i.map((o=>this.getRealConfig(o,this._getType(o)).path)),new Promise((o=>{s.load(i,u,((i,e)=>{i&&console.error("预加载资源出错",i),o(!!i)}))}))}_getAudioSource(o){let i,t=this._persistRootNode.getChildByName(o);if(t&&(i=t.getComponent(r)),!i){i=new e(o).addComponent(r),this._persistRootNode.addChild(i.node)}return i.playOnAwake=!1,i.currentTime=0,i}async playMusic(o,i){void 0===i&&(i=!0);let e=this.getRealConfig(o,l.music),t=await this._loadAudio(e.path);if(!t)return void console.error("未找到此音乐",e);let s=this._getAudioSource("music"),u={source:s,isMusic:!0};s.stop(),this.audios[o]=u,s.volume=e.volume??this.musicVolume,s.loop=i,s.clip=t,s.play(),console.log("播放背景音乐+++++++++++++",s.name),setTimeout((()=>{console.log("音效状态+++++++++",s.state)}),3e3)}async playEffect(o,i){if(void 0===i&&(i=!1),!this.soundVolume)return;let e=this.getRealConfig(o,l.effect),t=this._getAudioSource("sound"),s=await this._loadAudio(e.path);t.volume=e.volume??this.soundVolume,t.loop=i,s?h.stringUtil.isRemoteUrl(o)?(t.clip=s,t.play(),t.loop=!1):t.playOneShot(s):console.error("未找到此音乐",e)}async playEffectAtTimes(o,i){if(!this.soundVolume)return;let e=this.getRealConfig(o,l.effect),t=this._getAudioSource("effectTimes");t.playing&&(t=this._getAudioSource("effectTimes1"));let s=await this._loadAudio(e.path);if(t.volume=e.volume??this.soundVolume,t.loop=!1,!s)return void console.error("未找到此音乐",e);let u=t;t.stop(),t.clip=s,t.play(),t.scheduleOnce((()=>{t.stop();let o=this.arrSound.findIndex((o=>o.source===u));this.arrSound.splice(o,1)}),2*i)}stop(o){if(this.audios.hasOwnProperty(o)){this.audios[o].source.stop()}}mute(o,i){if(this.audios.hasOwnProperty(o)){this.audios[o].source.volume=i?0:this.soundVolume}}stopAll(){for(const o in this.audios)if(this.audios.hasOwnProperty(o)){this.audios[o].source.stop()}}getMusicVolume(){return this.musicVolume}setMusic(o){this.musicVolume=o;for(let o in this.audios)if(this.audios.hasOwnProperty(o)&&this.audios[o].isMusic){this.audios[o].source.volume=this.musicVolume}}pauseAll(){console.log("pause all music!!!");for(let o in this.audios)if(this.audios.hasOwnProperty(o)){this.audios[o].source.pause()}}getSourceStatue(o){if(this.audios.hasOwnProperty(o)){return this.audios[o].source.state}}resumeAll(){for(let o in this.audios)if(this.audios.hasOwnProperty(o)){this.audios[o].source.play()}}changeAudioState(o,i){this._audioLogic?.changeAudioState(o,i);let e=i?"music"==o?.6:1:0;switch(o){case l.music:this.setMusic(e);break;case l.effect:this.setSound(e)}}setSound(o){this.soundVolume=o;for(let o in this.audios)if(this.audios.hasOwnProperty(o)&&!this.audios[o].isMusic){this.audios[o].source.volume=this.soundVolume}for(let o=0;o<this.arrSound.length;o++){this.arrSound[o].source.volume=this.soundVolume}}stopSingleSound(o){if(this.audios.hasOwnProperty(o)&&!this.audios[o].isMusic){this.audios[o].source.stop()}}getRealConfig(o,i){if(h.stringUtil.isRemoteUrl(o))return{path:o,volume:void 0};if(i==l.vibrate)return{path:"",volume:void 0};const e=i==l.effect?d.effect:d.music;let t,s=n.typePath[i];return s&&(s+="/"),{path:n.basePath+"/"+s+e[o]?.path,volume:t}}_getType(o){return d[l.music][o]?l.music:l.effect}stopAllSource(){this._persistRootNode.removeAllChildren()}_loadAudio(o){return new Promise((i=>{h.stringUtil.isRemoteUrl(o)?a.loadRemote(o,((o,e)=>{if(o)return console.error("getAssetRemote audio load error",o),void i(null);i(e)})):s.load(o,u,((o,e)=>{if(o)return console.error("_loadAudio audio load error",o),void i(null);i(e)}))}))}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioDeclare.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d3b58nLROJL8ogVYhxNLhCa","AudioDeclare",void 0);e("AudioType",function(e){return e.effect="effect",e.music="music",e.vibrate="vibrate",e}({})),e("AudioPath",{basePath:"audio",typePath:{effect:"effect",music:"music"}}),e("AudioInfoList",{music:{},effect:{}});t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioLogic.ts",["cc","./AudioDeclare.ts","./AudioRepeater.ts"],(function(t){var e,i,s;return{setters:[function(t){e=t.cclegacy},function(t){i=t.AudioType},function(t){s=t.default}],execute:function(){e._RF.push({},"397abbqxQBLj43t/a4kbpgR","AudioLogic",void 0);t("default",class{constructor(){this.storeName="myAudio",this.backMusicID=null,this.audioState=[!0,!0,!0]}init(){let t=[i.music,i.effect,i.vibrate];for(const e of t)this.readAudioState(e)}readAudioState(t){let e=this.getKind(t),i=1,u=s.storageUtil.get(this.storeName+e,""+i);u&&(i=parseInt(u)),this.audioState[e]=0!=i}storeAudioState(t){let e=1,i=this.getKind(t);this.audioState[i]||(e=0),s.storageUtil.set(this.storeName+i,""+e)}preloadAudio(){}getMusicID(){return this.backMusicID}setMusicID(t){return t!=this.backMusicID&&(this.backMusicID=t,!0)}changeAudioState(t,e){void 0===e&&(e=void 0);let i=this.getKind(t);return null==e&&(e=!this.audioState[i]),e!=this.audioState[i]&&(this.audioState[i]=e,this.storeAudioState(t),!0)}getKind(t){switch(t){case i.effect:return 1;case i.music:return 0;case i.vibrate:return 2}}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManage.ts",["cc","./GlobalManager.ts","./Utils.ts"],(function(t){var s,a,e,i;return{setters:[function(t){s=t.cclegacy,a=t._decorator},function(t){e=t.default},function(t){i=t.default}],execute:function(){var c,n;s._RF.push({},"cb90b+sb99CvLwgQOVCTG5f","AudioManage",void 0);const{ccclass:u,property:o}=a;let l=t("SoundList",function(t){return t.popo="popo",t.out="attack_chuizi",t.fail="fail",t.click="click",t.swap="swap",t.bgm1="bgm1",t}({}));t("AudioManage",u("AudioManage")(((n=class{static get audioManager(){return e.moduleManager("audioManager")}static init(){var t=i.Instance.getLocalStorage(this.music_save_key),s=i.Instance.getLocalStorage(this.sfx_save_key);this._musicOpen=0!==t,this._sfxOpen=0!==s}static getAudioClip(t){}static setBgmVolume(t){}static setSfxVolume(t){}static playBGM(t,s,a){this._musicOpen&&this.audioManager.play("Bgm_1")}static stopBGM(){this.audioManager.StopAudio("Bgm_1")}static playSFX(t,s,a){this.audioManager.play(t)}static pauseAll(){}static resumeAll(){}static stopAll(){}static sFXSwitch(t){this._sfxOpen=t,i.Instance.setLocalStorage(this.sfx_save_key,t?1:0)}static getSfxState(){return this._sfxOpen}static mucSwitch(t){this._musicOpen=t,t?this.playBGM(l.bgm1):this.stopBGM(),i.Instance.setLocalStorage(this.music_save_key,t?1:0)}static getMusicState(){return this._musicOpen}}).bgmVolume=1,n.sfxVolume=1,n.bgmAudioID=-1,n._musicOpen=!0,n._sfxOpen=!0,n.AudioMap={},n.music_save_key="_musicOpen",n.sfx_save_key="_sfxOpen",c=n))||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["cc","./ModuleUtilManagerBase.ts","./AudioDeclare.ts","./AudioController.ts","./AudioLogic.ts"],(function(t){var i,e,o,a,u,s;return{setters:[function(t){i=t.cclegacy},function(t){e=t.ModuleUtilManagerBase},function(t){o=t.AudioInfoList,a=t.AudioType},function(t){u=t.AudioController},function(t){s=t.default}],execute:function(){i._RF.push({},"8a5748HGzRN4ZSNOMOFgDHU","AudioManager",void 0);t("default",class extends e{constructor(t){super(),this.audioL=void 0,this.audioC=void 0,this._config=void 0,this._config=t,o.effect=t.effect,o.music=t.music}async init(){this.audioL=new s,this.audioC=new u,this.audioC.init(this.audioL)}async preloadAudioClip(t){await this.audioC.preloadAudioClips(t)}play(t,i){const e=t;switch(this._getType(e)){case a.music:this.audioC.playMusic(e,i);break;case a.effect:this.audioC.playEffect(e,i)}}playEffectAtTimes(t,i){const e=t;this.audioC.playEffectAtTimes(e,i)}playVibrate(t){this.getAudioState(a.vibrate)&&(navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&navigator.vibrate(t<<10))}clickBtn(){this.play(this._config.normalBtnAudio)}StopAudio(t){const i=t;console.log("停止播放声音++++++++++",t),this.audioC.stop(i)}changeAudioState(t){let i=this.getAudioState(t);return t&&t!=a.music||this.audioC.changeAudioState(a.music,!i),t&&t!=a.effect||this.audioL.changeAudioState(a.effect,!i),!i}auidoMute(t,i){const e=t;console.log((i?"播放静音":"有声播放")+"++++++++++",t),this.audioC.mute(e,i)}getAudioState(t){let i=t==a.music?0:1;return this.audioL.audioState[i]}getSourceStatue(t){const i=t;return this.audioC.getSourceStatue(i)}stopAllSource(){this.audioC.stopAllSource()}_getType(t){return o[a.music][t]?a.music:a.effect}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioRepeater.ts",["cc","./StringUtil.ts","./StorageUtil.ts"],(function(t){var e,i,u;return{setters:[function(t){e=t.cclegacy},function(t){i=t.default},function(t){u=t.default}],execute:function(){e._RF.push({},"c118dH5BVNIVbFIaw5Dy6LW","AudioRepeater",void 0);class c{}t("default",c),c.storageUtil=u,c.stringUtil=i,e._RF.pop()}}}));

System.register("chunks:///_virtual/BagItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BagPrizeStatus.ts","./ExpressStatus.ts","./EventUtil.ts","./LoadUtil.ts","./BagPackRepeater.ts"],(function(t){var i,e,a,s,o,r,n,l,p,c,u,h,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){a=t.cclegacy,s=t.Label,o=t.Sprite,r=t.Node,n=t._decorator,l=t.Component},function(t){p=t.EBagPrizeStatus},function(t){c=t.EExpressStatus},function(t){u=t.default},function(t){h=t.default},function(t){g=t.default}],execute:function(){var b,d,f,m,y,I,w,_,v,z,k,P,S,x,N,B,D,L,$,E,M,T,C,U,F,R,A,H,O;a._RF.push({},"defabw4tohPGpRfXa5f1vhP","BagItem",void 0);const{ccclass:j,property:G}=n;t("BagItem",(b=j("BagItem"),d=G(s),f=G(s),m=G(s),y=G(o),I=G(r),w=G(r),_=G(s),v=G(r),z=G(r),k=G(r),P=G(s),S=G(s),x=G(r),b((D=i((B=class extends l{constructor(){super(...arguments),e(this,"title",D,this),e(this,"price",L,this),e(this,"time",$,this),e(this,"icon",E,this),e(this,"operation",M,this),e(this,"apply",T,this),e(this,"statu",C,this),e(this,"look",U,this),e(this,"edit",F,this),e(this,"tipNode",R,this),e(this,"company",A,this),e(this,"order",H,this),e(this,"copy",O,this),this._bagItemInfo=void 0}onLoad(){this.operation.on("click",this._onOperation,this),this.look.on("click",this._onLook,this),this.edit.on("click",this._onEdit,this),this.copy.on("click",this._onCopy,this),u.on("SelectCheck",(t=>{this._onSelectAddress(t)}),this)}updateBag(t){this._bagItemInfo=t,this.title.string=t.prize.name,this.price.node.active=t.prize.price>0,this.price.string=t.prize.price/100+"元",h.getSpriteFrameIntelligent(t.prize.pic,(t=>t&&this.icon&&this.icon.isValid&&(this.icon.spriteFrame=t))),this.operation.active=t.status===p.unApply,this.time.string=this.formatDate(new Date(t.createDate)),t.status===c.wait||t.status===c.sent||t.status===c.stop?(this.statu.node.active=!0,t.status===c.wait?this.statu.string="待发货":t.status===c.sent?this.statu.string="已发货":t.status===c.stop&&(this.statu.string="不予发货")):this.statu.node.active=!1,this.edit.active=t.status===c.wait,this.look.active=t.status===c.sent}async _onOperation(){g.logisticManager.showLogistic(!0,g.bagPackManager.bagpackNode),g.bagId=this._bagItemInfo.bagId}async _onSelectAddress(t){if(this._bagItemInfo.bagId==g.bagId){let i=await g.applyDeliver(this._bagItemInfo.bagId,t.addressId,t.userName,t.userPhone,t.province,t.city,t.district,t.address);i.isSucc?(g.getUiPopup().showTips("申请发货成功"),this.operation.active=!1,this.statu.node.active=!0,this.statu.string="待发货",this.edit.active=!0):g.getUiPopup().showTips(i.err.message)}}_onLook(){this.tipNode.active=!0,this.company.string=`快递公司：${this._bagItemInfo.expressInfo.expressName}`,this.order.string=`快递单号：${this._bagItemInfo.expressInfo.expressNumber}`}_onCopy(){this.copyToClipboard(this._bagItemInfo.expressInfo.expressNumber)}_onEdit(){g.bagId=this._bagItemInfo.bagId,g.logisticManager.showLogistic(!0,g.bagPackManager.bagpackNode)}formatDate(t){return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()} ${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}`}async copyToClipboard(t){try{await navigator.clipboard.writeText(t),g.getUiPopup().showTips("复制成功")}catch(t){g.getUiPopup().showTips("复制失败")}this.tipNode.active=!1}}).prototype,"title",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(B.prototype,"price",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(B.prototype,"time",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(B.prototype,"icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(B.prototype,"operation",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(B.prototype,"apply",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(B.prototype,"statu",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(B.prototype,"look",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(B.prototype,"edit",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(B.prototype,"tipNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(B.prototype,"company",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(B.prototype,"order",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(B.prototype,"copy",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=B))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/BagPack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ActionUtil.ts","./CustomScrollViewWithPrefab.ts","./BagPackRepeater.ts","./BagItem.ts"],(function(e){var t,a,i,o,r,s,n,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Node,r=e._decorator,s=e.Component},function(e){n=e.default},function(e){c=e.CustomScrollViewWithPrefab},function(e){l=e.default},function(e){u=e.BagItem}],execute:function(){var p,g,h,d,f,b,P;i._RF.push({},"d34edaiq39N4KW5uqK5ZSf2","BagPack",void 0);const{ccclass:w,property:B}=r;e("BagPack",(p=w("BagPack"),g=B(o),h=B(c),p((b=t((f=class extends s{constructor(){super(...arguments),a(this,"parentNode",b,this),a(this,"bagScrollViewWithPrefab",P,this)}async show(){let e=null;l.getUiPopup().showLoading(),await Promise.all([(async()=>{await n.show(this.parentNode)})(),(async()=>{e=await l.getBagList()})()]),l.getUiPopup().hideLoading(),e.isSucc?this._updateBagInfo(e.res):l.getUiPopup().showTips(e.err.message)}async onClickClose(){await n.hide(this.parentNode),this.node.active=!1}_updateBagInfo(e){this.bagScrollViewWithPrefab.setPrefabData(((e,t,a)=>{t.getComponent(u).updateBag(e)})),this.bagScrollViewWithPrefab.dateList=e.bagList}}).prototype,"parentNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(f.prototype,"bagScrollViewWithPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/BagPackManager.ts",["cc","./BundleUtil.ts","./NodeUtil.ts","./ModuleUtilManagerBase.ts","./BagPack.ts"],(function(a){var t,e,c,n,o,i,s;return{setters:[function(a){t=a.cclegacy,e=a.instantiate,c=a.Node},function(a){n=a.default},function(a){o=a.NodeUtil},function(a){i=a.ModuleUtilManagerBase},function(a){s=a.BagPack}],execute:function(){t._RF.push({},"db171c1uW9LrLHiNaRVZ916","BagPackManager",void 0);a("BagPackManager",class extends i{constructor(){super(...arguments),this.bagpackNode=void 0}async init(){console.log("初始化 BagPackManager")}async showBagPack(a){if(this.bagpackNode){if(this.bagpackNode.active)return;this.bagpackNode.active=!0,this.bagpackNode.getComponent(s)?.show()}this.bagpackNode||(this.bagpackNode=e(await n.getPrefabByBundle("BagPack","BagPack")),o.addParent(this.bagpackNode,a),this.bagpackNode.getComponent(s)?.show(),this.bagpackNode.on(c.EventType.NODE_DESTROYED,(()=>{this.bagpackNode=void 0}),this))}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/BagPackRepeater.ts",["cc","./ModuleManager.ts"],(function(a){var e,t;return{setters:[function(a){e=a.cclegacy},function(a){t=a.default}],execute:function(){e._RF.push({},"1a8bdzK2C5DfbSVnF3a8dEg","BagPackRepeater",void 0);class r{static get bagId(){return this._bagId}static set bagId(a){this._bagId=a}static get _serverSystem(){return t.instance.getManager("serverManager").callServer("server_System")}static get bagPackManager(){return t.instance.getManager("bagPackManager")}static get logisticManager(){return t.instance.getManager("logisticManager")}static async getBagList(){return await this._serverSystem.callApi("m/bag/GetBagList")}static async applyDeliver(a,e,t,r,s,i,g,n){return await this._serverSystem.callApi("m/bag/SetBagExpress",{bagId:a,addressId:e,userName:t,userPhone:r,province:s,city:i,district:g,address:n})}static getUiPopup(){return this.uiPopupManager||(this.uiPopupManager=t.instance.getManager("uiPopupManager")),this.uiPopupManager}}a("default",r),r._bagId="",r.uiPopupManager=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/BagPrizeStatus.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"df07eIKAN9Fx7UyhS7gyUhz","BagPrizeStatus",void 0);t("EBagPrizeStatus",function(t){return t.unApply="unApply",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/Base.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"10519rA6jxNEa7kah2Hd6Zy","Base",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/baseAction.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"e67d2xpPKBF15DRAkgC0m5J","baseAction",void 0);let n={duration:.3,useData:void 0,onChange:void 0,onFinish:void 0};class s{constructor(){this.toChangeFun=void 0,this.callBackFun=void 0,this.callBackFun2=void 0,this.curType="show",this.curConfig={}}async play(i,t,n,s){return this.curType=t,this.start(i,t),this.toChangeFun=s,new Promise((i=>{this.callBackFun=i,this.callBackFun2=n}))}setConfig(i,t){for(const s in n){let e=s;this.curConfig[e]=i&&s in i?i[e]:t&&s in t?t[e]:n[e]}}start(i,t){let n,e=t=>{if(t){if(i.uuid in s.allTweens)try{s.allTweens[i.uuid].stop()}catch(i){console.error("停止动画出错",i)}s.allTweens[i.uuid]=t}},a=()=>{i.uuid in s.allTweens&&delete s.allTweens[i.uuid]};switch(t){case"show":n=this.show(i,(()=>{a(),this.end()})),e(n);break;case"change":this.curConfig.duration&&(this.curConfig.duration=this.curConfig.duration/2),n=this.hide(i,(()=>{a(),this.change(),n=this.show(i,(()=>{a(),this.end()})),e(n)})),e(n);break;case"hide":n=this.hide(i,(()=>{a(),this.end()})),e(n)}}change(){"change"==this.curType&&this.toChangeFun&&this.toChangeFun()}end(){this.endCallBack()}endCallBack(){this.callBackFun2&&this.callBackFun2(),this.callBackFun&&this.callBackFun()}}i("default",s),s.allTweens={},t._RF.pop()}}}));

System.register("chunks:///_virtual/BaseSdk.ts",["cc","./SDKEvent.ts"],(function(e){var t,o,s,r;return{setters:[function(e){t=e.director,o=e.sys,s=e.cclegacy},function(e){r=e.default}],execute:function(){s._RF.push({},"ef888KGeJdGQaU96TYy0vDZ","BaseSdk",void 0);e("default",class{constructor(){this._isRecorder=!1,this._payOptions=void 0,this._shareOptions=void 0,this._loginOptions=void 0}init(){}login(e){e.success&&e.success({isLogin:!0})}isOpenShare(){return!0}getAnonymousCode(){return""}createMoreGamesButton(e){}setKeepScreenOn(e){}setClipboardData(e){console.log("调用剪切板",e.data)}startRecorder(){this._isRecorder=!0,console.log("开始录屏"),t.emit(r.CHANGE_RECORDER_STATE)}stopRecorder(e){this._isRecorder=!1,console.log("停止录屏"),t.emit(r.CHANGE_RECORDER_STATE)}getRecorderState(){return this._isRecorder}getIsScreenRecordVideo(){return!0}getRecorderTime(){return 0}showShareBtn(e){}hideShareBtn(){}shareRecorder(e){e.success&&e.success(),console.log("分享视频成功")}showRewardVideo(e){e&&e.success&&e.success(),console.log("展示广告成功")}playScreen(){console.log("播放插屏广告")}getLastAdTime(){return 0}showBanner(){}hideBanner(){}getVideoState(){return!0}onVideoSuccess(){}vibrateShort(){}vibrateLong(){}sendEvent(e){console.log("打点:",e)}postMessage(e){console.log("推送消息",e)}setLocalStorage(e,t){o.localStorage.setItem(e,t)}getLocalStorage(e){return console.log("获取本地数据"),o.localStorage.getItem(e)}sendHttpRequest(e,t,o,s){let r=Object.getOwnPropertyNames(t),n="";for(let e=0;e<r.length;e++)console.log("参数名称：",r[e]),n+=r[e]+"="+t[r[e]]+"&";console.log("请求参数",n);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status){if(o){var e=JSON.parse(c.responseText);e.ok?o(e):s&&s(e.msg)}}else s&&s(c.status)},c.open("POST",e,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),c.send(n)}showToast(e){console.log("showToast",e)}getOpenDataContext(){return null}loginWithDouyin(){}loginWithApple(){}dyTokenSuccess(e,t){}appleLoginSuccess(e,t){}loginError(){}hasAppleLogin(){return!0}share(e){}contentSafe(e){e.content,e.platform}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/BeeLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StaticLayer.ts","./GameConfig.ts","./GameLogic.ts"],(function(e){var t,i,o,n,s,r,a,c,p,h,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){o=e.cclegacy,n=e.Node,s=e._decorator,r=e.Component,a=e.UITransform,c=e.tween,p=e.Tween},function(e){h=e.default},function(e){l=e.default},function(e){u=e.GameLogic}],execute:function(){var d,f,g,y,b,C;o._RF.push({},"c5d374qA0RJWoesuSfJBSZI","BeeLayer",void 0);const{ccclass:S,property:m}=s;e("default",(d=m(n),f=m(n),S((b=t((y=class extends r{constructor(){super(...arguments),i(this,"posNode",b,this),i(this,"beeNode",C,this),this._startPos=void 0,this._propType=0,this._isHintShowing=!1}_autoShow(){if(this.posNode.active)return;if(this._isHintShowing)return;if(u.instance.showNewPlayerProp<2)return;const e=l.GameBeeConfig;if(u.instance.beeConditionLevel<0)return;if(u.instance.beeConditionLevel>=e.generateCondition.length)return;const t=e.generateCondition[u.instance.beeConditionLevel];if(t.startTime>u.instance.gameTime||t.score>u.instance.score)return;let i=t.propTypes;e.specialCondition.condition.indexOf(u.instance.beeConditionLevel)>=0&&u.instance.topHigh>=e.specialCondition.topHigh&&(i=e.specialCondition.propTypes);let o=u.instance.getPropByProbability(i);this._propType=o+1,this.beeFly(),u.instance.beeConditionLevel++}hide(){this.posNode.active=!1}start(){this._isHintShowing=!1,this.posNode.active=!1,this._startPos=this.posNode.position.clone(),this.schedule((()=>{this._autoShow()}),.5)}beeFly(){const e=l.GameBeeConfig.flyTime;this.posNode.active=!0,this.posNode.position=this._startPos,this.beeNode.setScale(1,1);const t=this.posNode.position.clone(),i=this.posNode.position.clone();i.x+=this.node.getComponent(a).width+300,c(this.posNode).to(e,{position:i},{easing:"smooth"}).call((()=>{this.beeNode.setScale(-1,1)})).to(e,{position:t},{easing:"smooth"}).call((()=>{this.hide()})).start()}onBtnClick(){this._showProp()}_showProp(){this._isHintShowing=!0;const e=l.GameBeeConfig.propConfig[this._propType];h.SkillStatic.showSkillHint({title:e.title,type:this._propType,hintContent:e.hintContent,success:e=>{switch(this._isHintShowing=!1,this._propType){case 1:h.GameStatic.usePropToClearScreenFruit();break;case 2:h.GameStatic.usePropToClearLowFruit();break;case 3:h.GameStatic.usePropToChangeTargetFruit();break;case 4:h.GameUIStatic.updateScore(50)}this.hide(),p.stopAllByTarget(this.posNode)},fail:e=>{this._isHintShowing=!1}})}}).prototype,"posNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(y.prototype,"beeNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/BootstrapBase.ts",["cc"],(function(s){var t,e;return{setters:[function(s){t=s.Component,e=s.cclegacy}],execute:function(){e._RF.push({},"9ee13HMm5tI9pWnqgcj/hY0","BootstrapBase",void 0);s("default",class extends t{constructor(){super(),this.reserveBlock={init:{name:"游戏数据初始化",p:5,loadData:!0,function:this.onLoadInit.bind(this)},handleData:{name:"操作数据",p:5,function:this.loadedDataAndAutoHandle.bind(this)}},this.progressBlock={},this.layerEnd=void 0,this._initInfo=void 0,this._leftBlockName={},this._showProgressN=0,this.curProgress=0,this.allData=0}start(){}async show(s){return this._initInfo=s,this.initProgress(),this.scheduleOnce(this.baseInit.bind(this)),new Promise((s=>{this.layerEnd=s}))}async baseInit(){console.time("游戏数据初始化"),await this.reserveBlock.init.function(),this.finishBlock(this.reserveBlock.init,"init"),console.timeEnd("游戏数据初始化");for(const s in this.progressBlock){let t=this.progressBlock[s];(async()=>{console.time(t.name),t.function&&await t.function(),this.finishBlock(t,s)})()}}get isIsLoadedAllData(){return!this.allData}get showProgressN(){return this._showProgressN}initProgress(){const s=[this.reserveBlock,this.progressBlock];this._showProgressN=0,this.curProgress=100,this.allData=0;for(const t of s)for(const s in t)t[s].loadData&&this.allData++,this.curProgress-=t[s].p,this._leftBlockName[s]=t[s].name;if(this.curProgress<0){let s=100;for(const t in this.reserveBlock)s-=this.reserveBlock[t].p;console.error(`【progressBlock】中p值总合不能超过【${s}】,请重新设置！`)}else console.log("初始进度",this.curProgress),this.schedule(this.showProgress)}showProgress(){this._showProgressN<this.curProgress?(100==this.curProgress?this._showProgressN+=10:this._showProgressN<=this.curProgress-40?this._showProgressN+=.1:this._showProgressN>=this.curProgress-5?this._showProgressN+=.01:this._showProgressN>=this.curProgress-10?this._showProgressN+=.05:this._showProgressN+=.1,this._showProgressN>=100&&(this._showProgressN=100,this.unschedule(this.showProgress),this.completeAllProgress())):this._showProgressN<this.curProgress+(100-this.curProgress)/2&&(this._showProgressN+=.001),this.progressUpdate(this._showProgressN)}finishBlock(s,t){if(0==s.p)return;s.loadData&&(this.allData--,0==this.allData&&this.loadedDataAndAutoHandle().then((()=>{this.finishBlock(this.reserveBlock.handleData,"handleData")}))),this.curProgress+=s.p,delete this._leftBlockName[t];let e=Object.keys(this._leftBlockName).map((s=>this._leftBlockName[s])),o=e.length>0?`剩余模块：【${e}】`:"【全部完成】";console.log("[加载完成]：",s.name,`${s.p}%`,o),console.timeEnd(s.name)}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/BootstrapScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneUtil.ts","./StorageUtil.ts","./BootstrapBase.ts","./BundleLayer.ts","./telegram-web.ts","./GameGlobal.ts","./GlobalConfig.ts","./GlobalManager.ts","./TgCocosManager.ts","./AudioManage.ts","./LanguageData.ts","./BundleUtil.ts"],(function(e){var t,a,n,o,i,r,s,l,c,d,u,p,g,h,f,m,b,S,y,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){n=e.cclegacy,o=e.Node,i=e.ProgressBar,r=e.Label,s=e._decorator,l=e.director},function(e){c=e.default},function(e){d=e.default},function(e){u=e.default},function(e){p=e.default},function(e){g=e.TelegramWebApp},function(e){h=e.GameGlobal},function(e){f=e.default},function(e){m=e.default},function(e){b=e.TgCocosManager},function(e){S=e.AudioManage},function(e){y=e.LanguageData},function(e){B=e.default}],execute:function(){var _,v,L,w,M,A,P,C,D,I,U,x,z;n._RF.push({},"01661QwHK5OCaBTfdK1IIky","BootstrapScene",void 0);const{ccclass:G,property:R}=s;e("BootstrapScene",(_=G("BootstrapScene"),v=R(o),L=R({type:i,tooltip:"进度条"}),w=R({type:r,tooltip:"进度文字"}),M=R({type:r,tooltip:"版本号"}),A=R(o),_((D=t((C=class extends u{constructor(){super(...arguments),a(this,"imgNode",D,this),a(this,"progressBar",I,this),a(this,"progressLabel",U,this),a(this,"versionLabel",x,this),a(this,"mainBg",z,this),this._nextScene="MainScene",this.progressBlock={login:{name:"登录",p:10,function:this.login.bind(this),loadData:!0},preLoadAudio:{name:"预加载音效",p:20,function:this.preloadAudio.bind(this)},preLoadRes:{name:"预加载UI资源",p:5,function:this.preloadRes.bind(this)},preLoadScene:{name:"预加载场景",p:20,function:this.preloadScene.bind(this)},preLoadData:{name:"预加载远程数据",p:10,function:this.preloadData.bind(this),loadData:!0}},this._preloadSceneProgress=0,this._dotCount=0}get options(){return c.sceneOptions}onLoad(){}start(){d.init("tg-fruit",{key:"tg-fruit",iv:"tg-fruit"}),this.scheduleOnce((()=>{document?.querySelector("#bootstrpDiv")?.remove()}));const e=new URLSearchParams(location.search).get("scene")??"";this.show({scene:e})}onDestroy(){}async onLoadInit(){this._initInfo?.page&&(this._nextScene=this._initInfo.page),this.versionLabel.string=f.version+"."+f.childVersion,await m.init(),await y.loadAllLanguage(),m.moduleManager("serverManager").initServer("server_System"),console.log("全局信息初始化完成")}async preloadRes(){await Promise.all([B.loadBundle("switchEffect",{loadAllres:!0}),B.loadBundle("mainPanel",{loadAllres:!0}),B.loadBundle("UiPopup",{loadAllres:!0})])}async preloadScene(){this._preloadSceneProgress=0;await new Promise((e=>{l.preloadScene(this._nextScene,((e,t)=>{let a=e/(t=t<100?100:t);if(this._preloadSceneProgress<a&&a<1){let e=a*this.progressBlock.preLoadScene.p;this._preloadSceneProgress<e&&(this._preloadSceneProgress=e)}}),(()=>{e()}))}))}async preloadData(){}async preloadAudio(){m.moduleManager("audioManager").preloadAudioClip("ALL"),S.init()}async login(){await Promise.all([g.Instance.init(),b.instance.init(),h.instance.init(),m.moduleManager("inviteManager").initInviteConfig()]);const e=g.Instance.getTelegramUser();console.log("用户信息",e)}async loadedDataAndAutoHandle(){B.loadBundle("ActiveCard",{loadAllres:!0});await m.moduleManager("serverManager").callServer("server_System").initServerConfig()||await m.moduleManager("uiPopupManager").showConfirm("网络错误,请稍后重试"),p.show("ActiveCard")}async completeAllProgress(){this._changeScene()}_changeScene(){c.changeScene(this._nextScene,{fromScene:"BootstrapScene"})}progressUpdate(e){this._dotCount++,this._dotCount>80&&(this._dotCount=0),this.progressLabel.string=`${y.translate("Loading")} ${". ".repeat(Math.floor(this._dotCount/20))} ${0|e}%`,this.progressBar.progress=Math.min(e/100,1),e>=100&&(this.progressBar.node.active=!1)}}).prototype,"imgNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(C.prototype,"progressBar",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(C.prototype,"progressLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(C.prototype,"versionLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(C.prototype,"mainBg",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=C))||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/BundleLayer.ts",["cc","./BundleUtil.ts"],(function(t){var e,i,n,a,s,o,r,h,d,l;return{setters:[function(t){e=t.cclegacy,i=t._decorator,n=t.Component,a=t.RenderRoot2D,s=t.director,o=t.instantiate,r=t.Node,h=t.Widget,d=t.Layers},function(t){l=t.default}],execute:function(){var c,u;e._RF.push({},"b869fLRQ4xGk4Xzo73z3W09","BundleLayer",void 0);const{ccclass:p,property:y}=i;t("default",p(((u=class t extends n{constructor(){super(...arguments),this._initInfo=void 0,this._showInfo=void 0,this.myBundleName=null}static async preload(t,e,i){if(this.instanceMap[t])if(this.instanceMap[t].children)if(e){if(e.uuid!=this.instanceMap[t].parent?.uuid){if(this._isUI(e)&&this._isUI(this.instanceMap[t])){this.instanceMap[t].getComponent(a)?.destroy()}this.instanceMap[t].parent=e,this._updateAllAlignment(this.instanceMap[t])}}else s.isPersistRootNode(this.instanceMap[t])||this.destroy(t);else this.instanceMap[t]=null;if(!this.instanceMap[t]){let n=await l.loadPrefab(t);if(!n)return null;if(this.instanceMap[t])return this.instanceMap[t];let h=this.instanceMap[t]=o(n);if(h.active=!1,e){if(!e.isValid)return null;e.addChild(h),this._updateAllAlignment(h)}else s.addPersistRootNode(h),this._isUI(h)&&!h.getComponent(a)&&h.addComponent(a);let d=h.getComponent(t);d&&(d.myBundleName=t,h.on(r.EventType.NODE_DESTROYED,d._destroySelf,this)),d?.onInit&&(d._initInfo=i,await d.onInit(i))}return this.instanceMap[t]}static _updateAllAlignment(t){let e=t.getComponent(h);e&&(e.updateAlignment(),t.children.forEach((t=>this._updateAllAlignment(t))))}static async destroy(t,e,i,n){if(void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===n&&(n=!1),!this.instanceMap[t])return;let a=this.instanceMap[t].getComponent(t);a?await a.destroySelf(e,i,n):e&&e&&l.releaseBundle(t)}static async show(t,e){if(e?.recordShowTime&&this.instanceMap[t]&&this.instanceMap[t].active&&this.instanceMap[t].parent?.uuid==e?.parent?.uuid&&this.layerShowCount[t])return void this.layerShowCount[t]++;this.layerShowCount[t]=1;let i=await this.preload(t,e?.parent,e?.initInfo);if(!i)return this.layerShowCount[t]=0,null;if(void 0!==e?.zOrder&&i.setSiblingIndex(e.zOrder),!this.layerShowCount[t])return;i.active=!0;let n=i.getComponent(t);return n&&n.__onShow&&(n._showInfo=e?.showInfo,await n.__onShow(e?.showInfo,e?.playAudio)),i}static async hide(t,e){if(void 0===e&&(e=!0),!this.instanceMap[t])return;if(!this.instanceMap[t].isValid)return void delete this.instanceMap[t];if(this.layerShowCount[t]&&!this.isActive(t))return void this.layerShowCount[t]--;this.layerShowCount[t]=0;let i=this.instanceMap[t].getComponent(t);i&&i.__onHide&&await i.__onHide(e),this.instanceMap[t].active=!1}static getNode(t){return this.instanceMap[t]}static isActive(t){return this.instanceMap[t]&&this.instanceMap[t].active}static _isUI(t){return t.layer===d.Enum.UI_2D}async hideSelf(){await t.hide(this.myBundleName)}async destroySelf(e,i,n){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===n&&(n=!1),this.isValid&&i&&this.__onHide&&this.node.active&&await this.__onHide(n),t.instanceMap[this.myBundleName].isValid&&t.instanceMap[this.myBundleName].destroy(),delete t.instanceMap[this.myBundleName],e&&l.releaseBundle(this.myBundleName)}async __onShow(t,e){return await this.onShow(t)}async __onHide(t){return void 0===t&&(t=!0),await this.onHide(t)}async onInit(t){}async onShow(t){}async preShow(t){}async otherUpdateInfo(){}async gotoPrevious(e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);const n=t.panelStack.pop(),a=n.names,s=n.init,o=n.show;await Promise.all([n&&t.previewShow(a,{initInfo:s,showInfo:o}),this.destroySelf(e,i,!0)])}static async previous(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);const a=t.panelStack.pop(),s=a.names,o=a.init,r=a.show;await Promise.all([a&&t.previewShow(s,{initInfo:o,showInfo:r}),t.destroy(e,i,n)])}static async previewShow(t,e){if(e?.recordShowTime&&this.instanceMap[t]&&this.instanceMap[t].active&&this.instanceMap[t].parent?.uuid==e?.parent?.uuid&&this.layerShowCount[t])return void this.layerShowCount[t]++;this.layerShowCount[t]=1;let i=await this.preload(t,e?.parent,e?.initInfo);if(!i)return this.layerShowCount[t]=0,null;if(void 0!==e?.zOrder&&i.setSiblingIndex(e.zOrder),!this.layerShowCount[t])return;i.active=!0;let n=i.getComponent(t);return n&&n.__preShow&&(n._showInfo=e?.showInfo,await n.__preShow(e?.showInfo,e?.playAudio)),i}async __preShow(t,e){return await this.preShow(t)}async onHide(t){}_destroySelf(){this.myBundleName&&t.instanceMap[this.myBundleName]&&delete t.instanceMap[this.myBundleName],this.myBundleName=null}}).instanceMap={},u.layerShowCount={},u.panelStack=[],c=u))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/BundlePool.ts",["cc","./BundleUtil.ts","./NodePoolUtil.ts"],(function(e){var o,t,n,i,l,s,r,a;return{setters:[function(e){o=e.cclegacy,t=e._decorator,n=e.Component,i=e.director,l=e.RenderRoot2D,s=e.Layers},function(e){r=e.default},function(e){a=e.default}],execute:function(){var d,c;o._RF.push({},"be14drpX9dEB74x49/dKb7R","BundlePool",void 0);const{ccclass:u,property:f}=t;e("default",u(((c=class e extends n{constructor(){super(...arguments),this._initInfo=void 0,this._showInfo=void 0,this.myBundleName=null}static async create(o,t,n){let s=o+e.nameSuffix;if(!a.havePool(s)){let e=await r.loadPrefab(o);if(!e)return console.error("BundlePool Create _prefab",null),null;a.createNodePool(s,e,2)}if(!t)return null;let d=a.getNodeFromPool(s,s);if(d){if(d.active=!1,"root"===t)i.addPersistRootNode(d),this.isUI(d)&&!d.getComponent(l)&&d.addComponent(l);else{if(!t.isValid)return console.error("父节点已被销毁"),null;if(this.isUI(d)&&this.isUI(t)){d.getComponent(l)?.destroy()}t.addChild(d)}let e=d.getComponent(o);return e?(e.myBundleName=o,e._initInfo=n,e.onInit&&await e.onInit(n),e):(console.error("BundlePool 组件获取失败"),null)}return null}static remove(o,t){let n=o+e.nameSuffix;a.recycleNode(n,t,n)}static destroyAll(o,t){void 0===t&&(t=!1);let n=o+e.nameSuffix;a.recycleNodeByTag(n),t&&a.destroyNodePool(n)}static async show(e,o,t){let n=await this.create(e,o||"root",t?.initInfo);if(!n)return console.error("BundlePool Show",null),null;let i=n.getComponent(e);return i||console.error("[BundlePool]getNodeClass 获取_class失败",e),await(i?.show({zOrder:t?.zOrder,showInfo:t?.showInfo})),i}static getNodeClass(e,o){let t=o.getComponent(e);return t||console.error("[BundlePool]getNodeClass 获取_class失败",e),t}static isUI(e){return e.layer===s.Enum.UI_2D}async show(e){this.node.active||(this.node.active=!0,null!=e?.zOrder&&this.node.setSiblingIndex(e?.zOrder),this.onShow&&(this._showInfo=e?.showInfo,await this.onShow(e?.showInfo)))}async hideSelf(){this.node.active&&(this.onHide&&await this.onHide(),this.node.active=!1)}onInit(e){}onShow(e){}onHide(){}async removeSelf(o){void 0===o&&(o=!1),o&&await this.hideSelf();let t=this.myBundleName+e.nameSuffix;a.recycleNode(t,this.node,t)}}).nameSuffix="BundlePool",d=c))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/BundleUtil.ts",["cc","./Logger.ts","./TimeUtil.ts"],(function(e){var l,t,r,n,a,i;return{setters:[function(e){l=e.assetManager,t=e.SpriteFrame,r=e.Prefab,n=e.cclegacy},function(e){a=e.Logger},function(e){i=e.TimeUtil}],execute:function(){n._RF.push({},"aeb8extWBFBkZ+FxeJFPj2n","BundleUtil",void 0);class s{static async loadPrefab(e,l){let t={retryTime:5,retrydelay:100,bundleName:e};if(l)for(const e in l)null!=l[e]&&(t[e]=l[e]);console.time("加载bundle_"+e);let n=await this.loadBundle(t.bundleName,{delayRetry:t.retrydelay,loadAllres:!0,tryTime:t.retryTime});return console.timeEnd("加载bundle_"+e),n?new Promise((l=>{n&&0!=t.retryTime?l(n.get(e,r)):l(null)})):null}static async loadBundle(e,t){if(0===t?.tryTime)return null;t||(t={}),t.delayRetry||(t.delayRetry=100),t.tryTime||(t.tryTime=5);let r=l.getBundle(e);return!r||t.loadAllres&&!r.loadedAllres?new Promise((n=>{let a,s="";t?.url&&t?.url.path&&(s=t.url.path,"/"!=s[s.length-1]&&(s+="/"),t.url.version&&(a={version:t.url.version})),s+=e;let u=()=>{r=l.getBundle(e),r&&r.loadDir("",(async(e,l)=>{if(e)return console.error(e),void setTimeout((()=>{u()}),100);r.loadedAllres=!0,n(r)}))};r?t?.loadAllres?u():n(r):l.loadBundle(s,a,(async(l,r)=>{l?(console.error("loadBundle 出错",l),await i.wait(t?.delayRetry),t?.tryTime&&t.tryTime--,n(await this.loadBundle(e,t))):t?.loadAllres?u():n(r)}))})):r}static releaseBundle(e){let t=l.getBundle(e);t&&(t.releaseAll(),l.removeBundle(t))}static async getSpriteFrameInBundle(e,l,r){let n=await this.loadBundle(e,r);if(!n)return null;let i=this.bundleSpriteList.get(l);return i||new Promise((e=>{n.load(l+"/spriteFrame",t,((t,r)=>{t&&a.logError(t,"getSpriteFrameInBundle "),this.bundleSpriteList.set(l,r),e(r||null)}))}))}static async getPrefabByBundle(e,l){let t=await this.loadBundle(l,{loadAllres:!0});return t?t.get(e,r):null}}e("default",s),s.bundleSpriteList=new Map,n._RF.pop()}}}));

System.register("chunks:///_virtual/BusinessCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimeUtil.ts","./UIFriendRepeater.ts"],(function(e){var i,t,s,n,r,a,o,c,l;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){s=e.cclegacy,n=e.EditBox,r=e.Node,a=e._decorator,o=e.Component},function(e){c=e.TimeUtil},function(e){l=e.default}],execute:function(){var u,h,p,d,m,g,b,f,y,w,v,C,x,B,_,z,P,S,M;s._RF.push({},"a3bb4fc4e5CD6z7Mp7x5oqw","BusinessCard",void 0);const{ccclass:U,property:N}=a;e("BusinessCard",(u=U("BusinessCard"),h=N(n),p=N(n),d=N(n),m=N(n),g=N(n),b=N(n),f=N(r),y=N(r),u((C=i((v=class extends o{constructor(){super(...arguments),t(this,"editName",C,this),t(this,"phone",x,this),t(this,"company",B,this),t(this,"department",_,this),t(this,"interest",z,this),t(this,"introduction",P,this),t(this,"save",S,this),t(this,"close",M,this),this.exchangeInfo=void 0}onLoad(){this.save.on("click",this._onSave,this),this.close.on("click",this._onClose,this)}start(){}async show(e,i){this.exchangeInfo=i,e&&e.uid!=l.userManager.myself.uid?this.save.active=!1:this.save.active=!0,e&&(this.editName.string=e.name,this.phone.string=e.phone,this.company.string=e.companyName||"",this.department.string=e.department||"",this.interest.string=e.hobby,this.introduction.string=e.introduction||"")}_onSave(){""!=this.editName.string&&""!=this.phone.string&&""!=this.interest.string?c.soloFunction((async()=>{const e=await l.serverRoom.callApi("room/userBusinessCard/SaveUserBusinessCard",{data:{name:this.editName.string,phone:this.phone.string,companyName:this.company.string,department:this.department.string,hobby:this.interest.string,introduction:this.introduction.string}});e.isSucc?(l.uiPopupManager.showTips("保存成功"),this.exchangeInfo&&this._exchangeCard(!0),this.node.active=!1):l.uiPopupManager.showTips(e.err.message)})):l.uiPopupManager.showTips("请填写必填项")}_onClose(){this.exchangeInfo&&this._exchangeCard(!1),this.node.active=!1}async _exchangeCard(e){let i=this.exchangeInfo,t=l.userManager.getUser(i.uid);if(e){let e=await l.uiPopupManager.showConfirm(`已经完善名片\n用户 ${t.nickname} 请求与你交换名片`,{btnPrimaryText:"确 定",btnSecondaryText:"取 消"});const s=await l.serverRoom.callApi("room/userBusinessCard/SwitchUserBusinessProcess",{fromUid:i.uid,isAgree:e});s.isSucc||l.uiPopupManager.showTips(s.err.message)}else{(await l.serverRoom.callApi("room/userBusinessCard/SwitchUserBusinessProcess",{fromUid:i.uid,isAgree:!1})).isSucc}}}).prototype,"editName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(v.prototype,"phone",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(v.prototype,"company",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(v.prototype,"department",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(v.prototype,"interest",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(v.prototype,"introduction",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(v.prototype,"save",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(v.prototype,"close",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=v))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonType.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b8a504hhDFHBqG0dP33CVbY","ButtonType",void 0);t("EBtnType",function(t){return t.buy="buy",t.share="share",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/BuyButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtil.ts","./GameGlobal.ts","./ButtonType.ts"],(function(t){var e,n,o,i,r,u,s,c,a,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,i=t.Sprite,r=t._decorator,u=t.Component,s=t.Button},function(t){c=t.NodeUtil},function(t){a=t.GameGlobal},function(t){l=t.EBtnType}],execute:function(){var y,p,b,h,B,f,g,d;o._RF.push({},"545d29EBx5KTK3igFvAi+X2","BuyButton",void 0);const{ccclass:m,property:I}=r;t("BuyButton",(y=m("BuyButton"),p=I(i),b=I(i),y((f=e((B=class extends u{constructor(){super(...arguments),n(this,"key",f,this),n(this,"buyIcon",g,this),n(this,"shareIcon",d,this)}start(){const t=this.node.parent?.getComponent(s);t?c.BtnOnClick(t,(()=>{this.getBuyInfo().btnType===l.buy?a.instance.pay(this.key):a.instance.share(this.key)})):console.error("此脚本只能挂载在按钮上")}getBuyInfo(){return a.instance.gameButtonConfig[this.key]}onEnable(){const t=this.getBuyInfo().btnType===l.buy;this.buyIcon.node.active=t,this.shareIcon.node.active=!t}update(t){}}).prototype,"key",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=e(B.prototype,"buyIcon",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(B.prototype,"shareIcon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=B))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCProgressBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MathUtil.ts"],(function(t){var e,r,o,s,i,n,a,h,p,c,_,u,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty},function(t){o=t.cclegacy,s=t.Enum,i=t.v2,n=t.v3,a=t.UITransform,h=t.Node,p=t.CCFloat,c=t._decorator,_=t.Component,u=t.Size},function(t){d=t.default}],execute:function(){var l,g,b,y,m,N,L,f,O,C,P,v;o._RF.push({},"db1b4rhLx1PYpUc98vOSAqS","CCProgressBar",void 0);var w=function(t){return t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL",t}(w||{});s(w);const T=i(),A=(i(),n()),{ccclass:R,property:S,requireComponent:z}=c;t("CCProcessBar",(l=R("CCProcessBar"),g=z(a),b=S(h),y=S({type:w}),m=S({type:p,range:[0,1],step:.1,slide:!0}),l(N=g((f=e((L=class extends _{constructor(){super(...arguments),r(this,"_barNode",f,this),r(this,"_mode",O,this),r(this,"_progress",C,this),r(this,"_reverse",P,this),r(this,"_totalLength",v,this)}get barNode(){return this._barNode}set barNode(t){this._barNode!==t&&(this._barNode=t,this._initBarNode())}get mode(){return this._mode}set mode(t){if(this._mode!==t&&(this._mode=t,this._barNode)){const t=this._barNode._uiProps.uiTransformComp.contentSize;this._mode===w.HORIZONTAL?this.totalLength=t.width:this._mode===w.VERTICAL&&(this.totalLength=t.height)}}get progress(){return this._progress}set progress(t){this._progress!==t&&(this._progress=t,this._updateBarStatus())}get reverse(){return this._reverse}set reverse(t){this._reverse!==t&&(this._reverse=t,this._barNode&&this._barNode.scale,this._updateBarStatus())}get totalLength(){return this._totalLength}set totalLength(t){this._totalLength!==t&&(this._totalLength=t,this._updateBarStatus())}_initBarNode(){if(this._barNode){const t=this.node._uiProps.uiTransformComp,e=t.contentSize,r=t.anchorPoint,o=this._barNode._uiProps.uiTransformComp.contentSize;if(this._mode===w.HORIZONTAL?this.totalLength=o.width:this._mode===w.VERTICAL&&(this.totalLength=o.height),this._barNode.parent===this.node){const t=-e.width*r.x;this._barNode.setPosition(t,0,0)}}}_updateBarStatus(){if(this._barNode){const t=this._barNode._uiProps.uiTransformComp,e=t.anchorPoint,r=t.contentSize;let o=T.set(0,.5);const s=d.clamp(this._progress,0,1);let i=this._totalLength*s,n=r,a=0,h=0;switch(this._mode){case w.HORIZONTAL:this._reverse&&(o=T.set(1,.5)),n=new u(i,r.height),a=this._totalLength,h=r.height;break;case w.VERTICAL:o=this._reverse?T.set(.5,1):T.set(.5,0),n=new u(r.width,i),a=r.width,h=this._totalLength}const p=o.x-e.x,c=o.y-e.y,_=A.set(this._barNode.position);_.add3f(a*p,h*c,0),this._barNode.setPosition(_),t.setAnchorPoint(o),t.setContentSize(n)}}}).prototype,"_barNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(L.prototype,"barNode",[b],Object.getOwnPropertyDescriptor(L.prototype,"barNode"),L.prototype),O=e(L.prototype,"_mode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.HORIZONTAL}}),e(L.prototype,"mode",[y],Object.getOwnPropertyDescriptor(L.prototype,"mode"),L.prototype),C=e(L.prototype,"_progress",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),e(L.prototype,"progress",[m],Object.getOwnPropertyDescriptor(L.prototype,"progress"),L.prototype),P=e(L.prototype,"_reverse",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(L.prototype,"reverse",[S],Object.getOwnPropertyDescriptor(L.prototype,"reverse"),L.prototype),v=e(L.prototype,"_totalLength",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(L.prototype,"totalLength",[S],Object.getOwnPropertyDescriptor(L.prototype,"totalLength"),L.prototype),N=L))||N)||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/CollectionDbType.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"2b5a712DbRA8ad40cwaGs2k","CollectionDbType",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/CommonDeclear.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"2e342ZvjbFLUYpGrz264/CK","CommonDeclear",void 0);e("EUserSex",function(e){return e.female="female",e.male="male",e}({}));c._RF.pop()}}}));

System.register("chunks:///_virtual/CommonField.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"2e4edS8R21CeInAMghr/2Gi","CommonField",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Confirm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ActionUtil.ts","./UIPopupDeclare.ts"],(function(t){var e,i,n,r,o,a,s,l,c,u,h,p,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Label,o=t.RichText,a=t.Sprite,s=t.Node,l=t._decorator,c=t.Component,u=t.Color,h=t.SpriteFrame},function(t){p=t.default},function(t){m=t.PopupConfig}],execute:function(){var b,g,d,y,f,S,w,C,_,v,F,x;n._RF.push({},"be83aagWutGaKRynKpZLqcc","Confirm",void 0);const{ccclass:P,property:T,requireComponent:z}=l;t("Confirm",(b=T(r),g=T(o),d=T(a),y=T(s),f=T(s),P((C=e((w=class extends c{constructor(){super(...arguments),i(this,"labelTitle",C,this),i(this,"textContent",_,this),i(this,"image",v,this),i(this,"btnPrimary",F,this),i(this,"btnSecondary",x,this),this._options=void 0,this._rsShow=void 0}get options(){return this._options}async show(t){return p.show(this.node.getChildByName("popup")),this._options=t,this.labelTitle.string=t.title||m.confirmTitle,this.textContent.string=`<color=#${new u("#2F2F2F").toHEX()}>`+t.content+"</color>",this.btnSecondary.active=!!t.btnSecondaryText,t.btnSecondaryText&&(this.btnSecondary.getChildByName("label").getComponent(r).string=t.btnSecondaryText),t.image?(this.image.node.active=!0,this.image.spriteFrame=null,t.image instanceof h?this.image.spriteFrame=t.image:t.image instanceof Promise&&(this.image.spriteFrame=null,t.image.then((t=>{this.image.spriteFrame=t})))):this.image.node.active=!1,new Promise((t=>{this._rsShow=t}))}async hide(t){await p.hide(this.node.getChildByName("popup")),this._rsShow?.(t),this._rsShow=void 0}async onBtnPrimary(){return this.hide(!0)}async onBtnSecondary(){return this.hide(!1)}}).prototype,"labelTitle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(w.prototype,"textContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(w.prototype,"image",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(w.prototype,"btnPrimary",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(w.prototype,"btnSecondary",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=w))||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/ConfirmExitLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventUtil.ts","./NodeUtil.ts","./PanelBaseOrigin.ts","./GameLogic.ts","./BundleLayer.ts","./GlobalManager.ts"],(function(e){var t,n,a,i,o,s,l,r,c,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){a=e.cclegacy,i=e.Button,o=e._decorator},function(e){s=e.default},function(e){l=e.NodeUtil},function(e){r=e.default},function(e){c=e.GameLogic},function(e){u=e.default},function(e){d=e.default}],execute:function(){var f,p,g,m,h,b;a._RF.push({},"b3771kzqEBFFIvl6Cd4WZ8Y","ConfirmExitLayer",void 0);const{ccclass:B,property:y}=o;e("default",(f=y(i),p=y(i),B((h=t((m=class extends r{constructor(){super(...arguments),n(this,"okBtn",h,this),n(this,"cancelBtn",b,this)}onLoad(){l.ListenBtnsClick([this.okBtn,this.cancelBtn],(e=>{switch(e.node.name){case"okBtn":this.backHome();break;case"cancelBtn":this.onClose()}}))}async backHome(){d.moduleManager("uiPopupManager").showLoading("Loading..."),await u.preload("mainPanel"),await u.show("mainPanel"),u.destroy("gamePanel",!1),d.moduleManager("uiPopupManager").hideLoading()}onEnable(){this.windowShow(),c.instance.pauseGame()}onDisable(){s.targetOff(this),c.instance.resumeGame()}start(){}}).prototype,"okBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(m.prototype,"cancelBtn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=m))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/ConvertPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventUtil.ts","./LoadUtil.ts","./ActionUtil.ts","./ExchangeCenterRepeater.ts"],(function(e){var t,n,i,o,r,a,s,l,c,h,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Node,r=e.Sprite,a=e.Label,s=e._decorator,l=e.Component},function(e){c=e.default},function(e){h=e.default},function(e){u=e.default},function(e){p=e.default}],execute:function(){var g,d,f,b,x,m,C,I,y,_,v,w,P,z,S;i._RF.push({},"71bfej6eABJ5oVtf9FZlpDj","ConvertPopup",void 0);const{ccclass:k,property:N}=s;e("ConvertPopup",(g=k("ConvertPopup"),d=N(o),f=N(o),b=N(o),x=N(r),m=N(a),C=N(r),g((_=t((y=class extends l{constructor(){super(...arguments),n(this,"parentNode",_,this),n(this,"nextBtn",v,this),n(this,"close",w,this),n(this,"icon",P,this),n(this,"num",z,this),n(this,"goldIcon",S,this),this._exchangeInfo=void 0}onLoad(){this.nextBtn.on("click",this._onClickNext,this),this.close.on("click",this.onClickClose,this)}async show(e){h.getSpriteFrameIntelligent(p.pointImage,(e=>e&&this.goldIcon&&this.goldIcon.isValid&&(this.goldIcon.spriteFrame=e))),this.node.setSiblingIndex(this.node.parent.children.length),await u.show(this.parentNode),this._updateConvertInfo(e)}async onClickClose(){await u.hide(this.parentNode),this.node.active=!1}_updateConvertInfo(e){this._exchangeInfo=e,this.num.string=e.needAmount.toString(),h.getSpriteFrameIntelligent(e.prizePicture,(e=>e&&this.icon&&this.icon.isValid&&(this.icon.spriteFrame=e)))}async _onClickNext(){this.onClickClose(),this._onExchange()}async _onExchange(){let e=await p.exchangePrize(this._exchangeInfo.exchangeId);e.isSucc?(p.gold=e.res.amount,c.emit("ExchangeSuccess"),p.exchangeCenterManager.showSuccessPopup(this._exchangeInfo,p.exchangeCenterManager.exchangeNode.parent)):p.getUiPopup().showTips(e.err.message)}}).prototype,"parentNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(y.prototype,"nextBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(y.prototype,"close",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(y.prototype,"icon",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(y.prototype,"num",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(y.prototype,"goldIcon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=y))||I));i._RF.pop()}}}));

System.register("chunks:///_virtual/CostType.ts",["cc"],(function(E){var e;return{setters:[function(E){e=E.cclegacy}],execute:function(){e._RF.push({},"cc4e2fJv69EDoxIit9Pe7Au","CostType",void 0);E("CostType",function(E){return E.GAME="GAME",E.DRAW="DRAW",E.EXCHANGE="EXCHANGE",E.SYSTEM="SYSTEM",E.SCORE="SCORE",E.AMOUNT="AMOUNT",E.SHARE="SHARE",E}({}));E("CostTypeName",{GAME:"游戏",DRAW:"抽奖",EXCHANGE:"兑换",SYSTEM:"系统赠送",SCORE:"积分",AMOUnT:"金额",SHARE:"分享"});e._RF.pop()}}}));

System.register("chunks:///_virtual/customButtom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalManager.ts","./TimeUtil.ts"],(function(t){var e,i,n,r,o,a,s,u,c,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.CCInteger,o=t.CCFloat,a=t.CCBoolean,s=t._decorator,u=t.Button,c=t.EventHandler},function(t){l=t.default},function(t){p=t.TimeUtil}],execute:function(){var h,d,_,b,m,f,g,y,B,C,T;n._RF.push({},"b444dDAGGJGtILm7em8LAWZ","customButtom",void 0);const{ccclass:v,property:w}=s;t("CustomButton",(h=v("CustomButton"),d=w(r),_=w(o),b=w(o),m=w(a),h((y=e((g=class extends u{constructor(){super(...arguments),i(this,"waitTime",y,this),i(this,"_duration",B,this),i(this,"_zoomScale",C,this),i(this,"playAudio",T,this),this._pressed=void 0}_onTouchEnded(t){this._interactable&&this.enabledInHierarchy&&(this._pressed&&(this.node.emit(u.EventType.CLICK,this),p.buttonWait("btn",this.waitTime??100)||(this.playAudio&&l.moduleManager("audioManager").clickBtn(),c.emitEvents(this.clickEvents,t))),this._pressed=!1,this._updateState(),t&&(t.propagationStopped=!0))}_onTouchBegan(t){this._interactable&&this.enabledInHierarchy&&(this._pressed=!0,super._onTouchBegan(t))}_onTouchCancel(t){this._interactable&&this.enabledInHierarchy&&(this._pressed=!1,super._onTouchCancel(t))}_getButtonState(){let t=super._getButtonState();return 2!=t||this._pressed?t:0}}).prototype,"waitTime",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),B=e(g.prototype,"_duration",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),C=e(g.prototype,"_zoomScale",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.96}}),T=e(g.prototype,"playAudio",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=g))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/CustomGoodsType.ts",["cc"],(function(o){var e;return{setters:[function(o){e=o.cclegacy}],execute:function(){e._RF.push({},"e8bfbkn+GBACIV8S3PySU+z","CustomGoodsType",void 0);o("CustomGoodsType",function(o){return o.KIND="KIND",o.VIRTUAL="VIRTUAL",o}({}));o("CustomGoodsTypeName",{KIND:"实物商品",VIRTUAL:"虚拟商品"});e._RF.pop()}}}));

System.register("chunks:///_virtual/CustomScrollViewWithPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataUtil.ts"],(function(e){var t,i,s,h,n,r,o,l,a,c,d,_,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){s=e.cclegacy,h=e.Prefab,n=e.ScrollView,r=e.Node,o=e.CCBoolean,l=e._decorator,a=e.Component,c=e.UITransform,d=e.rect,_=e.Rect,u=e.instantiate},function(e){p=e.default}],execute:function(){var w,f,m,g,P,y,b,v,C,N;s._RF.push({},"de2ccIBpc9H+JYzQCICPw6v","CustomScrollViewWithPrefab",void 0);const{ccclass:H,property:S}=l;e("CustomScrollViewWithPrefab",(w=S(h),f=S(n),m=S(r),g=S(o),H((b=t((y=class extends a{constructor(){super(...arguments),i(this,"prefab",b,this),i(this,"scrollView",v,this),i(this,"itemParent",C,this),i(this,"isHoldNode",N,this),this._showingList=[],this._foreUpdate=!1,this._isTouching=!1,this._allHideItems=[],this._allHidePlaceNode=[],this._dateList=[],this._callBack=void 0,this._viewRect=void 0}get dateList(){return this._dateList}set dateList(e){this._dateList=e,this.refreshList()}refreshList(){if(!this.itemParent)return;const e=this._dateList.length-this.itemParent.children.length;if(e<0)for(let t=e;t<0;t++){let e=this.itemParent.children.length+t;this._recycleNode(this.itemParent.children[e])}else if(e>0)for(let t=0;t<e;t++){let e=this._createPlaceHoldNode();e.parent=this.itemParent,e.active=!0}this.scheduleOnce((()=>{this._foreUpdate=!0})),this._dateList.forEach(((e,t)=>{if(p.isEqual(e,this._showingList[t]))return;this._showingList[t]=p.deepClone(e);let i=this.itemParent.children[t];this._isItem(i)&&this._callBack?.(this._showingList[t],i,t)}))}setPrefabData(e){this._callBack=e}onLoad(){if(this.node.on(r.EventType.MOUSE_WHEEL,this.refreshList,this),!this.scrollView&&(this.scrollView=this.node.getComponent(n),!this.scrollView))throw new Error("can only use CustomScrollViewWithPrefab in ScrollView");this.itemParent||(this.itemParent=this.scrollView.content),this._isTouching=!1,this.node.on(r.EventType.TOUCH_START,(()=>{this.unschedule(this._delayUp),this._isTouching=!0})),this.node.on(r.EventType.TOUCH_MOVE,(()=>{this._isTouching=!0})),this.node.on(r.EventType.TOUCH_END,(()=>{this.scheduleOnce(this._delayUp)})),this.node.on(r.EventType.TOUCH_CANCEL,(()=>{this.scheduleOnce(this._delayUp)}))}_delayUp(){this._isTouching=!1}onEnable(){this.unschedule(this._delayUp),this._isTouching=!1,this.itemParent.active=!1,this.refreshList();let e=()=>{this.itemParent.active=!0};this.unschedule(e),this.scheduleOnce(e)}onDisable(){this.unschedule(this._delayUp),this.itemParent.active=!1}lateUpdate(){(this._foreUpdate||this.scrollView&&(this.scrollView.isAutoScrolling()||this._isTouching))&&(this._foreUpdate=!1,this._refreshShowState())}_getViewRect(){if(!this.scrollView)return null;const{contentSize:e,anchorPoint:t}=this.scrollView.node.getComponent(c),i=this.scrollView.node.worldPosition;return this._viewRect||(this._viewRect=d(0,0,0,0)),this._viewRect.x=i.x-e.width*t.x-0,this._viewRect.y=i.y-e.height*t.y-0,this._viewRect.width=e.width+0,this._viewRect.height=e.height+0,this._viewRect}_refreshShowState(){let e=this.itemParent.children,t=this._getViewRect();e.forEach((e=>this._refreshNode(e,t)))}_isItem(e){return"__holdNode"!=e.name}_refreshNode(e,t){const i=e.getComponent(c);let s=e.worldPosition,h=i.contentSize.width,n=i.contentSize.height,r=i.anchorX,o=i.anchorY,l=new _(s.x-r*h,s.y-o*n,h,n),a=t.intersects(l);if(this._isItem(e)==a)return;let d=e.getSiblingIndex();this._recycleNode(e),(e=this._createNode(a)).parent=this.itemParent,e.setSiblingIndex(d),a&&this._callBack?.(this._showingList[d],e,d),e.active=!0}_createNode(e){return e||!this.isHoldNode?this._createItem():this._createPlaceHoldNode()}_recycleNode(e){e.active=!1,e.removeFromParent(),this._isItem(e)?this._allHideItems.push(e):this._allHidePlaceNode.push(e)}_createPlaceHoldNode(){if(this._allHidePlaceNode.length>0)return this._allHidePlaceNode.pop();let e=new r("__holdNode"),t=e.addComponent(c),i=this.prefab.data.getComponent(c);return t.setContentSize(i.contentSize),t.setAnchorPoint(i.anchorPoint),e}_createItem(){if(this._allHideItems.length>0)return this._allHideItems.pop();return u(this.prefab)}}).prototype,"prefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(y.prototype,"scrollView",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(y.prototype,"itemParent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(y.prototype,"isHoldNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P=y))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/CustomTemplateBinder.ts",["cc"],(function(t){var e,s,n;return{setters:[function(t){e=t.cclegacy,s=t._decorator,n=t.Component}],execute:function(){var o,c;e._RF.push({},"ebda0MhpytPwIkPeZ+7XjA0","CustomTemplateBinder",void 0);const{ccclass:a,property:r}=s;t("_1CustomTemplate1_",a("_1CustomTemplate1_")(((c=class t extends n{onLoad(){t.instance=this}onDestroy(){t.instance=void 0}start(){}}).instance=void 0,o=c))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/CustomTemplateNormal.ts",["cc"],(function(t){var e,s,c;return{setters:[function(t){e=t.cclegacy,s=t.Component,c=t._decorator}],execute:function(){var o;e._RF.push({},"df275GbiEpJZrc86eW3vC9d","CustomTemplateNormal",void 0);const{ccclass:r,property:a}=c;t("_1CustomTemplate1_",r("_1CustomTemplate1_")(o=class extends s{start(){}})||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/CustomToggleUnselect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,s,n,r,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){s=e.cclegacy,n=e.Node,r=e._decorator,c=e.Component,l=e.Toggle}],execute:function(){var i,u,a,g;s._RF.push({},"936e5S/xTBO1b2ldeO2L/rV","CustomToggleUnselect",void 0);const{ccclass:p,property:d}=r;e("CustomToggleUnselect",(i=d(n),p((g=t((a=class extends c{constructor(){super(...arguments),o(this,"unselectMark",g,this)}onLoad(){let e=this.node.getComponent(l);e?(this.node.on("toggle",(()=>{this.unselectMark.active=!e?.isChecked}),this),this.unselectMark.active=!e?.isChecked):console.error("CustomToggleUnselect 只能挂在 Toggle 组件上")}}).prototype,"unselectMark",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=a))||u));s._RF.pop()}}}));

System.register("chunks:///_virtual/CustomTouchScrollView.ts",["cc"],(function(e){var o,c,t;return{setters:[function(e){o=e.cclegacy,c=e.ScrollView,t=e._decorator}],execute:function(){var r;o._RF.push({},"0dc445DmPpD+pqQrLYUPbao","CustomTouchScrollView",void 0);const{ccclass:u,property:s}=t;e("CustomTouchScrollView",u("CustomTouchScrollView")(r=class extends c{constructor(){super(...arguments),this._preventTouchMove=!1}start(){}_onTouchMoved(e,o){this._preventTouchMove||super._onTouchMoved(e,o)}set preventTouchMove(e){this._preventTouchMove=e}get preventTouchMove(){return this._preventTouchMove}})||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/DataUtil.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9a93dsKUKRAyrJdgm3+nwYh","DataUtil",void 0);t("default",class{static numberFixed(t,e){void 0===e&&(e=0);let r=1;for(let t=0;t<e;t++)r*=10;return Math.round(t*r)/r}static numberEqual(t,e,r){return void 0===r&&(r=2e-9),Math.abs(t-e)<r}static deepClone(t){if("object"!=typeof t)return t;let e=Array.isArray(t)?[]:{};for(let r in t)t.hasOwnProperty(r)&&(e[r]=this.deepClone(t[r]));return e}static isEqual(t,e){let r=typeof t;if(r!==typeof e)return!1;if("function"==r||"symbol"==r)return!0;if("object"!==r)return t===e;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!this.isEqual(t[n],e[n]))return!1;return!0}static getEnumKeys(t){const e=Object.keys(t);if(!e)throw new Error("请传入枚举类型");return e.filter((t=>!/^[0-9]*$/.test(t)))}static getEnumValueByKey(t,e){return t[e]}static getEnumValues(t){return this.getEnumKeys(t).map((e=>this.getEnumValueByKey(t,e)))}static setObjectAttribute(t,e,r){if(e in t)if("object"==typeof r){let n=t[e];for(let t in r)n[t]=r[t];t[e]=n}else t[e]=r;return t[e]}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbAccount.ts",["cc"],(function(){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"62498pNEGBCNrDqhDtVFjvE","DbAccount",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DbAccountLoginError.ts",["cc"],(function(){var c;return{setters:[function(n){c=n.cclegacy}],execute:function(){c._RF.push({},"73c6b0dV49O5Kfl8OnGszsv","DbAccountLoginError",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DbAccountLoginLog.ts",["cc"],(function(){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"fa120QBtzdAYZhVTNqr+EIr","DbAccountLoginLog",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DbAchievement.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"97109ie2ERGNKx7Mn7c1IHL","DbAchievement",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbActivityDrawInfo.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"21158Dz/khPNJoFv4c90DAn","DbActivityDrawInfo",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbActivityGoodsInfo.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"843e98ejidPBr6cWACEDKKY","DbActivityGoodsInfo",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbActivityInfo.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"f8804HcuUVK2pflupbaSgzI","DbActivityInfo",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbActivityQuizRepo.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"57f7coqnTdLM5gkFghghoKx","DbActivityQuizRepo",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbAdminLoginError.ts",["cc"],(function(){var n;return{setters:[function(r){n=r.cclegacy}],execute:function(){n._RF.push({},"aaa4dU5BCtAnqCanynX2PFN","DbAdminLoginError",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/DbAdminLoginLog.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"0e4ddsXweJK/L0ISr7fT70a","DbAdminLoginLog",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbAdminRole.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"27c78phxVNHq5gyC8NUG4Ed","DbAdminRole",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbAdminUser.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"e58b47/4LNHz6xWSZBZDnXe","DbAdminUser",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbAIConfig.ts",["cc"],(function(){var c;return{setters:[function(n){c=n.cclegacy}],execute:function(){c._RF.push({},"39cdcCRBbNInJygD0G/lBIp","DbAIConfig",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DbAIQuestion.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"22b9d+wfLNJoq9IJC20Rire","DbAIQuestion",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbAirdropConfig.ts",["cc"],(function(){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"1a068UqCEFOCY5lfBgyxlbp","DbAirdropConfig",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/DbAIUserChatLog.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"e9e9ftecItItYcBK8rAvbRW","DbAIUserChatLog",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbBagInfo.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"f1747DeRClLmbkeHSIyxhJa","DbBagInfo",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbCaptcha.ts",["cc"],(function(){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"2ce23TCb5FITJmrf7EcueqK","DbCaptcha",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DbCaptcha2.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"d5a86xhd7xLAZ8vpzyRkZQ2","DbCaptcha",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbCaptchaData.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"31166nsxAVKHZ2C124u23En","DbCaptchaData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbCaptchaData2.ts",["cc"],(function(){var t;return{setters:[function(a){t=a.cclegacy}],execute:function(){t._RF.push({},"87a9a4vEZpA+pO+p1+JLM6n","DbCaptchaData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbConfig.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"f79eaF8P+pJG479zxR9Tu48","DbConfig",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbDrawPrize.ts",["cc"],(function(){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"fb95btI6rNOdYrIYGz06ZFu","DbDrawPrize",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/DbExchangeConfig.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"0b7bfjeh2pMC6aaGyZDbx3I","DbExchangeConfig",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbExchangeLog.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"9c9d8kBwMBOsoE5NhvUyJtr","DbExchangeLog",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DbExchangePrize.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"fcea49raKdBPI2/xHPtsVp4","DbExchangePrize",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbExpressInfo.ts",["cc"],(function(){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"9848chBkR9Blrhfa1QFrNNr","DbExpressInfo",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbFriend.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"229fd3HNKFNJ5B4sD2M2qOx","DbFriend",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbFriendRelation.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b65ddHmjFlNS5O8ZO8mYH3Y","DbFriendRelation",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbFruitComposeLog%20.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a3b44RAYzBG3qpGFNIbUEBr","DbFruitComposeLog%20",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbFruitComposePrize.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3097bBuC+FB+rp4eiZFMTiF","DbFruitComposePrize",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbFruitDrawInfo.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"312e3ueLuNBxqmIGoWymcoL","DbFruitDrawInfo",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbFruitDrawLog.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"fc0a4S4h0NF44CHh7zbfNnG","DbFruitDrawLog",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbFruitDrawPrize.ts",["cc"],(function(){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"f1f64jHpINHYZQeKMLmJza3","DbFruitDrawPrize",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbFruitDrawUserPrize.ts",["cc"],(function(){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"47ac7EN1t9Kh6N0KgLyMJNf","DbFruitDrawUserPrize",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/DbFruitGame.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"98a43wx3o9BQ6LC6KQxxuKa","DbFruitGame",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbFruitInviteConfig.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"f305a1ZRXFNXIyuOH7b3v3U","DbFruitInviteConfig",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbFruitInviteMustLog.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"811c2XmhchILKg9JVfwQ8cc","DbFruitInviteMustLog",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbGameConfig.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a13e962AUhK94qLtD683cUq","DbGameConfig",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbGamePropsConfig.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e7c6aIkzoBOwbUU9zCRtynu","DbGamePropsConfig",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbGameUserRecord.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"86827EaV+xH14dNGKFk/Au8","DbGameUserRecord",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbGoods.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"e6a60imppFC6JhWd4K3g8cm","DbGoods",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DbGoods2.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"f07220qL81KTphy6OIE6dTB","DbGoods",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbGoodsLotteryRecord.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"01c83Nx1q1MGp/LazDTbIVm","DbGoodsLotteryRecord",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbIdCounter.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3bddfnsCXZHNpC/e2Wy0zPG","DbIdCounter",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbLotteryInfo.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"98f53kUAcxIQrtgrc/eBYXU","DbLotteryInfo",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbLotteryLog.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"2669bHVuItC8q3GA8hmTBNL","DbLotteryLog",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbLotteryPrize.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"5b823gcQthDMJhVEj8xlmcO","DbLotteryPrize",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbMenu.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"c7bdeBhXXpKK5KJdrTwTtN3","DbMenu",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbNotify.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"266e2s5kapOtJ1FmnPIDxZW","DbNotify",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbOrderInfo.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"22adbpNkXBFN7VOfcWH+Ezz","DbOrderInfo",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbPlatformAccessToken.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"27a9cokth1DH4rAGP0DP3Js","DbPlatformAccessToken",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DbQuiz.ts",["cc"],(function(){var t;return{setters:[function(u){t=u.cclegacy}],execute:function(){t._RF.push({},"49011oB5vFIa6F6isJpTPuJ","DbQuiz",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbQuizRepo.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"1324cHE1fpArKqcS7SmmLJO","DbQuizRepo",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DbRankInfo.ts",["cc"],(function(){var c;return{setters:[function(n){c=n.cclegacy}],execute:function(){c._RF.push({},"2c8c6PWDbZEEJfRT/vlD4z+","DbRankInfo",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DbRankPrize.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d5950wHBr1CPKDDa001wD4e","DbRankPrize",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbRankUserRecord.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"5abaa12oMNPzJEe6eRaQfF/","DbRankUserRecord",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbRankUserSingleRecord.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"559c5iwBxNBKL8k+CSEiFcu","DbRankUserSingleRecord",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbRoomInfo.ts",["cc"],(function(){var o;return{setters:[function(c){o=c.cclegacy}],execute:function(){o._RF.push({},"ddd92obdTFG5Zr/pqc/WlfX","DbRoomInfo",void 0),o._RF.pop()}}}));

System.register("chunks:///_virtual/DbRoomServer.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"e6d2037kzBFcZpGE5A+4OqE","DbRoomServer",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbSmsData.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"027757tPPhNwKBK2A3tixE8","DbSmsData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbSmsData2.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"eda2aUCQ9NIr4pwycBOThlg","DbSmsData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbSmsLog.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"2cb50GZBeJN7ZJf/5DnEnFZ","DbSmsLog",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DbSmsLog2.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"47ccai/WwhPrpTlzfvre5p+","DbSmsLog",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DbStatDayUserRetention.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a255b7Qlx1BPKtd0Eqhue1Z","DbStatDayUserRetention",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbStatDayUsers.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"16917q8inJH3aaTuD++cPs0","DbStatDayUsers",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbStatExchangePrize.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1ce71DG2U9FSqdriQTeCKk+","DbStatExchangePrize",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbStatOverView.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"63eb050n2ZMEK+B/BFOy0bV","DbStatOverView",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbTaskDetail.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"48808m16H5N6rkACf+Tvhpa","DbTaskDetail",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbTaskInfo.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"12ec6+Di9xBlpVaTByhYu1G","DbTaskInfo",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DbTaskPrize.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"21039a7ji1PI4/Kj5euuZdm","DbTaskPrize",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbTaskUserReceive.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"0466at54rpNNIRqO4TxMIYx","DbTaskUserReceive",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbTaskUserReport.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"11542n6TmBDv4HdWJukD/L5","DbTaskUserReport",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbTaskUserReward.ts",["cc"],(function(){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"5db8fJ7WiVBYb/U6QbYQzJl","DbTaskUserReward",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbUserAccount.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"bff5fzQ6TBJ66+m+6IeFp5N","DbUserAccount",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DbUserAccountHistory.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"327125SFGtLXJ4uCZDjGAOc","DbUserAccountHistory",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbUserAccountSystemGiveLog.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"59633QCSR1BH4OOLBazmsvG","DbUserAccountSystemGiveLog",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbUserAddress.ts",["cc"],(function(){var e;return{setters:[function(s){e=s.cclegacy}],execute:function(){e._RF.push({},"8f01fHuFY9Ffa2YKDSXVm5n","DbUserAddress",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbUserBusinessCard.ts",["cc"],(function(){var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"f1890rr6AFHJLt2vG74/xzh","DbUserBusinessCard",void 0),s._RF.pop()}}}));

System.register("chunks:///_virtual/DbUserBusinessCardRelation.ts",["cc"],(function(){var e;return{setters:[function(s){e=s.cclegacy}],execute:function(){e._RF.push({},"999e3OkBtJHSoL8pf8S285k","DbUserBusinessCardRelation",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbUserInfo.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"1c13b/OZj1Kuqa2sgpAYFDJ","DbUserInfo",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbUserInviteInfo.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"7e597lLWPpNN7uZIV3HYjSq","DbUserInviteInfo",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbUserInviteRecord.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"ba907y+pbVFrL8fcfmtxibX","DbUserInviteRecord",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbUserLoginLog.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b03f7JFlodDGZ34NOgl7e9f","DbUserLoginLog",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbUserPrizeHistory.ts",["cc"],(function(){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"4af007g6iBGqo4b6GK2UjKS","DbUserPrizeHistory",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbUserPropsAccount.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"52c5cenXdBDeKe8o2e7URbb","DbUserPropsAccount",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DbUserPropsAccountHistory.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"a9ce7ZOBGlBr7IySmqWkt8o","DbUserPropsAccountHistory",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DbUserShareHistory.ts",["cc"],(function(){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"ba0b0RhPbpFKKLKKNGoF+0H","DbUserShareHistory",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DbUserSnatch.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"0aa89e9LE5PJruGKA2QG8C3","DbUserSnatch",void 0);e("UserSnatchStatus",function(e){return e.WAITING="waiting",e.MISS="miss",e.NO_ADDRESS="noAddress",e.WAITING_SEND="waitingSend",e.SENDING="sending",e.RECEIVED="received",e.DELIVERD="deliverd",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/DeviceUtil.ts",["cc","./EncryptUtil2.ts","./StorageUtil.ts"],(function(t){var e,i,c;return{setters:[function(t){e=t.cclegacy},function(t){i=t.EncryptUtil},function(t){c=t.default}],execute:function(){e._RF.push({},"bed21UqFrRG6JYhadTi1QHG","DeviceUtil",void 0);class r{static getDeviceID(){if(!this._deviceID&&(this._deviceID=c.get("DeviceID"),!this._deviceID)){let t=r._constructorUuid();this._deviceID=i.md5(t),c.set("DeviceID",this._deviceID)}return this._deviceID}static _constructorUuid(){let t="";for(let e=1;e<32;e++){t+=Math.floor(32*Math.random()).toString(16),8!=e&&16!=e&&24!=e||(t+="-")}return t}}t("default",r),r._deviceID=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/Draw.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameGlobal.ts","./EventUtil.ts","./ArrayUtil.ts","./TimeUtil.ts","./DrawRepeater.ts","./DrawAwardWindow.ts","./DrawControl.ts","./noAwardWindow.ts","./rewardItem.ts","./DataUtil.ts","./LanguageData.ts","./LoadUtil.ts","./NodeUtil.ts"],(function(t){var e,i,r,s,o,a,n,l,h,c,d,w,p,u,_,f,m,C,b,P,g,z,y,S,D,I,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,s=t.Label,o=t.Node,a=t.Sprite,n=t.Prefab,l=t._decorator,h=t.Component,c=t.Widget,d=t.tween,w=t.instantiate,p=t.UITransform,u=t.randomRangeInt},function(t){_=t.GameGlobal},function(t){f=t.default},function(t){m=t.default},function(t){C=t.TimeUtil},function(t){b=t.default},function(t){P=t.DrawAwardWindow},function(t){g=t.default},function(t){z=t.noAwardWindow},function(t){y=t.rewardItem},function(t){S=t.default},function(t){D=t.LanguageData},function(t){I=t.default},function(t){L=t.NodeUtil}],execute:function(){var R,A,T,v,Y,W,U,E,H,V,N,F,x,M,O,G,B,K,k,j,q,J,Z,Q,X;r._RF.push({},"7b69bg9WZhILqwJKTYbKURK","Draw",void 0);const{ccclass:$,property:tt}=l,et=130,it=2500;t("Draw",(R=$("Draw"),A=tt(s),T=tt({type:o}),v=tt({type:o}),Y=tt({type:o}),W=tt({type:b.CustomScrollViewWithPrefab}),U=tt({type:s}),E=tt(a),H=tt(s),V=tt({type:n}),N=tt({type:n}),F=tt({type:n}),R((O=e((M=class extends h{constructor(){super(...arguments),i(this,"drawTimeInfo",O,this),i(this,"drawCol1",G,this),i(this,"drawCol2",B,this),i(this,"drawCol3",K,this),i(this,"ScrollViewPrefab",k,this),i(this,"collectLabel",j,this),i(this,"rewardSprite",q,this),i(this,"rewardLabel",J,this),i(this,"itemPrefab",Z,this),i(this,"noAwardWindowPrefab",Q,this),i(this,"drawAwardWindowPrefab",X,this),this._inDraw=!1,this._drawResult=void 0,this._colsCurY=[et,et,et],this._colsParent=[],this._allColsPosY=[],this._colH=0,this._colsCurYSpeed=[0,0,0],this._targetDistanceInfo=[],this._onlyCollectPrizeId=void 0,this._slowdownInfo=[{},{},{}],this._isInSpeedUp=[!1,!1,!1],this._scrollviewTween=void 0}get _drawControl(){return g.ins}onLoad(){f.on("drawPrizeInfoChanged",this.setCollectLabel,this),this.setCollectLabel(),this.ScrollViewPrefab.setPrefabData(((t,e,i)=>{e.getComponent(y).setData(t)})),this._colsParent=[this.drawCol1.parent,this.drawCol2.parent,this.drawCol3.parent]}onEnable(){this._colH=0,this._setPrizeList(),this._setDrawCol(),this._inDraw=!1,this._drawResult=void 0,this._isInSpeedUp=[!1,!1,!1];const t=()=>{this.drawTimeInfo.string=D.translateArgs("draw_remain_count",_.instance.accountInfo.draw.toString())};f.on("drawTimeChange",t,this),t()}onDisable(){this.unscheduleAllCallbacks(),f.targetOff(this)}setCollectLabel(){const t=this._drawControl.allPrizeInfo.composePrize;this.collectLabel.string=D.translateArgs("draw_collect_count",t.rewardCount.toString(),t.prizeName)}update(t){0!==this._colH&&(this._colsCurY.forEach(((t,e)=>{this._colsParent[e].children.forEach(((t,i)=>{let r=this._allColsPosY[e][i]+this._colsCurY[e];if(r+this._colH<et){const t=3*this._colH;this._allColsPosY[e][i]+=t,r+=t}t.setPosition(t.position.x,r)}))})),this._slowdownInfo.forEach(((e,i)=>{if(!e.remainDistance||!e.totalDistance||!e.remainTime)return;e.remainTime-=t;const r=(e.totalTime-e.remainTime)/e.totalTime,s=it*(1-r),o=Math.min(s*t,e.remainDistance);if(e.remainDistance-=o,e.remainTime<=0||e.remainDistance<=.1)return this._colsCurYSpeed[i]=0,e.remainDistance=0,e.remainTime=0,void(this._colsCurYSpeed.every((t=>0===t))&&(this._drawResult?.isSucc&&(I.getSpriteFrameIntelligent(this._drawResult.res.prizeList[0].prize.prizePicture,(t=>{L.limitSpriteSize(this.rewardSprite,t,65,65)})),this.rewardLabel.string=this._drawResult.res.prizeList[0].prize.prizeName),this.scheduleOnce(this.showDrawResult,1)));this._colsCurYSpeed[i]=s})),this._colsCurY.forEach(((e,i)=>{this._colsCurY[i]-=this._colsCurYSpeed[i]*t})),this._isInSpeedUp.forEach(((e,i)=>{e&&(this._colsCurYSpeed[i]+=1e3*t,this._colsCurYSpeed[i]>=it&&(this._colsCurYSpeed[i]=it,this._isInSpeedUp[i]=!1))})))}async show(){console.log("显示抽奖"),this.node.active=!0}async _setPrizeList(){console.log("奖品数据",this._drawControl.PrizeList);const t=this._drawControl.allPrizeInfo.collectPrize;let e=[];for(let i=0;i<2*t.length;i++)e.push(t[i%t.length]);this._scrollviewTween&&this._scrollviewTween.stop(),this.ScrollViewPrefab.dateList=e,this.ScrollViewPrefab.itemParent.getComponent(c).updateAlignment();const i=this.ScrollViewPrefab.itemParent.position.clone();this._scrollviewTween=d(this.ScrollViewPrefab.itemParent).to(10,{x:i.x-96*t.length}).set({position:i.clone()}).union().repeatForever(),this._scrollviewTween.start()}_createItem(){return w(this.itemPrefab)}_destroyItem(t){t.destroy()}async _setDrawCol(){this._colH=0;let t=S.deepClone(this._drawControl.PrizeList),e=t.find((t=>t.isCollect));this._onlyCollectPrizeId=e?.prizeId,e&&(e.prizePic="p1");let i=1;t=t.filter((t=>!t.isCollect&&(t.prizePic="p"+ ++i,!0))),t.push(e);const r=[this.drawCol1,this.drawCol2,this.drawCol3];this._colsCurY=[et,et,et];const s=(t,e)=>{if(t.parent.children[e])return t.parent.children[e];const i=w(t);return i.parent=t.parent,i};r.map((e=>{m.fisherYatesShuffle(t),t.map(((t,i)=>{const r=e.children[i]||this._createItem();r.name=t.prizeId,r.parent=e})),s(e,1),s(e,2)})),this._colsParent.forEach(((e,i)=>{e.children.forEach((e=>{e.children.forEach((e=>{const i=e.getChildByName("awardImg"),r=t.find((t=>t.prizeId===e.name))?.prizePic;i.getComponent(a).changeSpriteFrameFromAtlas(r);const s="p1"==r?100:80;i.getComponent(p).setContentSize(s,s)}))}))})),this.scheduleOnce((()=>{this._colsParent.forEach(((t,e)=>{const i=t.children[0].getComponent(p).height;this._colH=i+10,this._allColsPosY[e]=[],t.children.forEach(((t,i)=>{const r=this._colsCurY[e]+this._colH*i;t.setPosition(t.position.x,r),this._allColsPosY[e][i]=r}))}))}))}async onStartDrawBtn(){if(!this._inDraw){if(this._inDraw=!0,this._isInSpeedUp=[!1,!1,!1],this._drawResult=await b.getDrawResult(),!this._drawResult.isSucc)return b.uiPopupManager?.showTips(this._drawResult.err.message),this._inDraw=!1,void(this._drawResult=void 0);console.log("抽奖结果",this._drawResult),this.playDrawAnimation()}}async playDrawAnimation(){const t=[0,.5,1];if(t.forEach(((e,i)=>{this.scheduleOnce((()=>{this._isInSpeedUp[i]=!0}),t[i])})),await Promise.all([C.wait(4e3),new Promise((async t=>{for(;!this._isInSpeedUp.every((t=>t))&&(await C.wait(16),this.isValid););t()}))]),!this.isValid)return;const e=this._drawResult?.res?.prizeList[0]?.prize.prizeId;let i=[];if(e)i=[e,e,e];else{const t=this._drawControl.PrizeList;for(let e=0;e<3;e++){let r=t[u(0,t.length)];2==e&&i[0]==i[1]&&(r=t.find((t=>t.prizeId!=i[0]&&t.prizeId!=i[1]))),i[e]=r.prizeId}}for(let t=0;t<3;t++){const e=this._drawControl.PrizeList.find((e=>e.prizeId==i[t]));if(e?.isCollect)if(i[0]==e){const e=this._drawControl.PrizeList.find((t=>!t.isCollect));i[t]=e.prizeId}else i[t]=this._onlyCollectPrizeId}i.forEach(((e,i)=>{this.scheduleOnce((()=>{this.startSlowdown(i,e)}),t[i])}))}startSlowdown(t,e){let i=-1;for(const r of this._colsParent[t].children)for(const t of r.children)if(t.name===e){const e=t.position.y+r.position.y;e>0&&(i<0||e<i)&&(i=e)}if(i<0)return;const r=3*this._colH+(i-et);let s=2*r/it;this._slowdownInfo[t]={remainDistance:r,totalDistance:r,totalTime:s,remainTime:s,targetId:e}}openMergeWindow(){f.emit("openMergeWindow")}async showDrawResult(){this._drawResult?.isSucc?(this._drawControl.updateAllPrizeInfo(),this._setPrizeList(),this._drawResult.res.prizeList&&this._drawResult.res.prizeList.length>0?this._showDrawAwardWindow(this._drawResult):this._showNoAwardWindow(this._drawResult),this._drawResult=void 0,this.scheduleOnce((()=>{this._inDraw=!1}),.1),await C.wait(1e3),this.rewardLabel.string="Slot Machine",this.rewardSprite.spriteFrame=null):console.error("抽奖失败",this._drawResult)}_showNoAwardWindow(t){const e=w(this.noAwardWindowPrefab);this._drawControl.addParent(e,this._drawControl.windowParent),e.getComponent(z).showHint(2==t.res?.drawNum?1:0)}_showDrawAwardWindow(t){const e=w(this.drawAwardWindowPrefab);this._drawControl.addParent(e,this._drawControl.windowParent),e.getComponent(P).showWindow(t)}}).prototype,"drawTimeInfo",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(M.prototype,"drawCol1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(M.prototype,"drawCol2",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(M.prototype,"drawCol3",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(M.prototype,"ScrollViewPrefab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(M.prototype,"collectLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(M.prototype,"rewardSprite",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(M.prototype,"rewardLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(M.prototype,"itemPrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(M.prototype,"noAwardWindowPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(M.prototype,"drawAwardWindowPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=M))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/DrawAwardWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtil.ts","./CustomScrollViewWithPrefab.ts","./PopBaseWindow.ts","./DrawAwardWindowItem.ts","./DrawControl.ts","./LanguageData.ts"],(function(t){var e,i,n,r,a,o,l,s,c,u,w,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Button,a=t.Label,o=t._decorator},function(t){l=t.NodeUtil},function(t){s=t.CustomScrollViewWithPrefab},function(t){c=t.PopBaseWindow},function(t){u=t.DrawAwardWindowItem},function(t){w=t.default},function(t){d=t.LanguageData}],execute:function(){var p,h,m,f,g,z,b,_,D,y,k;n._RF.push({},"e6937cNHoVBY6louqmpfWNk","DrawAwardWindow",void 0);const{ccclass:P,property:B}=o;t("DrawAwardWindow",(p=P("DrawAwardWindow"),h=B(s),m=B(r),f=B(a),g=B(a),p((_=e((b=class extends c{constructor(){super(...arguments),i(this,"awardScrollView",_,this),i(this,"okBtn",D,this),i(this,"hint_collect",y,this),i(this,"hint_luck",k,this)}start(){l.ListenBtnsClick([this.okBtn],(t=>{switch(t.node.name){case"okBtn":this.onKeepDrawBtn()}}),this)}async onKeepDrawBtn(){this.close(!0)}async showWindow(t){this.node.active=!0,this.awardScrollView.setPrefabData(((t,e,i)=>{e.getComponent(u).setInfo(t)})),this.awardScrollView.dateList=t.res.prizeList.map((t=>({n:t.prize.rewardCount,awardName:t.prize.prizeName,awardIcon:t.prize.prizePicture,moduleType:t.moduleType,unit:t.prize.prizeType}))),this.hint_luck.node.active=!1;const e=w.ins.allPrizeInfo;let i=e.composePrize.prizeName+(e.composePrize.rewardCount>1?`x${e.composePrize.rewardCount}`:"");if(this.hint_collect.string=d.translate("congratulations"),1==t.res.drawNum)this.hint_luck.node.active=!0,this.hint_luck.string=d.translate("maxLucking"),this.hint_collect.string=d.translateArgs("lingjian_1",i);else if(2==t.res.drawNum){let t=e.collectPrize.find((t=>0==t.sum))?.sum??0;this.hint_collect.node.active=!0,this.hint_collect.string=d.translateArgs("lingjian_2",t.toString(),i)}await this.show()}update(t){}}).prototype,"awardScrollView",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(b.prototype,"okBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(b.prototype,"hint_collect",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(b.prototype,"hint_luck",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=b))||z));n._RF.pop()}}}));

System.register("chunks:///_virtual/DrawAwardWindowItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadUtil.ts","./NodeUtil.ts"],(function(e){var i,t,r,n,o,a,l,c,s,u,b;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e.CCInteger,o=e.Node,a=e.Sprite,l=e.Label,c=e._decorator,s=e.Component},function(e){u=e.default},function(e){b=e.NodeUtil}],execute:function(){var d,h,p,w,g,z,I,f,m,y,L,N,S,v,D,A,W,_,C,F,U,k,x,P;r._RF.push({},"e42b5Z1WOtANIkQ2ciNKXZI","DrawAwardWindowItem",void 0);const{ccclass:R,property:Z}=c;let j=(d=R("drawIconSize"),h=Z(n),p=Z(n),d((z=i((g=class{constructor(){t(this,"width",z,this),t(this,"height",I,this)}}).prototype,"width",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(g.prototype,"height",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=g))||w);e("DrawAwardWindowItem",(f=R("DrawAwardWindowItem"),m=Z(o),y=Z(a),L=Z(o),N=Z(l),S=Z(l),v=Z(l),D=Z(j),f((_=i((W=class extends s{constructor(){super(...arguments),t(this,"iconNode",_,this),t(this,"prizeIcon",C,this),t(this,"countNode",F,this),t(this,"countLabel",U,this),t(this,"unitLabel",k,this),t(this,"awardLabel",x,this),t(this,"drawIconSize",P,this)}setInfo(e){this.awardLabel.string=""+e.n,"basic"==e.moduleType?(this.prizeIcon.node.active=!1,this.countNode.active=!0,this.countLabel.string=""+e.n,this.unitLabel.string="  "+e.unit):(this.prizeIcon.node.active=!0,this.countNode.active=!1,u.getSpriteFrameIntelligent(e.awardIcon,(e=>{this.isValid&&e&&b.limitSpriteSize(this.prizeIcon,e,this.drawIconSize.width,this.drawIconSize.height)})))}}).prototype,"iconNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(W.prototype,"prizeIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(W.prototype,"countNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(W.prototype,"countLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(W.prototype,"unitLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(W.prototype,"awardLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(W.prototype,"drawIconSize",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new j}}),A=W))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/DrawChanceType.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"2466fF8pSZNzLGOpX5/VDiW","DrawChanceType",void 0);e("DrawChanceType",function(e){return e.WEIGHT="WEIGHT",e.PROBABILITY="PROBABILITY",e}({}));e("DrawChanceTypeName",{WEIGHT:"权重",PROBABILITY:"概率"});c._RF.pop()}}}));

System.register("chunks:///_virtual/DrawConsumeType.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"c910ecUP2tAnqEWTitDIooM","DrawConsumeType",void 0);e("DrawConsumeType",function(e){return e.POINT="POINT,",e.TIMES="TIMES",e}({}));e("DrawConsumeTypeName",{POINT:"积分",TIMES:"次数"});n._RF.pop()}}}));

System.register("chunks:///_virtual/DrawControl.ts",["cc","./BundleUtil.ts","./DrawRepeater.ts"],(function(t){var e,i,n,s,r,a;return{setters:[function(t){e=t.director,i=t.RenderRoot2D,n=t.Prefab,s=t.cclegacy},function(t){r=t.default},function(t){a=t.default}],execute:function(){s._RF.push({},"7cc39aolC5OhbJjl9EDJ7hG","DrawControl",void 0);class o{constructor(){this._prizeList=[],this._allPrizeInfo=void 0,this._initSuccess=!1,this.windowParent=void 0}static get ins(){return this._ins||(this._ins=new o),o._ins}get PrizeList(){return this._prizeList}get allPrizeInfo(){return this._allPrizeInfo}async init(){if(this._initSuccess)return!0;const t=await this._getPrizeList();this._initSuccess=t;const e=await a.getDrawAllPrizeInfo();return e?this._allPrizeInfo=e:this._initSuccess=!1,this._initSuccess}async updateAllPrizeInfo(){const t=await a.getDrawAllPrizeInfo();t&&(this._allPrizeInfo=t)}async _getPrizeList(){const t=await a.getPrizeList();return!!t&&(this._prizeList=t,!0)}addParent(t,n){n?t.parent=n:(e.addPersistRootNode(t),t.getComponent(i)?t.getComponent(i).enabled=!0:t.addComponent(i))}async getPrefab(t){let e=await r.loadBundle("drawBundle",{loadAllres:!0});return e?e.get(t,n):null}}t("default",o),o._ins=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/DrawManager.ts",["cc","./ModuleUtilManagerBase.ts","./Draw.ts","./DrawControl.ts","./DrawRepeater.ts"],(function(t){var a,r,e,o,n,i,s;return{setters:[function(t){a=t.cclegacy,r=t.instantiate,e=t.Node},function(t){o=t.ModuleUtilManagerBase},function(t){n=t.Draw},function(t){i=t.default},function(t){s=t.default}],execute:function(){a._RF.push({},"d0956pg/91AiIiJtWWhtPZZ","DrawManager",void 0);t("DrawManager",class extends o{constructor(){super(...arguments),this.drawNode=void 0}get _drawControl(){return i.ins}async init(){console.log("初始化 Draw")}async initDraw(){this._drawControl.getPrefab("Draw"),await this._drawControl.init()}async showDraw(t,a){if(await this._drawControl.init()||(s.uiPopupManager.showTips("初始化失败"),console.error("【DrawManager】初始化失败")),console.log("显示抽奖"),this.drawNode&&this.drawNode.isValid){if(this.drawNode.active)return;this.drawNode.getComponent(n)?.show()}else this._drawControl.windowParent=a,this.drawNode=r(await this._drawControl.getPrefab("Draw")),this._drawControl.addParent(this.drawNode,t),this.drawNode.getComponent(n)?.show(),this.drawNode.on(e.EventType.NODE_DESTROYED,(()=>{this.drawNode=void 0}),this)}}),a._RF.pop()}}}));

System.register("chunks:///_virtual/DrawRepeater.ts",["cc","./ActionUtil.ts","./LoadUtil.ts","./BundleLayer.ts","./CustomScrollViewWithPrefab.ts","./ModuleManager.ts"],(function(e){var t,r,a,n,i,s;return{setters:[function(e){t=e.cclegacy},function(e){r=e.default},function(e){a=e.default},function(e){n=e.default},function(e){i=e.CustomScrollViewWithPrefab},function(e){s=e.default}],execute:function(){t._RF.push({},"7a4a7d02BVJ0LIqD/Qedier","DrawRepeater",void 0);class u{static get _serverManager(){return s.instance?.getManager("serverManager").callServer("server_System")}static get uiPopupManager(){return s.instance?.getManager("uiPopupManager")}static getDrawAllPrizeInfo(){return this._serverManager?.getDrawPrizeListInfo()}static async getPrizeList(){const e=await(this._serverManager?.getDrawList());return e.length,e}static async getDrawResult(){return await(this._serverManager?.prizeDraw())}}e("default",u),u.BundleLayer=n,u.LoadUtil=a,u.ActionUtil=r,u.CustomScrollViewWithPrefab=i,t._RF.pop()}}}));

System.register("chunks:///_virtual/DressConfig.ts",["cc","./CommonDeclear.ts"],(function(e){var s,t;return{setters:[function(e){s=e.cclegacy},function(e){t=e.EUserSex}],execute:function(){s._RF.push({},"98476x1rm9Ok6GtUPa76mXw","DressConfig",void 0);e("default",{bundle:{name:"ModelDress3d_wxsj",path:"",version:""},dress:{sex:t.female,parts:{hair:1,clothesUp:1,clothesDown:1,shoes:1,head:1,body:1,foot:0,effect_head:1,effect_foot:1}}});s._RF.pop()}}}));

System.register("chunks:///_virtual/DressDeclare.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"65e35Ja1WdIc4jQ6USOyHZu","DressDeclare",void 0);e("EDressSex",function(e){return e.female="female",e.male="male",e}({})),e("EDressPartName",function(e){return e.hair="hair",e.clothesUp="clothesUp",e.clothesDown="clothesDown",e.shoes="shoes",e.head="head",e.body="body",e.foot="foot",e.effect_head="effect_head",e.effect_foot="effect_foot",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/DropMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomScrollViewWithPrefab.ts","./DropSelectItem.ts"],(function(t){var e,i,l,s,o,r,n,a,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){l=t.cclegacy,s=t.Button,o=t.Label,r=t._decorator,n=t.Component},function(t){a=t.CustomScrollViewWithPrefab},function(t){c=t.DropSelectItem}],execute:function(){var h,p,d,u,b,S,_,f,I,g,L,m,w,D,x;l._RF.push({},"a2d9085bu9IsYGHbqIQpHco","DropMenu",void 0);const{ccclass:C,property:y}=r;t("DropMenu",(h=C("DropMenu"),p=y(s),d=y(s),u=y(o),b=y(a),S=y({type:[Int8Array],tooltip:"数据列表"}),_=y({type:Number,tooltip:"默认选中第几个",min:-1}),h((g=e((I=class extends n{constructor(){super(...arguments),i(this,"touchNullBtn",g,this),i(this,"dropButton",L,this),i(this,"dropLabel",m,this),i(this,"dropScrollView",w,this),i(this,"nameList",D,this),i(this,"defaultSelectIdx",x,this),this._listData=[],this._selectIdx=-2,this._selectCallback=void 0}get selectName(){return this.dropLabel.string}get selectIdx(){return this._selectIdx}setListData(t){this._listData=t,this.node.active&&(this.dropScrollView.dateList=t)}listenSelectChange(t){this._selectCallback=t}setSelectIdx(t){if(t==this._selectIdx)return;let e="";t>=0&&t<this.dropScrollView.dateList.length&&(e=this.dropScrollView.dateList[t]),this.dropLabel.string=e,this._selectIdx=t,this._selectCallback?.(this._selectIdx,e)}start(){this.dropButton.node.on(s.EventType.CLICK,this._onClickDropBtn,this),this.touchNullBtn.node.on(s.EventType.CLICK,(()=>{this.dropScrollView.node.active=!1}),this),c.clickCallback=this._onClickSelectBtn.bind(this),this.dropScrollView.setPrefabData(((t,e,i)=>{e.getComponent(c).setInfo(i,t)})),this._listData.length<=0&&(this._listData=this.nameList),this.dropLabel.string="",this.setListData(this._listData),this._selectIdx<-1&&this.defaultSelectIdx<this.dropScrollView.dateList.length&&(this._selectIdx=this.defaultSelectIdx),this._selectIdx>=0&&(this.dropLabel.string=this.dropScrollView.dateList[this._selectIdx])}_onClickDropBtn(){this.dropScrollView.node.active=!0}_onClickSelectBtn(t){void 0!==t?(this.setSelectIdx(t),this.dropScrollView.node.active=!1):console.log("未选中任何数据")}}).prototype,"touchNullBtn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(I.prototype,"dropButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(I.prototype,"dropLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(I.prototype,"dropScrollView",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(I.prototype,"nameList",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=e(I.prototype,"defaultSelectIdx",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),f=I))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/DropSelectItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,c,l,n,r;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,c=t.Label,l=t.Button,n=t._decorator,r=t.Component}],execute:function(){var s,a,p,u,d,h,b,m;o._RF.push({},"574b3h5THtP/ZfZAaAsZim5","DropSelectItem",void 0);const{ccclass:y,property:f}=n;t("DropSelectItem",(s=y("DropSelectItem"),a=f(c),p=f(l),s(((m=class t extends r{constructor(){super(...arguments),i(this,"dropLabel",h,this),i(this,"clickButton",b,this),this._info=void 0,this._myId=void 0}onLoad(){this.clickButton.node.on(l.EventType.CLICK,(()=>{t.clickCallback?.()}),this)}start(){this.clickButton.node.on(l.EventType.CLICK,(()=>{t.clickCallback?.(this._myId)}),this)}setInfo(t,e){this._info=e,this._myId=t,this.dropLabel.string=e}update(t){}}).clickCallback=void 0,h=e((d=m).prototype,"dropLabel",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(d.prototype,"clickButton",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/EncryptUtil.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"013e8vM/aVNF6/a2FLTDtJl","EncryptUtil",void 0);t("EncryptUtil",class{static encrypt(t){console.log("加密...");for(let e=0;e<t.length;++e)t[e]-=1;return t}static decrypt(t){for(let e=0;e<t.length;++e)t[e]+=1;return t}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/EncryptUtil2.ts",["cc","./index.js"],(function(t){var e,r;return{setters:[function(t){e=t.cclegacy},function(t){r=t.default}],execute:function(){e._RF.push({},"bd49dAuRrJD6I+R4nQhsfrf","EncryptUtil",void 0);class i{static md5(t){return r.MD5(t).toString()}static initCrypto(t,e){this.key=t,this.iv=r.enc.Hex.parse(e)}static aesEncrypt(t,e){let i=this.key,n=this.iv;return e&&(i=e.key,n=r.enc.Hex.parse(e.iv)),r.AES.encrypt(t,i,{iv:n,format:this.JsonFormatter}).toString()}static aesDecrypt(t,e){try{let i=this.key,n=this.iv;console.log("info",i,n),e&&(i=e.key,n=r.enc.Hex.parse(e.iv));const s=r.AES.decrypt(t,i,{iv:n,format:this.JsonFormatter});return s.toString(r.enc.Utf8)}catch(t){return null}}}t("EncryptUtil",i),i.key=null,i.iv=null,i.JsonFormatter={stringify:function(t){const e={ct:t.ciphertext.toString(r.enc.Base64)};return t.iv&&(e.iv=t.iv.toString()),t.salt&&(e.s=t.salt.toString()),JSON.stringify(e)},parse:function(t){const e=JSON.parse(t),i=r.lib.CipherParams.create({ciphertext:r.enc.Base64.parse(e.ct)});return e.iv&&(i.iv=r.enc.Hex.parse(e.iv)),e.s&&(i.salt=r.enc.Hex.parse(e.s)),i}},e._RF.pop()}}}));

System.register("chunks:///_virtual/event_mgr.ts",["cc"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy,n=e.isValid}],execute:function(){t._RF.push({},"2c6a3p+uFRMbqNnZK4ff25Z","event_mgr",void 0);class s{constructor(){this.handlers=void 0,this.targets=void 0,this.isInvoking=void 0,this.containCanceled=void 0,this.handlers=[],this.targets=[],this.isInvoking=!1,this.containCanceled=!1}add(e,t){this.handlers.push(e),this.targets.push(t)}remove(e){this.handlers.splice(e,1),this.targets.splice(e,1)}removeByTarget(e){const t=this.targets,n=this.handlers;for(let s=t.length-1;s>=0;s--)t[s]==e&&(t.splice(s,1),n.splice(s,1))}removeByHandler(e){const t=this.handlers,n=this.targets;for(let s=t.length-1;s>=0;s--)t[s]==e&&(t.splice(s,1),n.splice(s,1))}removeByHandlerTarget(e,t){const n=this.handlers,s=this.targets;for(let l=n.length-1;l>=0;l--)n[l]==e&&s[l]==t&&(n.splice(l,1),s.splice(l,1))}removeAll(){this.handlers.length=0,this.targets.length=0}cancel(e){this.handlers[e]=null,this.targets[e]=null,this.containCanceled=!0}cancelByTarget(e){const t=this.targets,n=this.handlers;for(let s=t.length-1;s>=0;s--)t[s]==e&&(t[s]=null,n[s]=null);this.containCanceled=!0}cancelByHandler(e){const t=this.handlers,n=this.targets;for(let s=t.length-1;s>=0;s--)t[s]==e&&(t[s]=null,n[s]=null);this.containCanceled=!0}cancelByHandlerTarget(e,t){const n=this.handlers,s=this.targets;for(let l=n.length-1;l>=0;l--)n[l]==e&&s[l]==t&&(n[l]=null,s[l]=null);this.containCanceled=!0}cancelAll(){const e=this.handlers,t=this.targets;for(let n=e.length-1;n>=0;n--)e[n]=null,t[n]=null;this.containCanceled=!0}has(e,t){const n=this.handlers,s=this.targets;for(let l=n.length-1;l>=0;l--)if(n[l]==e&&s[l]==t)return!0;return!1}purgeCanceled(){this.containCanceled&&(this.removeByHandler(null),this.containCanceled=!1)}isEmpty(){return 0==this.handlers.length}}class l{constructor(){this.eventMap=void 0,this.eventMap=new Map}static get_inst(){return this.inst||(this.inst=new l),this.inst}fire(e){const t=this.eventMap.get(e);if(!t||t.isEmpty())return;t.isInvoking=!0;const s=t.handlers,l=t.targets;for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];for(let e=0,i=s.length;e<i;e++){const i=s[e],a=l[e];if(i)if(a&&a.node){const e=a.node;n(e)?i.call(a,...r):t.cancelByTarget(a)}else i.call(a,...r)}t.isInvoking=!1,t.purgeCanceled()}has(e,t,n){void 0===n&&(n=null);let s=this.eventMap.get(e);if(!s)return!1;if(t)return s.has(t,n);if(s.isInvoking){const e=s.handlers;for(let t=0,n=e.length;t<n;t++)if(e[t])return!0;return!1}return!s.isEmpty()}add(e,t,n){void 0===n&&(n=null);let l=this.eventMap.get(e);l||(l=new s,this.eventMap.set(e,l)),l.add(t,n)}once(e,t,n){var s=this;let l;void 0===n&&(n=null),l=function(){s.remove(e,l,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];t.call(n,...r)},this.add(e,l,n)}remove(e,t,n){void 0===n&&(n=null);const s=this.eventMap.get(e);s&&!s.isEmpty()&&(n?s.isInvoking?s.cancelByHandlerTarget(t,n):s.removeByHandlerTarget(t,n):s.isInvoking?s.cancelByHandler(t):s.removeByHandler(t))}removeByTarget(e){this.eventMap.forEach(((t,n)=>{t.isEmpty()||(t.isInvoking?t.cancelByTarget(e):t.removeByTarget(e))}))}removeByEvent(e){const t=this.eventMap.get(e);t&&!t.isEmpty()&&(t.isInvoking?t.cancelAll():t.removeAll())}}e("event_mgr",l),l.inst=void 0;e("Event_Name",function(e){return e.LAYER_CHANGED="LAYER_CHANGED",e.SCENE_CHANGED="SCENE_CHANGED",e.UI_SHOW="UI_SHOW",e.UI_HIDE="UI_HIDE",e.LANGUAGE_CHANGED="LANGUAGE_CHANGED",e.LANGUAGE_USED="LANGUAGE_USED",e.REMOTE_ASSETS_UPDATED="REMOTE_ASSETS_UPDATED",e.CONFIG_UPDATED="CONFIG_UPDATED",e.COMPUTATION="COMPUTATION",e.ADD_CARD_TO_PUBLIC="ADD_CARD_TO_PUBLIC",e.RECYCLE_CARD="RECYCLE_CARD",e.CHANGE_JETTON="CHANGE_JETTON",e.CHANGE_PROP_NEXT="CHANGE_PROP_NEXT",e.CHANGE_PROP_LOOK="CHANGE_PROP_LOOK",e.GET_GIFT_AWARD="GET_GIFT_AWARD",e.SIGN_IN="SIGN_IN",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/event_tool.ts",["cc","./event_mgr.ts"],(function(e){var t,n,s;return{setters:[function(e){t=e.cclegacy,n=e.game},function(e){s=e.event_mgr}],execute:function(){t._RF.push({},"58194/aypJC2agM3repWtzA","event_tool",void 0);e("EventTool",class{constructor(){this._eventListeners=void 0}addEventListener(e,t,n){void 0===n&&(n=null),s.get_inst().add(e,t,n),this._eventListeners||(this._eventListeners=[]),this._eventListeners.push({event:e,handler:t})}removeEventListener(e,t,n){void 0===n&&(n=null),s.get_inst().remove(e,t,n)}fireEvent(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];s.get_inst().fire(e,...n)}clearEventListeners(){const e=this._eventListeners;if(e&&e.length){const t=s.get_inst();e.forEach((e=>{t.remove(e.event,e.handler,this)}))}this._eventListeners=null,n.targetOff(this)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc","./event_tool.ts"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.EventTool}],execute:function(){t._RF.push({},"8b89a+ZAYRAmqWWcCBn5ZYa","EventManager",void 0);class s extends n{static get Instance(){return this._ins||(this._ins=new s),this._ins}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];this.fireEvent(e,...n)}on(e,t,n){void 0===n&&(n=null),this.addEventListener(e,t,n)}off(e,t,n){void 0===n&&(n=null),this.removeEventListener(e,t,n)}clearAll(){this.clearEventListeners()}}e("default",s),s._ins=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/EventUtil.ts",["cc"],(function(t){var e,r;return{setters:[function(t){e=t.director,r=t.cclegacy}],execute:function(){r._RF.push({},"ab3fdZBIqhM1KlbzeQCPNFh","EventUtil",void 0);t("default",class{static on(t,r,c,n){return e.on(t,r,c,n)}static emit(t,r){return e.emit(t,r)}static off(t,r,c){return e.off(t,r,c)}static targetOff(t){return e.targetOff(t)}}),r._RF.pop()}}}));

System.register("chunks:///_virtual/ExchangeBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventUtil.ts","./GameGlobal.ts"],(function(e){var n,t,o,i,a,r,c,l;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){o=e.cclegacy,i=e.Label,a=e._decorator,r=e.Component},function(e){c=e.default},function(e){l=e.GameGlobal}],execute:function(){var s,u,h,b,f;o._RF.push({},"0006bZgkqhEALE7FWZfU/oI","ExchangeBtn",void 0);const{ccclass:p,property:g}=a;e("ExchangeBtn",(s=p("ExchangeBtn"),u=g(i),s((f=n((b=class extends r{constructor(){super(...arguments),t(this,"coinLabel",f,this)}onEnable(){this._refreshCoinLabel(),c.on("scoreChange",this._refreshCoinLabel,this)}onDisable(){c.targetOff(this)}onExchangeBtnHandler(){console.log("todo 兑换逻辑")}_refreshCoinLabel(){this.coinLabel.string=""+l.instance.accountInfo.point}}).prototype,"coinLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=b))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/ExchangeCenter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventUtil.ts","./LoadUtil.ts","./ActionUtil.ts","./BundleLayer.ts","./CustomScrollViewWithPrefab.ts","./ExchangeCenterRepeater.ts","./ExchangeItem.ts"],(function(e){var t,i,n,a,o,r,s,l,c,h,u,g,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e.Node,o=e.Label,r=e.Sprite,s=e._decorator},function(e){l=e.default},function(e){c=e.default},function(e){h=e.default},function(e){u=e.default},function(e){g=e.CustomScrollViewWithPrefab},function(e){p=e.default},function(e){d=e.ExchangeItem}],execute:function(){var f,b,m,x,w,S,y,E,C,P,L,_,z;n._RF.push({},"ee143U/N3lIdZdnTrpRESKB","ExchangeCenter",void 0);const{ccclass:k,property:v}=s;e("ExchangeCenter",(f=k("ExchangeCenter"),b=v(a),m=v(a),x=v(o),w=v(r),S=v(g),f((C=t((E=class extends u{constructor(){super(...arguments),i(this,"parentNode",C,this),i(this,"back",P,this),i(this,"gold",L,this),i(this,"icon",_,this),i(this,"exchangeScrollViewWithPrefab",z,this),this._prizeList=void 0}async onLoad(){this.back.on("click",this.onClickClose,this),this._listenMsg()}_listenMsg(){l.on("ExchangeSuccess",(()=>{this._setExchange(),this.gold.string=p.gold.toString()}),this)}async show(){h.show(this.parentNode),this._setExchange()}async _setExchange(){p.getUiPopup().showLoading();let e=await p.getExchangeList();if(p.getUiPopup().hideLoading(),!e.isSucc)return void p.getUiPopup().showTips(e.err.message);p.gold=e.res.amount,p.pointImage=e.res.config.pointImage,this.gold.string=p.gold.toString(),c.getSpriteFrameIntelligent(p.pointImage,(e=>e&&this.icon&&this.icon.isValid&&(this.icon.spriteFrame=e)));let t=e.res.prizeList.filter((e=>"default"===e.exchangePrizeStatus&&p.gold>=e.needAmount&&!e.enableTime&&!e.updateStockTime)),i=e.res.prizeList.filter((e=>!("default"===e.exchangePrizeStatus&&p.gold>=e.needAmount&&!e.enableTime&&!e.updateStockTime))),n=[];n.push(...t,...i),this._updateAward(n)}async onClickClose(){await h.hide(this.parentNode),this.node.active=!1}_updateAward(e){this.exchangeScrollViewWithPrefab.setPrefabData(((e,t,i)=>{t.getComponent(d).updateExchange(e)})),this.exchangeScrollViewWithPrefab.dateList=e}showDetails(){p.exchangeCenterManager.showAccountHistory(p.exchangeCenterManager.exchangeNode.parent)}}).prototype,"parentNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(E.prototype,"back",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(E.prototype,"gold",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(E.prototype,"icon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(E.prototype,"exchangeScrollViewWithPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=E))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/ExchangeCenterManager.ts",["cc","./BundleUtil.ts","./NodeUtil.ts","./ModuleUtilManagerBase.ts","./AccountHistory.ts","./AccountRule.ts","./ConvertPopup.ts","./ExchangeCenter.ts","./SuccessPopup.ts"],(function(e){var t,n,c,o,s,i,a,h,u,r,g;return{setters:[function(e){t=e.cclegacy,n=e.instantiate,c=e.Node},function(e){o=e.default},function(e){s=e.NodeUtil},function(e){i=e.ModuleUtilManagerBase},function(e){a=e.AccountHistory},function(e){h=e.AccountRule},function(e){u=e.ConvertPopup},function(e){r=e.ExchangeCenter},function(e){g=e.SuccessPopup}],execute:function(){t._RF.push({},"78ef8QKvHBO17e4MJhNqqVK","ExchangeCenterManager",void 0);e("ExchangeCenterManager",class extends i{constructor(){super(...arguments),this.exchangeNode=void 0,this._convertExchange=void 0,this._successPopup=void 0,this._accountHistory=void 0,this._accountRule=void 0}async init(){console.log("初始化 ExchangeCenterManager")}async showExchangeCenter(e){if(this.exchangeNode){if(this.exchangeNode.active)return;this.exchangeNode.active=!0,this.exchangeNode.getComponent(r)?.show()}else this.exchangeNode=n(await o.getPrefabByBundle("ExchangeCenter","ExchangeCenter")),s.addParent(this.exchangeNode,e),this.exchangeNode.getComponent(r)?.show(),this.exchangeNode.on(c.EventType.NODE_DESTROYED,(()=>{this.exchangeNode=void 0}),this)}hideExchangeCenter(){this.exchangeNode&&this.exchangeNode.active&&this.exchangeNode.getComponent(r)?.onClickClose()}async showConvertExchange(e,t){if(this._convertExchange){if(this._convertExchange.active)return;this._convertExchange.active=!0,this._convertExchange.getComponent(u)?.show(e)}else this._convertExchange=n(await o.getPrefabByBundle("ConvertPopup","ExchangeCenter")),s.addParent(this._convertExchange,t),this._convertExchange.getComponent(u)?.show(e),this._convertExchange.on(c.EventType.NODE_DESTROYED,(()=>{this._convertExchange=void 0}),this)}async showSuccessPopup(e,t){if(this._successPopup){if(this._successPopup.active)return;this._successPopup.active=!0,this._successPopup.getComponent(g)?.show(e)}else this._successPopup=n(await o.getPrefabByBundle("SuccessPopup","ExchangeCenter")),s.addParent(this._successPopup,t),this._successPopup.getComponent(g)?.show(e),this._successPopup.on(c.EventType.NODE_DESTROYED,(()=>{this._successPopup=void 0}),this)}async showAccountHistory(e){if(this._accountHistory){if(this._accountHistory.active)return;this._accountHistory.active=!0,this._accountHistory.getComponent(a)?.show()}else this._accountHistory=n(await o.getPrefabByBundle("AccountHistory","ExchangeCenter")),s.addParent(this._accountHistory,e),this._accountHistory.getComponent(a)?.show(),this._accountHistory.on(c.EventType.NODE_DESTROYED,(()=>{this._accountHistory=void 0}),this)}async showAccountRule(e,t){if(this._accountRule){if(this._accountRule.active)return;this._accountRule.active=!0,this._accountRule.getComponent(h)?.show(e)}else this._accountRule=n(await o.getPrefabByBundle("AccountRule","ExchangeCenter")),s.addParent(this._accountRule,t),this._accountRule.getComponent(h)?.show(e),this._accountRule.on(c.EventType.NODE_DESTROYED,(()=>{this._accountRule=void 0}),this)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/ExchangeCenterRepeater.ts",["cc","./AccountType.ts","./ModuleManager.ts"],(function(e){var t,a,n;return{setters:[function(e){t=e.cclegacy},function(e){a=e.AccountType},function(e){n=e.default}],execute:function(){t._RF.push({},"2333bcXaotAJrujs412ReZw","ExchangeCenterRepeater",void 0);class r{static get pointImage(){return this._pointImage}static set pointImage(e){this._pointImage=e}static get gold(){return this._gold}static set gold(e){this._gold=e}static get _serverSystem(){return n.instance.getManager("serverManager").callServer("server_System")}static get exchangeCenterManager(){return n.instance.getManager("exchangeCenterManager")}static get bagPackManager(){return n.instance.getManager("bagPackManager")}static async getExchangeList(){return await this._serverSystem.callApi("m/exchange/GetPrizeList",{accountType:a.POINT})}static async getAccountHistory(){return await this._serverSystem.callApi("m/user/GetUserAccountHistory",{accountType:a.POINT,pageSize:1e3,pageNumber:1})}static async exchangePrize(e){return await this._serverSystem.callApi("m/exchange/ExchangePrize",{accountType:a.POINT,exchangeId:e})}static async getExchangeConfig(){return await this._serverSystem.callApi("m/exchange/GetConfig",{accountType:a.POINT})}static getUiPopup(){return this.uiPopupManager||(this.uiPopupManager=n.instance.getManager("uiPopupManager")),this.uiPopupManager}}e("default",r),r._pointImage=void 0,r._gold=void 0,r.uiPopupManager=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/ExchangeEnableTimeType.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"755f2CCwBRJrLre9F18K2fh","ExchangeEnableTimeType",void 0);e("ExchangeEnableTimeType",function(e){return e.NOW="NOW",e.SPECIFY_TIME="SPECIFY_TIME",e}({}));e("ExchangeEnableTimeTypeName",{NOW:"直接上架",SPECIFY_TIME:"指定时间"});n._RF.pop()}}}));

System.register("chunks:///_virtual/ExchangeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadUtil.ts","./ExchangeCenterRepeater.ts"],(function(e){var t,i,n,a,r,o,l,c,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e.Sprite,r=e.Node,o=e.Label,l=e._decorator,c=e.Component},function(e){s=e.default},function(e){u=e.default}],execute:function(){var h,g,p,b,m,d,f,v,x,z,y,S,k,w,C,I,T,_,P,L,E,F,D,N,B,O,$;n._RF.push({},"365fdR5zdJPC5+iHBoirTjF","ExchangeItem",void 0);const{ccclass:H,property:M}=l;e("ExchangeItem",(h=H("ExchangeItem"),g=M(a),p=M(r),b=M(r),m=M(o),d=M(o),f=M(o),v=M(r),x=M(r),z=M(r),y=M(a),S=M(r),k=M(o),h((I=t((C=class extends c{constructor(){super(...arguments),i(this,"icon",I,this),i(this,"exchanged",T,this),i(this,"outOfStock",_,this),i(this,"shopName",P,this),i(this,"price",L,this),i(this,"num",E,this),i(this,"convert",F,this),i(this,"grayConvert",D,this),i(this,"lackConvert",N,this),i(this,"goldIcon",B,this),i(this,"tipBg",O,this),i(this,"tipLb",$,this),this._exchangeInfo=void 0}onLoad(){this.convert.on("click",this._onConvert,this)}updateExchange(e){if(this._exchangeInfo=e,s.getSpriteFrameIntelligent(u.pointImage,(e=>e&&this.goldIcon&&this.goldIcon.isValid&&(this.goldIcon.spriteFrame=e))),s.getSpriteFrameIntelligent(e.prizePicture,(e=>e&&this.icon&&this.icon.isValid&&(this.icon.spriteFrame=e))),this.shopName.string=e.prizeName,this.price.string=e.needAmount.toString(),this.num.string=e.prizeStock<0?"数量充足":`剩余${e.prizeStock}份`,e.enableTime){let t=this._getTime(e.enableTime);this.tipLb.string=`${t}天后${new Date(e.enableTime).getHours()}点上架`,this.grayConvert.active=!0,this.convert.active=!1}else if(e.updateStockTime){let t=this._getTime(e.updateStockTime);this.tipLb.string=`${t}天后${new Date(e.updateStockTime).getHours()}点更新库存`,this.grayConvert.active=!0,this.convert.active=!1}else this.convert.active="default"===e.exchangePrizeStatus&&u.gold>=e.needAmount,this.lackConvert.active="default"===e.exchangePrizeStatus&&u.gold<e.needAmount,this.grayConvert.active="outOfStock"===e.exchangePrizeStatus||"exchanged"===e.exchangePrizeStatus,this.exchanged.active="exchanged"===e.exchangePrizeStatus,this.outOfStock.active="outOfStock"===e.exchangePrizeStatus;this.tipBg.active=null!=e.enableTime||null!=e.updateStockTime,this.tipLb.node.active=null!=e.enableTime||null!=e.updateStockTime}_getTime(e){let t=e-(new Date).getTime();return Math.floor(t/864e5)}async _onConvert(){u.exchangeCenterManager.showConvertExchange(this._exchangeInfo,u.exchangeCenterManager.exchangeNode.parent)}}).prototype,"icon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(C.prototype,"exchanged",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(C.prototype,"outOfStock",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(C.prototype,"shopName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(C.prototype,"price",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(C.prototype,"num",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(C.prototype,"convert",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(C.prototype,"grayConvert",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(C.prototype,"lackConvert",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(C.prototype,"goldIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(C.prototype,"tipBg",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(C.prototype,"tipLb",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=C))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/ExchangeType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"14168EMJehFZ6Ml31UeL7WE","ExchangeType",void 0);e("EExchangePrizeStatus",function(e){return e.default="default",e.outOfStock="outOfStock",e.exchanged="exchanged",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ExpressStatus.ts",["cc"],(function(t){var s;return{setters:[function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"f6024kbARxGEIfDJmrWYilT","ExpressStatus",void 0);t("EExpressStatus",function(t){return t.wait="wait",t.sent="sent",t.stop="stop",t}({}));t("EExpressStatusName",{wait:"待发货",sent:"已发货",stop:"不予发货"});s._RF.pop()}}}));

System.register("chunks:///_virtual/fadeAction.ts",["cc","./baseAction.ts"],(function(t){var e,n,o,i;return{setters:[function(t){e=t.UIOpacity,n=t.tween,o=t.cclegacy},function(t){i=t.default}],execute:function(){o._RF.push({},"ecb1aCnKTpI3JEkhTGs2Nrr","fadeAction",void 0);t("default",class extends i{show(t,o){let i=t.getComponent(e);i||(i=t.addComponent(e));let s=this.curConfig.useData,a=s?.show||255;return i.opacity=s?.hide||0,n(i).to(this.curConfig.duration,{opacity:a},{easing:s?.easing||"smooth",onComplete:o}).start()}hide(t,o){let i=t.getComponent(e);i||(i=t.addComponent(e));let s=this.curConfig.useData;return n(i).to(this.curConfig.duration,{opacity:s?.hide||0},{easing:s?.easing||"smooth",onComplete:o}).start()}}),o._RF.pop()}}}));

System.register("chunks:///_virtual/FrameAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,o,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.Node,o=e._decorator,a=e.Component}],execute:function(){var s,l,c,u,h,p,d;n._RF.push({},"4e92b3VApRGvKBP9HlRmhl6","FrameAnimation",void 0);const{ccclass:m,property:_}=o;e("FrameAnimation",(s=m("FrameAnimation"),l=_(r),s((h=t((u=class extends a{constructor(){super(...arguments),i(this,"nodeParent",h,this),i(this,"interval",p,this),i(this,"loop",d,this),this._nodeId=0}start(){this.play()}update(e){}play(){this.schedule(this._updateFrame,this.interval)}_updateFrame(){this.nodeParent.children.forEach(((e,t)=>{e.active=t==this._nodeId})),this._nodeId++,this._nodeId>=this.nodeParent.children.length&&(this._nodeId=0,this.loop||this.unschedule(this._updateFrame))}}).prototype,"nodeParent",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=t(u.prototype,"interval",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=t(u.prototype,"loop",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),c=u))||c));n._RF.pop()}}}));

System.register("chunks:///_virtual/FrameAnimationSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,a,s,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t.Sprite,a=t.SpriteFrame,s=t._decorator,o=t.Component}],execute:function(){var l,p,u,h,d,c,m,b,y,f,_,F;r._RF.push({},"a7304N9KO1FXq7ItYfidfWQ","FrameAnimationSprite",void 0);const{ccclass:I,property:g}=s;t("FrameAnimationSprite",(l=I("FrameAnimationSprite"),p=g(n),u=g([a]),l((c=e((d=class extends o{constructor(){super(...arguments),i(this,"sprite",c,this),i(this,"spriteFrames",m,this),i(this,"interval",b,this),i(this,"loop",y,this),i(this,"playOnStart",f,this),i(this,"startIdx",_,this),i(this,"endIdx",F,this),this._nodeId=0,this._playEnd=void 0}start(){this.playOnStart&&this.play()}play(){this._nodeId=this.startIdx,this.schedule(this._updateFrame,this.interval)}listenPlayEnd(t){this._playEnd=t}_updateFrame(){this.sprite.spriteFrame=this.spriteFrames[this._nodeId],this._nodeId++,(this._nodeId>=this.spriteFrames.length||this.endIdx&&this._nodeId>=this.endIdx)&&(this._nodeId=this.startIdx,this.loop||(this.unschedule(this._updateFrame),this._playEnd?.()))}}).prototype,"sprite",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(d.prototype,"spriteFrames",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=e(d.prototype,"interval",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=e(d.prototype,"loop",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=e(d.prototype,"playOnStart",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=e(d.prototype,"startIdx",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=e(d.prototype,"endIdx",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=d))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/FrameworkConfig.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"2de39cQPWRCdoJQJlxHjhwz","FrameworkConfig",void 0);e("default",{version:"0.1.0"});r._RF.pop()}}}));

System.register("chunks:///_virtual/FriendChat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventUtil.ts","./TimeUtil.ts","./CustomScrollViewWithPrefab.ts","./UIFriendDeclare.ts","./UIFriendRepeater.ts","./FriendChatItem.ts","./UIFriendController.ts"],(function(t){var e,i,s,n,r,a,o,h,l,c,d,u,f,p,m,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){s=t.cclegacy,n=t.EditBox,r=t.Node,a=t.Label,o=t._decorator,h=t.Component,l=t.ScrollView},function(t){c=t.default},function(t){d=t.TimeUtil},function(t){u=t.CustomScrollViewWithPrefab},function(t){f=t.FriendChatMessageType},function(t){p=t.default},function(t){m=t.FriendChatItem},function(t){g=t.UIFriendController}],execute:function(){var _,b,w,C,L,y,I,F,P,S,M,U,v,T,V;s._RF.push({},"80dd2M/uI5JzIphep/6quE9","FriendChat",void 0);const{ccclass:z,property:W}=o;t("FriendChat",(_=z("FriendChat"),b=W(u),w=W(n),C=W(r),L=W(r),y=W(a),I=W(a),_((S=e((P=class extends h{constructor(){super(...arguments),i(this,"chatScrollViewWithPrefab",S,this),i(this,"content",M,this),i(this,"send",U,this),i(this,"close",v,this),i(this,"nickname",T,this),i(this,"online",V,this),this._chatList=new Map,this._uid=void 0}onLoad(){this.send.on("click",this.onSend,this),this.close.on("click",this.onClose,this),c.on("friendMessage",this._chatMessage,this),c.on("exitRoom",(t=>{this._chatList.clear()}),this)}start(){this._updateChatInfo()}async show(t){this._uid=t.friendUid,this.nickname.string=t.friendNickname,this.online.string=`(${t.online?"在线":"不在线"})`;const e=await p.serverRoom.callApi("room/GetOfflineMessage",{size:100});e.isSucc?e.res.list&&e.res.list.length>0&&e.res.list.map((t=>{if("FriendChat"==t.type){let e=this._chatList.get(this._uid)||[];0==e.filter((e=>e.time==t.data.serverTime)).length&&(e.push({content:t.data.content.text,time:t.data.serverTime,targetUid:t.data.senderId}),this._chatList.set(this._uid,e))}})):p.uiPopupManager.showTips(e.err.message),g.ins.getMessage().filter((t=>t.senderId==this._uid&&t.chatType==f.friend)).map((t=>{let e=this._chatList.get(this._uid)||[];0==e.filter((e=>e.time==t.time)).length&&(e.push({content:t.text,time:t.time,targetUid:t.senderId}),this._chatList.set(this._uid,e))})),this._refreshList()}async onSend(){""!=this.content.string&&await d.soloFunction((async()=>{await g.ins.sendMessage(this.content.string,f.friend,[this._uid]);let t=this._chatList.get(this._uid)||[];t.push({content:this.content.string,time:(new Date).getTime(),targetUid:p.userManager.myself.uid}),this._chatList.set(this._uid,t),this._refreshList()}))}onClose(){c.emit("hideRedPoint",this._uid),this.node.active=!1}_updateChatInfo(){this.chatScrollViewWithPrefab.setPrefabData(((t,e,i)=>{e.getComponent(m).updateChatItem(t)}));let t=this._chatList.get(this._uid)||[];this.chatScrollViewWithPrefab.dateList=t,this.chatScrollViewWithPrefab.node.getComponent(l)?.scrollToBottom(.1)}_chatMessage(t){this.node.active&&(t.map((t=>{if(t.senderId!=p.userManager.myself.uid&&t.senderId==this._uid){let e=this._chatList.get(this._uid)||[];e.push({content:t.text,time:t.time,targetUid:t.senderId}),this._chatList.set(this._uid,e)}})),this._refreshList())}_refreshList(){let t=this._chatList.get(this._uid)||[];this.chatScrollViewWithPrefab.dateList=t,this.content.string="",this.chatScrollViewWithPrefab.node.getComponent(l)?.scrollToBottom(.1)}}).prototype,"chatScrollViewWithPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(P.prototype,"content",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(P.prototype,"send",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(P.prototype,"close",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(P.prototype,"nickname",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(P.prototype,"online",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=P))||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/FriendChatItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./moment.mjs_cjs=&original=.js","./UIFriendRepeater.ts","./moment.js"],(function(t){var e,i,n,r,a,l,s,o,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Node,a=t.Label,l=t._decorator,s=t.Component},null,function(t){o=t.default},function(t){u=t.default}],execute:function(){var c,h,d,m,p,b,g,f,x,y,C;n._RF.push({},"3e6e3sA73VL0ZAxVNSzLFoK","FriendChatItem",void 0);const{ccclass:I,property:F}=l;t("FriendChatItem",(c=I("FriendChatItem"),h=F(r),d=F(a),m=F(a),p=F(r),c((f=e((g=class extends s{constructor(){super(...arguments),i(this,"head",f,this),i(this,"time",x,this),i(this,"text",y,this),i(this,"textContent",C,this)}updateChatItem(t){this.time.string=u(t.time).format("MM月DD日 HH:mm"),this.text.string=t.content,t.targetUid==o.userManager.myself.uid?(this.head.setSiblingIndex(1),this.textContent.setSiblingIndex(0)):(this.head.setSiblingIndex(0),this.textContent.setSiblingIndex(1))}}).prototype,"head",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(g.prototype,"time",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(g.prototype,"text",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(g.prototype,"textContent",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/FriendItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventUtil.ts","./TimeUtil.ts","./UIFriendRepeater.ts","./UIFriendController.ts"],(function(e){var i,t,n,s,a,r,o,d,l,h,c,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,s=e.Label,a=e.Sprite,r=e.Node,o=e._decorator,d=e.Component},function(e){l=e.default},function(e){h=e.TimeUtil},function(e){c=e.default},function(e){u=e.UIFriendController}],execute:function(){var p,f,b,m,_,w,D,y,C,g,v,I,P,F,A,U,k,R,T;n._RF.push({},"a56f9Vj9zhNvpbdPvNItKEa","FriendItem",void 0);const{ccclass:M,property:S}=o;e("FriendItem",(p=M("FriendItem"),f=S(s),b=S(s),m=S(a),_=S(r),w=S(r),D=S(r),y=S(r),C=S(r),p((I=i((v=class extends d{constructor(){super(...arguments),t(this,"nickname",I,this),t(this,"state",P,this),t(this,"head",F,this),t(this,"btnChat",A,this),t(this,"btnCard",U,this),t(this,"btnAdd",k,this),t(this,"btnDelete",R,this),t(this,"redPoint",T,this),this._userDataInfo=void 0,this._friendDataInfo=void 0,this._isDelete=!1}onLoad(){this.btnChat.on("click",this._onChat,this),this.btnCard.on("click",this._onCard,this),this.btnAdd.on("click",this._onAdd,this),this.head.node.on("click",this._onHead,this),this.btnDelete.on("click",this._onDelete,this),l.on("chatMessage",this._showRedPoint,this),l.on("hideRedPoint",this._hideRedPoint,this)}start(){}async showMember(e,i){this._isDelete=!1,this._userDataInfo=e,this.nickname.string=e.nickname||"测试",e.avatar,this.btnAdd.active=!i,this.btnChat.active=!1,this.btnDelete.active=!1,this.btnCard.active=!0}showFriend(e){this._isDelete=!0,this._friendDataInfo=e,this.nickname.string=e.friendNickname||"测试",e.friendAvatar,this.state.node.active=!0,this.state.string=e.online?"在线":"不在线",this.btnAdd.active=!1,this.btnChat.active=!0,this.btnDelete.active=!1,this.btnCard.active=!1}_onChat(){u.ins.showFriendChat(this._friendDataInfo)}async _onCard(){this._userDataInfo.uid==c.userManager.myself.uid?h.soloFunction((async()=>{const e=await c.serverRoom.callApi("room/userBusinessCard/GetUserBusinessCard",{});e.isSucc?u.ins.showBusinessCard(e.res.data):c.uiPopupManager.showTips(e.err.message)})):h.soloFunction((async()=>{const e=await c.serverRoom.callApi("room/userBusinessCard/GetUserBusinessCard",{toUid:this._userDataInfo.uid});if(e.isSucc)u.ins.showBusinessCard(e.res.data);else{if(await c.uiPopupManager.showConfirm(`确定与 ${this._userDataInfo.nickname} 交换名片吗？`,{btnPrimaryText:"确 定",btnSecondaryText:"取 消"})){const e=await c.serverRoom.callApi("room/userBusinessCard/SwitchUserBusinessCardApply",{toUid:this._userDataInfo.uid});e.isSucc||("请先完善您的名片"==e.err.message&&u.ins.showBusinessCard(null),await h.wait(500),c.uiPopupManager.showTips(e.err.message))}}}))}async _onAdd(){await c.uiPopupManager.showConfirm(`向 ${this._userDataInfo.nickname} 发送加好友申请吗？`,{btnPrimaryText:"确 定",btnSecondaryText:"取 消"})&&h.soloFunction((async()=>{const e=await c.serverRoom.callApi("room/friend/AddFriendApply",{toUid:this._userDataInfo.uid});e.isSucc?c.uiPopupManager.showTips("发送成功"):c.uiPopupManager.showTips(e.err.message)}))}async _onDelete(){await c.uiPopupManager.showConfirm(`确定删除好友 ${this._friendDataInfo.friendNickname} 吗？`,{btnPrimaryText:"确 定",btnSecondaryText:"取 消"})&&h.soloFunction((async()=>{const e=await c.serverRoom.callApi("room/friend/DeleteFriend",{toUid:this._friendDataInfo.friendUid});e.isSucc||c.uiPopupManager.showTips(e.err.message)}))}async _onHead(){this._isDelete&&(this.btnDelete.active=!this.btnDelete.active)}_showRedPoint(e){this._friendDataInfo&&e.map((e=>{e.senderId==this._friendDataInfo.friendUid&&(this.redPoint.active=!0)}))}_hideRedPoint(e){this._friendDataInfo&&e==this._friendDataInfo.friendUid&&(this.redPoint.active=!1)}}).prototype,"nickname",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(v.prototype,"state",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(v.prototype,"head",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(v.prototype,"btnChat",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(v.prototype,"btnCard",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(v.prototype,"btnAdd",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(v.prototype,"btnDelete",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(v.prototype,"redPoint",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/FriendMessage.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"28574tGTBlNbKaY0+xqhSiu","FriendMessage",void 0);e("EFriendOperateType",function(e){return e.add="add",e.agree="agree",e.unAgree="unAgree",e.delete="delete",e}({}));r._RF.pop()}}}));

System.register("chunks:///_virtual/FriendPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FriendMessage.ts","./UserBusinessCardMessage.ts","./EventUtil.ts","./NodePoolUtil.ts","./TimeUtil.ts","./UIFriendRepeater.ts","./FriendItem.ts","./UIFriendController.ts"],(function(e){var i,t,n,s,r,o,a,d,l,h,m,c,u,p,f,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,s=e.EditBox,r=e.Node,o=e._decorator,a=e.Component,d=e.Label},function(e){l=e.EFriendOperateType},function(e){h=e.EBusinessCardOperateType},function(e){m=e.default},function(e){c=e.default},function(e){u=e.TimeUtil},function(e){p=e.default},function(e){f=e.FriendItem},function(e){g=e.UIFriendController}],execute:function(){var b,_,y,M,P,F,v,L,N,w,C,S,T,U,R,B,I,O,k;n._RF.push({},"63ff1bnEHBO6I599LA9JYwX","FriendPanel",void 0);const{ccclass:x,property:A}=o;e("FriendPanel",(b=x("FriendPanel"),_=A(s),y=A(r),M=A(r),P=A(r),F=A(r),v=A(r),L=A(r),N=A(r),b((S=i((C=class extends a{constructor(){super(...arguments),t(this,"content",S,this),t(this,"search",T,this),t(this,"friendNode",U,this),t(this,"memberNode",R,this),t(this,"friendParent",B,this),t(this,"memberParent",I,this),t(this,"friendTip",O,this),t(this,"friendItem",k,this),this._isFriendOpen=!0,this._isMemberOpen=!0,this._friendList=void 0}onLoad(){this.search.on("click",this._onSearch,this),this.friendNode.on("click",this._onFriend,this),this.memberNode.on("click",this._onMember,this),c.createNodePool("friendItem",this.friendItem),m.on("userJoinRoom",this._onSetList,this),m.on("userExitRoom",this._onSetList,this),m.on("joinRoom",this._onSetList,this),m.on("exitRoom",this._onSetList,this),m.on("userFriendNotice",this._onFriendNotice,this),m.on("userBusinessCardNotice",this._onBusinessCard,this)}onEnable(){this._onSetList()}onClose(){this.node.active=!1}onDestroy(){c.destroyNodePool("friendItem"),m.off("userJoinRoom",this._onSetList,this),m.off("userExitRoom",this._onSetList,this),m.off("joinRoom",this._onSetList,this),m.off("exitRoom",this._onSetList,this),m.off("userFriendNotice",this._onFriendNotice,this),m.off("userBusinessCardNotice",this._onBusinessCard,this)}listenServerMessage(){p.serverRoom.listenMsg("room/serverMsg/JoinRoomNotice",(e=>{this._onSetList()})),p.serverRoom.listenMsg("room/serverMsg/ExitRoomNotice",(e=>{this._onSetList()})),p.serverRoom.listenMsg("room/serverMsg/FriendNotice",(e=>{this._onFriendNotice(e)})),p.serverRoom.listenMsg("room/serverMsg/BusinessCardNotice",(e=>{this._onBusinessCard(e)}))}async _onSetList(){const e=await p.serverRoom.callApi("room/friend/GetFriendList",{});e&&e.isSucc&&(this._friendList=e.res.list,this._setFriendList()),this._setMemberList()}_setFriendList(e){if(void 0===e&&(e=!1),!this._isFriendOpen)return;let i=e?this._friendList.filter((e=>e.friendNickname.includes(this.content.string))):this._friendList;i||(i=[]),this.friendParent.active=!0,this.friendTip.active=0==i.length,this.friendNode.getChildByName("name").getComponent(d).string=`我的好友（${i.length}）`,this.friendParent.children.map((e=>e.active=!1));for(let e=0;e<i.length;e++){let t=this.friendParent.children[e]||c.getNodeFromPool("friendItem");t.parent=this.friendParent,t.active=!0,t.getComponent(f)?.showFriend(i[e])}}_setMemberList(e){if(void 0===e&&(e=!1),!this._isMemberOpen)return;if(this.memberParent.active=!0,!p.serverRoom.client||!p.serverRoom.client.isConnected)return this.memberNode.getChildByName("name").getComponent(d).string="在线成员（0）",void this.memberParent.children.map((e=>e.active=!1));let i=p.userManager.others;this.memberNode.getChildByName("name").getComponent(d).string=`在线成员（${Object.keys(i).length+1}）`,this.memberParent.children.map((e=>e.active=!1));let t=!e;if(e&&p.userManager.myself.nickname?.includes(this.content.string)&&(t=!0),t){let e=this.memberParent.children[0]||c.getNodeFromPool("friendItem");e.parent=this.memberParent,e.active=!0,e.getComponent(f)?.showMember(p.userManager.myself,!0)}let n=t?0:-1;for(const t in i){const s=i[t];if(e&&!s.nickname?.includes(this.content.string))continue;n++;let r=this.memberParent.children[n]||c.getNodeFromPool("friendItem");r.parent=this.memberParent,r.active=!0;let o=!1;this._friendList&&this._friendList.filter((e=>e.friendUid==s.uid)).length>0&&(o=!0),r.getComponent(f)?.showMember(s,o)}}_onSearch(){const e=""!=this.content.string;this._setFriendList(e),this._setMemberList(e)}_onFriend(){this._isFriendOpen=!this._isFriendOpen,this._isFriendOpen?this._setFriendList():(this.friendTip.active=!1,this.friendParent.active=!1)}_onMember(){this._isMemberOpen=!this._isMemberOpen,this.memberParent.active=this._isMemberOpen}async _onFriendNotice(e){let i=p.userManager.myself.uid;if(e.operateType==l.add){if(e.toUid==i){let i=p.userManager.getUser(e.toUid),t=await p.uiPopupManager.showConfirm(`用户 ${i.nickname} 请求与你成为好友`,{btnPrimaryText:"同 意",btnSecondaryText:"拒 绝"});this._onAddFriend(t,e)}}else e.operateType==l.agree?e.uid!=i&&e.toUid!=i||(p.uiPopupManager.showTips("添加成功"),this._onSetList()):e.operateType==l.unAgree?e.toUid==i&&(p.uiPopupManager.showTips("拒绝添加"),this._onSetList()):e.operateType==l.delete&&(e.uid!=i&&e.toUid!=i||this._onSetList())}async _onAddFriend(e,i){const t=await p.serverRoom.callApi("room/friend/AddFriendProcess",{uid:i.toUid,toUid:i.uid,isAgree:e});console.log("AddFriendProcess",t),t.isSucc?this._onSetList():p.uiPopupManager.showTips(t.err.message)}async _onBusinessCard(e){if(e.operateType==h.apply){if(e.toUid==p.userManager.myself.uid){let i=p.userManager.getUser(e.uid),t=await p.uiPopupManager.showConfirm(`用户 ${i.nickname} 请求与你交换名片`,{btnPrimaryText:"确 定",btnSecondaryText:"取 消"});const n=await p.serverRoom.callApi("room/userBusinessCard/SwitchUserBusinessProcess",{fromUid:e.uid,isAgree:t});n.isSucc||("请先完善您的名片"==n.err.message&&g.ins.showBusinessCard(null,e),await u.wait(500),p.uiPopupManager.showTips(n.err.message))}}else if(e.operateType==h.agree){if(e.toUid==p.userManager.myself.uid){let i=p.userManager.getUser(e.uid);await p.uiPopupManager.showTips(`与用户 ${i.nickname} 交换名片成功，快去查看吧`)}}else if(e.operateType==h.unAgree&&e.toUid==p.userManager.myself.uid){let i=p.userManager.getUser(e.uid);await p.uiPopupManager.showTips(`用户 ${i.nickname} 拒绝你的交换名片请求`)}}}).prototype,"content",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(C.prototype,"search",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(C.prototype,"friendNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(C.prototype,"memberNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(C.prototype,"friendParent",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(C.prototype,"memberParent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(C.prototype,"friendTip",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(C.prototype,"friendItem",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=C))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/FruitCollision.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManage.ts","./StaticLayer.ts","./GameConfig.ts","./GameLogic.ts"],(function(t){var e,i,o,n,a,s,r,l,c,u,d,h,m,p,g,f,C,b,N,y,S,v,G,T,H;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Node,a=t._decorator,s=t.Component,r=t.view,l=t.UITransform,c=t.Collider2D,u=t.Contact2DType,d=t.Tween,h=t.UIOpacity,m=t.tween,p=t.v3,g=t.easing,f=t.CircleCollider2D,C=t.RigidBody2D,b=t.Sprite,N=t.Color,y=t.isValid},function(t){S=t.AudioManage,v=t.SoundList},function(t){G=t.default},function(t){T=t.default},function(t){H=t.GameLogic}],execute:function(){var F,B,k,w,D,O,E,I;o._RF.push({},"10417yRnXZNtIP/ksyoFcQk","FruitCollision",void 0);const{ccclass:z,property:P}=a;t("default",(F=P(n),B=P(n),k=P(n),z((O=e((D=class t extends s{constructor(){super(...arguments),i(this,"animalRing",O,this),i(this,"maskNode",E,this),i(this,"animalHalo",I,this),this.fruitNumber=0,this.dangerousNumber=void 0,this.returnNumber=!1,this.getNumberTime=0,this.bianjieX=0,this.testEndDJS=0,this.endOne=0,this.canMerge=!0,this.touchOne=!1}onLoad(){this.maskNode.active=!1,this.animalHalo.active=!1,this.node.on(n.EventType.TOUCH_END,this.onBlockTouchEnd,this)}start(){this.dangerousNumber=T.maxFriutId;let t=r.getVisibleSize();this.bianjieX=t.width/2-this.node.getComponent(l).width/2;let e=this.node.getComponent(l).contentSize;this.animalRing.getComponent(l).setContentSize(e),this.animalHalo.getComponent(l).setContentSize(e),this.maskNode.getComponent(l).setContentSize(e);let i=this.getComponent(c);i&&i.on(u.BEGIN_CONTACT,this.onBeginContact,this),this.canMerge=!0}playHaloAnim(){d.stopAllByTarget(this.animalHalo),this.animalHalo.getComponent(h).opacity=0,this.animalHalo.active=!0,this.maskNode.active=!0,m(this.animalHalo.getComponent(h)).to(1,{opacity:255}).to(1,{opacity:0}).union().repeatForever().start()}stopHaloAnim(){d.stopAllByTarget(this.animalHalo),this.animalHalo.getComponent(h).opacity=0,this.animalHalo.active=!1,this.maskNode.active=!1}onBlockTouchEnd(){this.node!==G.GameStatic.targetFruit&&G.GameStatic.isClearState&&(this.touchOne||(this.touchOne=!0,G.GameStatic.onBallTouchEnd(),S.playSFX(v.out),m(this.node).to(.2,{scale:p(0,0,1)},{easing:g.backIn}).call((()=>{this.node.active=!1,this.touchOne=!1,this.node.destroy()})).start()))}update(t){this.node.position.x<-this.bianjieX&&this.node.setPosition(-this.bianjieX,this.node.position.y),this.node.position.x>this.bianjieX&&this.node.setPosition(this.bianjieX,this.node.position.y),this.returnNumber&&(this.scheduleOnce((()=>{this.getNumberTime=0}),.25),this.returnNumber=!1),"FruitNode"==this.node.parent.name&&(this.testEndDJS+=t)}lateUpdate(t){if(!G.GameStatic.isGameOver&&this.node.position.y+this.node.getComponent(l).width/2>G.GameStatic.lineNode.children[0].position.y&&this.testEndDJS>3){for(let t=0;t<G.GameStatic.fruitNode.children.length;t++)G.GameStatic.fruitNode.children[t].removeComponent(f),G.GameStatic.fruitNode.children[t].removeComponent(C);G.GameStatic.isGameOver=!0,this.node.getComponent(b).color=N.RED,m(this.node.getComponent(h)).to(.3,{opacity:0}).to(.3,{opacity:255}).union().repeat(3).call((()=>{G.GameStatic.end(!0),G.GameStatic.lineNode.children[0].active=!1})).start()}}getNumber(){let t=this.getNumberTime;return this.getNumberTime++,this.returnNumber=!0,t}onBeginContact(e,i,o){if(2==i.group){if(e.node.position.y<i.node.position.y)return;const o=[e.node,i.node];for(const e of o)if(!e.getComponent(t).canMerge)return;e.node.parent=G.GameStatic.fruitNode,null!=e.node.getComponent(C)&&(e.node.getComponent(C).angularVelocity=0);let n=this.fruitNumber,a=i.node.getComponent(t).fruitNumber;if(n==T.maxFriutId||a==T.maxFriutId)return;let s=(n==T.PowerBallTag||a==T.PowerBallTag)&&(n<=this.dangerousNumber||a<=this.dangerousNumber);if(s||(s=n==a&&n<=this.dangerousNumber),!s)return;if(0!==e.node.getComponent(t).getNumber())return;for(const e of o)e.getComponent(t).canMerge=!1;let r=this.fruitNumber<T.PowerBallTag?this.fruitNumber:i.getComponent(t).fruitNumber;const l=H.instance.consecutiveComposeCount,c=T.getFruitInfo(r).score;m(e.node).to(.2,{position:i.node.position}).call((()=>{this.isValid&&i.isValid&&(G.GameUIStatic.updateScore(c+l,i.node.position),G.GameStatic.createLevelUpFruit(r+1,i.node.position),G.GameStatic.playGuanghuanEffect(i.node.position.clone()),i.node.active=!1,e.node.active=!1,H.instance.consecutiveComposeCount++,this.scheduleOnce((()=>{y(i.node)&&i.node.destroy(),y(this.node)&&this.node.destroy()}),.5))})).start()}}}).prototype,"animalRing",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(D.prototype,"maskNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(D.prototype,"animalHalo",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=D))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["cc","./DataUtil.ts"],(function(e){var t,i,r;return{setters:[function(e){t=e.size,i=e.cclegacy},function(e){r=e.default}],execute:function(){i._RF.push({},"d9bc6TZXKZE04oGB6f9E/4K","GameConfig",void 0);class s{static getNextFruiKind(e,t,i){void 0===i&&(i=0);let r=[];if(t<3)return 0;if(3===t)return 1;r=e<5?[25,45,25,5]:e<9?[5,30,35,20,10]:[3,10,52,25,10];let s=0;for(const e of r)s+=e;let n=Math.random()*s,o=0;for(const e of r){if(n<e)break;n-=e,o++}return i&&(o+=i),o>this.maxFriutId-2&&(o=this.maxFriutId-2),o}static getFruitInfo(e){const i=this.FruitData[e],s=r.deepClone(i);return s.size=t(i.size.width/1.04,i.size.height/1.04),s}static get maxFriutId(){return this.FruitData.length-1}static get HintTargetFruitTopLevel(){return 5}}e("default",s),s.FruitData=[{size:t(100,100),spriteName:"fruit_2",name:"樱桃",score:3},{size:t(126,126),spriteName:"fruit_3",name:"橘子",score:6},{size:t(137,137),spriteName:"fruit_4",name:"柠檬",score:10},{size:t(170,170),spriteName:"fruit_5",name:"猕猴桃",score:15},{size:t(200,200),spriteName:"fruit_6",name:"番茄",score:21},{size:t(280,280),spriteName:"fruit_8",name:"菠萝",score:36},{size:t(360,360),spriteName:"fruit_10",name:"半个西瓜",score:55},{size:t(410,410),spriteName:"fruit_11",name:"大西瓜",score:66}],s.FruitScore={maxAddScore:100},s.GameTimeConfig={totalTime:300},s.GameBeeConfig={flyTime:10,propConfig:{1:{title:"水果消除",hintContent:"1/3"},2:{title:"水果清除",hintContent:"4"},3:{title:"万能球",hintContent:"可以合并任意水果"},4:{title:"积分奖励",hintContent:"50"}},generateCondition:[{startTime:30,score:90,propTypes:[20,20,50,10]},{startTime:120,score:160,propTypes:[10,40,30,20]},{startTime:200,score:200,propTypes:[40,20,30,10]},{startTime:300,score:300,propTypes:[10,20,20,10]}],specialCondition:{condition:[1,2,3],topHigh:70,propTypes:[50,40,10,0]}},s.PowerBallTag=100,i._RF.pop()}}}));

System.register("chunks:///_virtual/GameGlobal.ts",["cc","./EventUtil.ts","./StorageUtil.ts","./EncryptUtil2.ts","./TimeUtil.ts","./BundleLayer.ts","./telegram-web.ts","./GlobalManager.ts","./ButtonType.ts","./TypesInfo2.ts","./TgCocosManager.ts","./TonConnectConfig.ts"],(function(e){var t,a,n,r,i,s,o,c,d,u,h,l;return{setters:[function(e){t=e.cclegacy},function(e){a=e.default},function(e){n=e.default},function(e){r=e.EncryptUtil},function(e){i=e.TimeUtil},function(e){s=e.default},function(e){o=e.TelegramWebApp},function(e){c=e.default},function(e){d=e.EBtnType},function(e){u=e.EOrderStatus},function(e){h=e.TgCocosManager},function(e){l=e.TonConnectConfig}],execute:function(){t._RF.push({},"1f0e1GX0+xI2Kv2OwQ3A8l3","GameGlobal",void 0);const f={times:3};class m{constructor(){this._isShowAirdrop=!1,this.userInfo={tgUid:"",id:"",nickname:"",avatar:""},this.accountInfo={point:100,times:3,draw:3,drawMoney:.5},this.serverConfig={loadingPage:{activeCard:"https://d2h6lhn2iwtzyf.cloudfront.net/fruit_res/images/loadingAds.png"},mainPage:{ads:"https://d2h6lhn2iwtzyf.cloudfront.net/fruit_res/images/loadingAds.png",activeAwardScores:[{icon:"https://d2h6lhn2iwtzyf.cloudfront.net/fruit_res/images/loadingAds.png",score:1500},{icon:"https://d2h6lhn2iwtzyf.cloudfront.net/fruit_res/images/loadingAds.png",score:855},{icon:"https://d2h6lhn2iwtzyf.cloudfront.net/fruit_res/images/loadingAds.png",score:800}]},drawConfig:{moneyGet:2},cashOutConfig:{type_1:!0,type_2:!0,type_3:!0}},this.gameButtonConfig={reviveBtn:{btnType:d.buy,priceInfo:{price:.2,nowPrice:.2}},gameOverBtn:{btnType:d.buy,priceInfo:{price:.2,nowPrice:.2}}},this.gamePropConfig={gameProp_1:{index:!0,share:!1,buy:!0,value:10},gameProp_2:{index:!0,share:!1,buy:!0,value:10},gameProp_3:{index:!0,share:!1,buy:!0,value:10},gameProp_4:{index:!0,share:!1,buy:!0,value:10}},this._airdropParent=void 0,this._allNeedCheckPayment=[],this._todayLeftShareTimes=void 0}static get instance(){return this._instance||(this._instance=new m),this._instance}get gameServer(){return c.moduleManager("serverManager").callServer("server_System")}get uiPopupManager(){return c.moduleManager("uiPopupManager")}get isShowAirdrop(){return this._isShowAirdrop}async init(){c.moduleManager("drawManager").initDraw(),this.getAllTodayLeftTimes()}async share(e){const t={id:this.userInfo.id},n=this.encryptObject(t);{const e=l.shareUrl+"?startapp="+n;o.Instance.share(e,l.shareTitle)}if(e){if(await i.wait(3e3),"times"==e){if(!this.useTodayLeftTimes(e))return c.moduleManager("uiPopupManager").showTips("今日分享次数已用完"),!1;const t=await this.gameServer.addGameTimes();return t&&c.moduleManager("uiPopupManager").showTips("分享成功,获得次数+1"),t}{const t=await this.gameServer.addProp(e);return t&&(a.emit("buyOrShareCallback",{key:e,isSuccess:!0,isShare:!0}),c.moduleManager("uiPopupManager").showTips("分享成功,获得道具+1")),t}}return!0}getLeftTimeStr(e){const t=e-Date.now();if(t<=0)return"";const a=Math.floor(t/1e3/60/60)%24,n=Math.floor((t-60*a*60*1e3)/1e3/60)%60,r=Math.floor((t-60*a*60*1e3-60*n*1e3)/1e3)%60;return`${Math.floor(t/1e3/60/60/24)} 天  ${a} : ${n<10?`0${n}`:n} : ${r<10?`0${r}`:r} `}formatTimeStr(e){const t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),i=t.getHours(),s=t.getMinutes(),o=t.getSeconds();return`${a}年${n}月${r}日 ${i}:${s<10?`0${s}`:s}:${o<10?`0${o}`:o}`}async enterMainCheck(){const e=await this.gameServer.getMyPrize();e&&e.length>0&&s.show("ShowGetPrize",{showInfo:e})}set airdropParent(e){this._airdropParent=e,e?this.detectionAirdrop(!0):s.destroy("Airdrop")}async detectionAirdrop(e){void 0===e&&(e=!1);const t=await this.gameServer.callApi("m/airdrop/GetConfig");let n=t.isSucc&&!!t.res.data,r=0;if(n){const e=.75;for(const e in t.res.data){const a=t.res.data[e];a?.finish&&a?.amount&&(r+=a.amount)}n=r>=t.res.data.amount*e}(n!=this._isShowAirdrop||e)&&(this._isShowAirdrop=n,n?s.show("Airdrop",{parent:this._airdropParent,showInfo:{curAmount:r,detailInfo:t.res.data}}):s.hide("Airdrop"),a.emit("airdropStateChange"))}async showGetMoney(e){await s.show("GetMoneyLayer",{showInfo:{curAmount:e}})}async getMoney(e,t){return console.error("ToDo: 领取现金",e,t),!0}async pay(e){var t=this;if(!h.instance.isConnected)return h.instance.connect(),!1;const n=await this.gameServer.callApi("m/order/ton/CreatePayment",{key:e,address:h.instance.addressStr});if(!n.isSucc){return!!await this.uiPopupManager.showConfirm("获取支付订单失败，是否重试？",{btnPrimaryText:"重试",btnSecondaryText:"取消"})&&this.pay(e)}const r=n.res;console.log("order-----\x3e",r);if(!await h.instance.buy(r.amount,r.tonToken,r.orderId))return!1;const s=async function(n){for(void 0===n&&(n=3);n>0;){const s=await t.checkPayment(r.orderId,r.amount);if(s==u.success)return a.emit("buyOrShareCallback",{key:e,isSuccess:!0}),s;--n>0&&await i.wait(1e3)}return u.fail};let o=!1;do{const e=await s();if(e==u.success)return e;o=await this.uiPopupManager.showConfirm("获取支付结果失败，订单可能存在延时，是否重试？",{btnPrimaryText:"重试",btnSecondaryText:"取消"})}while(o);return u.fail}async checkAllOldPayment(){const e=n.get("needCheckPayment");if(!e)return;this._allNeedCheckPayment=e;const t=[];for(let e=this._allNeedCheckPayment.length-1;e>=0;e--){const a=this._allNeedCheckPayment[e];await this.checkPayment(a.orderId,a.amount)==u.success&&t.push(a.orderId)}return t}async checkPayment(e,t){let a;for(;;){if(a=await this.gameServer.callApi("m/order/ton/CheckPayment",{orderId:e}),a.isSucc)break;if(!await this.uiPopupManager.showConfirm("获取支付结果失败，是否重试？",{btnPrimaryText:"重试",btnSecondaryText:"取消"}))break}const r=this._allNeedCheckPayment.findIndex((t=>t.orderId==e));return a?.res?.status==u.success?(-1!=r&&(this._allNeedCheckPayment.splice(r,1),n.set("needCheckPayment",this._allNeedCheckPayment)),await this.gameServer.getAccountInfo(),u.success):(-1==r&&(this._allNeedCheckPayment.push({orderId:e,amount:t}),n.set("needCheckPayment",this._allNeedCheckPayment)),u.fail)}encryptObject(e){const t=r.aesEncrypt(JSON.stringify(e));return t?btoa(t):null}decryptObject(e){const t=r.aesDecrypt(atob(e));return t?JSON.parse(t):null}isTodayHasLeftTimes(e){return this._todayLeftShareTimes?.data[e]>0}useTodayLeftTimes(e){if(!this.isTodayHasLeftTimes(e))return!1;return this._todayLeftShareTimes.data[e]--,n.set("todayLeftShareTimes",this._todayLeftShareTimes),!0}getAllTodayLeftTimes(){const e=(new Date).toISOString().split("T")[0],t=n.get("todayLeftShareTimes");t&&t.day==e?this._todayLeftShareTimes=t:this._todayLeftShareTimes={day:e,data:{...f}}}}e("GameGlobal",m),m._instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogic.ts",["cc","./EventUtil.ts","./GameConfig.ts"],(function(t){var e,i,s,a;return{setters:[function(t){e=t.cclegacy,i=t.sys},function(t){s=t.default},function(t){a=t.default}],execute:function(){e._RF.push({},"a14a49hAUtFm7vyhIDCq8mO","GameLogic",void 0);class o{constructor(){this._gameStartTime=0,this._score=0,this._topHigh=0,this.beeConditionLevel=0,this.consecutiveComposeCount=0,this.topFruitLevel=0,this.createFruitCount=0,this.curTransactionType=void 0,this.composeBigWatermelonCount=0,this.addDifficulty=0,this.showNewPlayerProp=0,this.isInHintState=!1,this._isGamePaused=!1,this.lastReviveLocalName="lastReviveLocal"}get isGamePaused(){return this._isGamePaused}static get instance(){return this._instance||(this._instance=new o),this._instance}get gameTime(){return(Date.now()-this._gameStartTime)/1e3}get score(){return this._score}get topHigh(){return this._topHigh}init(){}startGame(){this._gameStartTime=Date.now(),this.beeConditionLevel=0,this._score=0,this._topHigh=0,this.consecutiveComposeCount=0,this.topFruitLevel=0,this.createFruitCount=0,this.addDifficulty=0,this._isGamePaused=!1,this.composeBigWatermelonCount=0}endGame(){}reviveGame(){this.recordRevive(),s.emit("reviveGame")}addScore(t){this._score+=t}updateTopHigh(t){t<=this._topHigh||(this._topHigh=t)}updateTopFruitLevel(t){this.topFruitLevel<t&&t<a.PowerBallTag&&(this.topFruitLevel=t)}addFruitCount(){this.createFruitCount++}getPropByProbability(t,e){void 0===e&&(e=0),e||(e=t.reduce(((t,e)=>t+e),0));let i=Math.random()*e,s=0;for(let e=0;e<t.length;e++)if(s+=t[e],i<s)return e;return-1}canRevive(){return(new Date).toDateString()!=i.localStorage.getItem(this.lastReviveLocalName)}recordRevive(){const t=(new Date).toDateString();i.localStorage.setItem(this.lastReviveLocalName,t)}pauseGame(){this._isGamePaused=!0}resumeGame(){this._isGamePaused=!1}}t("GameLogic",o),o._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ActionUtil.ts","./EventUtil.ts","./StorageUtil.ts","./TimeUtil.ts","./AudioManage.ts","./StaticLayer.ts","./GameConfig.ts","./GameGlobal.ts","./ConfirmExitLayer.ts","./FruitCollision.ts","./GameLogic.ts","./GetMaxAwardLayer.ts","./OverScoreShow.ts","./RandomPropLayer.ts","./ReviveLayer.ts","./SkillLayer.ts"],(function(t){var e,i,r,n,a,o,s,l,u,h,c,g,p,f,d,m,y,b,w,F,v,C,N,S,L,P,T,H,z,G,I,k,_,A,B,O,x,E,U,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t.Animation,a=t.Node,o=t.Prefab,s=t.SpriteAtlas,l=t.SpriteFrame,u=t._decorator,h=t.Component,c=t.UITransform,g=t.PhysicsSystem2D,p=t.v3,f=t.tween,d=t.UIOpacity,m=t.easing,y=t.instantiate,b=t.Sprite,w=t.RigidBody2D,F=t.v2,v=t.CircleCollider2D,C=t.Tween,N=t.Label},function(t){S=t.default},function(t){L=t.default},function(t){P=t.default},function(t){T=t.TimeUtil},function(t){H=t.AudioManage,z=t.SoundList},function(t){G=t.default},function(t){I=t.default},function(t){k=t.GameGlobal},function(t){_=t.default},function(t){A=t.default},function(t){B=t.GameLogic},function(t){O=t.GetMaxAwardLayer},function(t){x=t.default},function(t){E=t.default},function(t){U=t.default},function(t){D=t.default}],execute:function(){var M,R,W,K,$,j,J,V,X,q,Q,Y,Z,tt,et,it,rt,nt,at,ot,st,lt,ut,ht,ct,gt,pt,ft,dt,mt,yt,bt,wt,Ft,vt,Ct,Nt,St,Lt,Pt,Tt,Ht,zt,Gt;r._RF.push({},"55bb8c9KfJB+rKN6Uf8Cn8w","GameManager",void 0);const{ccclass:It,property:kt}=u;t("default",(M=kt(x),R=kt(n),W=kt(a),K=kt(a),$=kt(_),j=kt(E),J=kt(a),V=kt(O),X=kt(a),q=kt(a),Q=kt(a),Y=kt(a),Z=kt(a),tt=kt(o),et=kt(a),it=kt(s),rt=kt(l),nt=kt(a),at=kt(D),ot=kt(U),st=kt(a),It((ht=e((ut=class extends h{constructor(){super(...arguments),i(this,"overScoreShow",ht,this),i(this,"guanghuan",ct,this),i(this,"effectParent",gt,this),i(this,"airdropParent",pt,this),i(this,"ConfirmExitLayer",ft,this),i(this,"RandomPropLayer",dt,this),i(this,"floor",mt,this),i(this,"GetMaxAwardLayer",yt,this),i(this,"targetLayer",bt,this),i(this,"targetParent",wt,this),i(this,"gameBg",Ft,this),i(this,"fruitNode",vt,this),i(this,"targetfruitNode",Ct,this),i(this,"fruitPre",Nt,this),i(this,"lineNode",St,this),i(this,"picAtlas",Lt,this),i(this,"powerBallFrame",Pt,this),i(this,"overLayer",Tt,this),i(this,"skillLayer",Ht,this),i(this,"reviveLayer",zt,this),i(this,"difficultNode",Gt,this),this.targetFruit=null,this.endOne=0,this.isClearState=!1,this.isGameOver=!1,this.allFruitsHeigth={},this.fruitHeigth=0,this._showWarningLineN=0,this._targetFruitLevel=1,this._isNewPlayer=!0}get _floorHeight(){return this.floor.position.y+this.floor.getComponent(c).height/2}onLoad(){g.instance.enable=!0,G.Instance.setGameStatic(this),G.Instance.setSkillStatic(this.skillLayer),G.Instance.setConfirmExitStatic(this.ConfirmExitLayer),G.Instance.setOverScoreShowStatic(this.overScoreShow),this.overLayer.active=!1,this.skillLayer.node.active=!1,this.isClearState=!1,this.isGameOver=!1}onEnable(){L.on("reviveGame",(()=>{this.isGameOver=!1,this.fruitNode.removeAllChildren(),this.targetfruitNode.removeAllChildren(),this.createOneFruit(0,p(0,500))})),this.scheduleOnce((()=>{k.instance.airdropParent=this.airdropParent}),.1)}onDisable(){k.instance.airdropParent=void 0,L.targetOff(this)}start(){this.playWarningLineAnim(),this.createOneFruit(0,p(0,500)),this.initShowTargetFruit(),this.initShowNewPlayerProp(),this.schedule(this.findHighestFruit,.1),this._showWarningLineN=0}update(){const t=this.fruitHeigth;this.lineNode.children[0].position.y-t<200?this.lineNode.children[0].active||(this._showWarningLineN++,this.lineNode.children[0].active=!0,this.checkShowNewUserProp()):this.lineNode.children[0].position.y-this.fruitHeigth>200&&(this.lineNode.children[0].active=!1)}onDestroy(){G.Instance.setGameStatic(null),G.Instance.setSkillStatic(null)}playWarningLineAnim(){f(this.lineNode.children[0].getComponent(d)).to(.3,{opacity:255},{easing:m.backOut}).to(.3,{opacity:0},{easing:m.backOut}).union().repeatForever().start(),this.lineNode.children[0].active=!1}createOneFruit(t,e){let i=y(this.fruitPre);i.setParent(this.targetfruitNode);let r=t;const n=I.getFruitInfo(r);let a=this.picAtlas.getSpriteFrame(n.spriteName);i.getComponent(b).spriteFrame=a;let o=n.size;i.getComponent(c).setContentSize(o),i.getComponent(A).fruitNumber=t,i.setPosition(e),i.setScale(0,0),i.getComponent(w).enabled=!1,i.active=!0,this.targetFruit=i,f(i).to(.3,{scale:p(1,1,1)},{easing:"backOut"}).call((()=>{B.instance.updateTopFruitLevel(r),B.instance.addFruitCount()})).start()}createLevelUpFruit(t,e){if(H.playSFX(z.swap),t>I.maxFriutId)return;let i=y(this.fruitPre);i.parent=this.fruitNode;let r=t;const n=I.getFruitInfo(r);let a=this.picAtlas.getSpriteFrame(n.spriteName);i.getComponent(b).spriteFrame=a;let o=n.size;i.getComponent(c).setContentSize(o),i.getComponent(A).fruitNumber=t,i.setPosition(e),i.setScale(0,0),i.getComponent(w).linearVelocity=F(0,-10),i.getComponent(v).radius=i.getComponent(c).height/2,i.getComponent(v).apply(),f(i).to(.5,{scale:p(1,1,1)},{easing:"backOut"}).call((()=>{B.instance.updateTopFruitLevel(r),B.instance.addFruitCount(),null!=i.getComponent(v)&&(i.getComponent(v).radius=i.getComponent(c).height/2,i.getComponent(v).apply(),i.getComponent(w).enabled=!0),this.checkFinishShowTargetFruit(r),r==I.maxFriutId&&(B.instance.composeBigWatermelonCount++,B.instance.addScore(100),this.GetMaxAwardLayer.show())})).start()}usePropToChangeTargetFruit(){let t=this.targetFruit.getComponent(c).contentSize;C.stopAllByTarget(this.targetFruit),this.targetFruit.setScale(0,0),this.targetFruit.getComponent(b).spriteFrame=this.powerBallFrame,this.targetFruit.getComponent(c).setContentSize(t),this.targetFruit.getComponent(A).fruitNumber=I.PowerBallTag,f(this.targetFruit).to(.3,{scale:p(1,1,1)},{easing:"backOut"}).start()}usePropToClearScreenFruit(){const t=this._floorHeight,e=2*(this.fruitHeigth-t)/3+t;console.error("clearH",t,e);for(let t=this.fruitNode.children.length-1;t>=0;t--){let i=this.fruitNode.children[t];if(!i.active)continue;const r=this.getFruitHeight(i);console.log("fruitHeight",r,r>e),r>e&&this.destroyFruit(i)}}usePropToClearLowFruit(){for(let t=this.fruitNode.children.length-1;t>=0;t--){let e=this.fruitNode.children[t];e.active&&(e.getComponent(A).fruitNumber<3&&this.destroyFruit(e))}}onBallTouchEnd(){this.isClearState=!1;for(let t=0;t<this.fruitNode.children.length;t++){let e=this.fruitNode.children[t];e.active&&e.getComponent(A).stopHaloAnim()}}usePropToClearOneFruit(){this.isClearState=!0;for(let t=0;t<this.fruitNode.children.length;t++){let e=this.fruitNode.children[t];e.active&&e.getComponent(A).playHaloAnim()}}async end(t){if(G.GameUIStatic.timeStop(),!B.instance.canRevive()||!await this.reviveLayer.show()){this.overLayer.active=!0,this.targetfruitNode.active=!0;for(let t=0;t<this.targetfruitNode.children.length;t++)this.targetfruitNode.children[t].active=!1;B.instance.endGame()}}findHighestFruit(){const t=this._floorHeight,e={};for(let t=0;t<this.fruitNode.children.length;t++){const i=this.fruitNode.children[t];if(!i.active)continue;const r=this.getFruitHeight(i);this.allFruitsHeigth[i.uuid]?e[i.uuid]=this.allFruitsHeigth[i.uuid]:e[i.uuid]={history:[],min:r},e[i.uuid].history.push(r),e[i.uuid].history.length>5&&e[i.uuid].history.shift()}this.allFruitsHeigth=e;let i=t;for(const t in e){const r=e[t];if(r.history.length<5)continue;let n=Math.min(...r.history);(n<r.min||n!=r.history[4])&&(r.min=n),i<r.min&&(i=r.min)}this.fruitHeigth=i,B.instance.updateTopHigh(i)}getFruitHeight(t){return t.position.y+t.getComponent(c).height/2}destroyFruit(t){t.removeFromParent(),t.destroy()}initShowTargetFruit(){this._targetFruitLevel=P.get("targetFruitLevel",1)||1,this.targetParent.active=!1,this.targetLayer.active=!1,this.autoShowTargetFruit()}async autoShowTargetFruit(){const t=I.HintTargetFruitTopLevel,e=this.targetParent,i=this.targetLayer;if(this._targetFruitLevel>t)return e.active=!1,i.active=!1,void(B.instance.isInHintState=!1);B.instance.isInHintState=!0;const r=this._targetFruitLevel,n=e.getChildByName("targetIcon").getComponent(b),a=["fruit1Icon","fruit2Icon"].map((t=>i.getChildByName("content").getChildByName(t).getComponent(b))),o=i.getChildByName("title").getChildByName("targetIcon").getComponent(b),s=i.getChildByName("content").getChildByName("targetFruit").getComponent(b),l=i.getChildByName("desc").getChildByName("descLabel").getComponent(N),u=I.getFruitInfo(r),h=I.getFruitInfo(r-1),c=this.picAtlas.getSpriteFrame(u.spriteName),g=this.picAtlas.getSpriteFrame(h.spriteName);if(i.active=!0,C.stopAllByTarget(i),i.setPosition(0,0,0),a.forEach((t=>{t.spriteFrame=g})),o.spriteFrame=c,s.spriteFrame=c,l.string=`叠加${h.name}颗草莓可以合成一个${u.name}`,await S.show(i,{type:"scale",duration:.3}),r!=this._targetFruitLevel)return;if(await T.wait(1e3),r!=this._targetFruitLevel)return;const d=e.position;f(i).parallel(f(i).to(.3,{position:d},{easing:"backInOut"}),f(i).to(.3,{scale:p(0,0,1)},{easing:"backIn"})).call((()=>{e.active=!0,S.change(n.node,{type:"scale",duration:.3,onChange:()=>{n.spriteFrame=c}}),i.active=!1})).start()}checkFinishShowTargetFruit(t){t==this._targetFruitLevel&&(this._targetFruitLevel++,P.set("targetFruitLevel",this._targetFruitLevel),6==this._targetFruitLevel&&(this.difficultNode.active=!0,this.difficultNode.getComponent(n).play(),this.difficultNode.getComponent(n).on(n.EventType.FINISHED,(()=>{this.difficultNode.active=!1}),this),console.log("难度飙升！"),B.instance.addDifficulty=2),this.autoShowTargetFruit())}initShowNewPlayerProp(){this._isNewPlayer=!0,//!StorageUtil.get('isOldPlayer', false);
this._isNewPlayer?(B.instance.showNewPlayerProp=0,P.set("isOldPlayer",!0)):B.instance.showNewPlayerProp=5}checkShowNewUserProp(){if(B.instance.showNewPlayerProp>1)return;let t=1,e=()=>{const e=I.GameBeeConfig.propConfig[t];return{title:e.title,type:t,hintContent:e.hintContent,success:e=>{switch(t){case 1:G.GameStatic.usePropToClearScreenFruit();break;case 2:G.GameStatic.usePropToClearLowFruit();break;case 3:G.GameStatic.usePropToChangeTargetFruit();break;case 4:G.GameUIStatic.updateScore(50)}},fail:t=>{}}};0==B.instance.showNewPlayerProp&&this._showWarningLineN>0?(t=3,G.SkillStatic.showSkillHint(e()),B.instance.showNewPlayerProp++):1==B.instance.showNewPlayerProp&&this._showWarningLineN>1&&(t=4,this.RandomPropLayer.showSkillHint(e()),B.instance.showNewPlayerProp++)}playGuanghuanEffect(t){const e=y(this.guanghuan.node);e.setParent(this.effectParent),e.setPosition(t),e.active=!0,e.getComponent(n).play(),e.getComponent(n).on(n.EventType.FINISHED,(()=>{e.destroy()}),this)}}).prototype,"overScoreShow",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=e(ut.prototype,"guanghuan",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=e(ut.prototype,"effectParent",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=e(ut.prototype,"airdropParent",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=e(ut.prototype,"ConfirmExitLayer",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=e(ut.prototype,"RandomPropLayer",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=e(ut.prototype,"floor",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=e(ut.prototype,"GetMaxAwardLayer",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=e(ut.prototype,"targetLayer",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=e(ut.prototype,"targetParent",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=e(ut.prototype,"gameBg",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(ut.prototype,"fruitNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(ut.prototype,"targetfruitNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(ut.prototype,"fruitPre",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(ut.prototype,"lineNode",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=e(ut.prototype,"picAtlas",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(ut.prototype,"powerBallFrame",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e(ut.prototype,"overLayer",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=e(ut.prototype,"skillLayer",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=e(ut.prototype,"reviveLayer",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=e(ut.prototype,"difficultNode",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=ut))||lt));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventUtil.ts","./AudioManage.ts","./StaticLayer.ts","./Utils.ts","./GameConfig.ts","./GameLogic.ts","./StringUtil.ts"],(function(t){var e,i,n,a,o,s,r,c,l,u,d,h,m,p,b,f,S,g,G,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.Label,o=t.Node,s=t._decorator,r=t.Component,c=t.UIOpacity,l=t.instantiate,u=t.Tween,d=t.v3,h=t.tween},function(t){m=t.default},function(t){p=t.AudioManage,b=t.SoundList},function(t){f=t.default},function(t){S=t.default},function(t){g=t.default},function(t){G=t.GameLogic},function(t){C=t.default}],execute:function(){var y,T,L,k,v,A,w,I,P,U,B,x,M,z;n._RF.push({},"d0a3bbkxtZOfK4jWac8ndI6","GameUI",void 0);const{ccclass:F,property:O}=s;t("default",(y=O(a),T=O(a),L=O(a),k=O(o),v=O(o),A=O(o),F((P=e((I=class extends r{constructor(){super(...arguments),i(this,"scoreLabel",P,this),i(this,"addScoreLabel",U,this),i(this,"timeTxt",B,this),i(this,"backBtnNode",x,this),i(this,"propPar",M,this),i(this,"bgMask",z,this),this.score=0,this.timeCount=0,this.isAdsing=!1,this.isShowAddTime=!1}onLoad(){f.GameUIStatic=this,this.addScoreLabel.node.active=!1,S.Instance.addCallbackToButton(this.backBtnNode,this.node,"GameUI","onBackTouch"),this.propPar.children.forEach((t=>{let e=t.name.slice(-1);S.Instance.addCallbackToButton(t,this.node,"GameUI","onUseProp",e)}))}onEnable(){this.score=0,this.timeCount=g.GameTimeConfig.totalTime,this.isAdsing=!1,this.isShowAddTime=!1,this.updateTime(this.timeCount),m.on("reviveGame",(()=>{this.timeCount=g.GameTimeConfig.totalTime,this.schedule(this.timeStarts,1)}))}onDisable(){m.targetOff(this)}start(){this.updateScore(),this.schedule(this.timeStarts,1),G.instance.startGame()}update(t){}onDestroy(){f.GameUIStatic=null}timeStop(){this.unschedule(this.timeStarts)}timeStarts(){this.isAdsing||G.instance.isGamePaused||(G.instance.isInHintState||(this.timeCount-=1,this.updateTime(this.timeCount)),this.timeCount<=0&&(f.GameStatic.isGameOver=!0,f.GameStatic.end(!1)))}updateTime(t){this.timeTxt.string=C.dateToFormate(1e3*t,"mm:ss");let e=t>200?20:220-t;this.bgMask.getComponent(c).opacity=e}updateScore(t,e){if(void 0===t&&(t=0),0!==t){const i=this.score+=t;this.playAddScoreAnim(t,e),G.instance.addScore(t),this.scheduleOnce((()=>{this.scoreLabel.string=i.toString()}),1)}else this.scoreLabel.string=this.score.toString()}playAddScoreAnim(t,e){const i=l(this.addScoreLabel.node).getComponent(a);i.node.setParent(this.addScoreLabel.node.parent),i.string="+"+t,u.stopAllByTarget(this.addScoreLabel.node),i.node.active=!0,i.node.getComponent(c).opacity=0,e||(e=d(200*Math.random()-100,0,0));const n=e.y+20+100*Math.random();i.node.setPosition(e);const o=this.scoreLabel.node.position.clone();h(i.node).to(.5,{position:d(e.x,n)}).parallel(h(i.node).to(.5,{position:o}),h(i.node).to(.5,{scale:d(0,0,1)})).call((()=>{i.node.destroy()})).start(),h(i.node.getComponent(c)).to(.5,{opacity:255}).start()}onBackTouch(){f.GameStatic.isGameOver||(f.ConfirmExitStatic.node.active=!0)}onUseProp(t,e){if(f.GameStatic.isGameOver)return;if(f.GameStatic.isClearState)return;p.playSFX(b.click),this.isAdsing=!0;let i=parseInt(e);const n=g.GameBeeConfig.propConfig[i];f.SkillStatic.showSkillHint({title:n.title,type:i,hintContent:n.hintContent,success:t=>{switch(i){case 1:f.GameStatic.usePropToClearScreenFruit();break;case 2:f.GameStatic.usePropToClearLowFruit();break;case 3:f.GameStatic.usePropToChangeTargetFruit();break;case 4:f.GameUIStatic.updateScore(50)}this.isAdsing=!1},fail:t=>{this.isAdsing=!1}})}}).prototype,"scoreLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(I.prototype,"addScoreLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(I.prototype,"timeTxt",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(I.prototype,"backBtnNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(I.prototype,"propPar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(I.prototype,"bgMask",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=I))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/GetMaxAwardLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ActionUtil.ts","./NodeUtil.ts","./GameGlobal.ts","./GameLogic.ts"],(function(e){var t,a,i,n,o,r,s,l,c,u,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e.Node,o=e.Label,r=e.Button,s=e._decorator,l=e.Component},function(e){c=e.default},function(e){u=e.NodeUtil},function(e){h=e.GameGlobal},function(e){p=e.GameLogic}],execute:function(){var b,d,m,y,f,w,L,G,g,x,B,v,z;i._RF.push({},"cff69xD94xG9LmHEAggeMoQ","GetMaxAwardLayer",void 0);const{ccclass:A,property:M}=s;e("GetMaxAwardLayer",(b=A("GetMaxAwardLayer"),d=M(n),m=M(o),y=M(o),f=M(r),w=M(r),b((g=t((G=class extends l{constructor(){super(...arguments),a(this,"actionParent",g,this),a(this,"shareLabel",x,this),a(this,"scoreLabel",B,this),a(this,"closeButton",v,this),a(this,"maxShareButton",z,this)}async show(){this.node.active=!0,c.show(this.actionParent,{type:"scale",duration:.3})}async hide(){await c.hide(this.actionParent,{type:"scale",duration:.3}),this.node.active=!1}start(){u.ListenBtnsClick([this.closeButton,this.maxShareButton],(async(e,t)=>{switch(e.node.name){case"closeButton":this.hide();break;case"maxShareButton":await h.instance.share()&&(p.instance.addScore(50),this.hide())}}))}onEnable(){p.instance.pauseGame()}onDisable(){p.instance.resumeGame()}update(e){}}).prototype,"actionParent",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(G.prototype,"shareLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(G.prototype,"scoreLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(G.prototype,"closeButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(G.prototype,"maxShareButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=G))||L));i._RF.pop()}}}));

System.register("chunks:///_virtual/GIFUtil.ts",["cc"],(function(t){var e,a,i,r,s;return{setters:[function(t){e=t.assetManager,a=t.ImageAsset,i=t.cclegacy,r=t.sys,s=t.Texture2D}],execute:function(){i._RF.push({},"43a1bBkW0hP9LVt1uwXQg5H","GIFUtil",void 0);const n=[],c=function(){var t=n.shift()||document.createElement("canvas");return[t,t.getContext("2d")]},o=function(t){t.getContext("2d").clearRect(0,0,t.width,t.height),n.push(t)},h=r.os==r.OS.IOS?200:400;class u{static add(t,e){var a=u._result;return new Promise((function(i){if(a.has(t))i(a.get(t));else{let r=u._asyncCall;r.has(t)?r.get(t).push(i):(r.set(t,[i]),e().then((e=>{r.has(t)&&(a.set(t,e),r.get(t).forEach((t=>t(e))),r.delete(t))})).catch((()=>{a.set(t,null)})))}}))}}u._asyncCall=new Map,u._result=new Map;var d=0;class l extends s{constructor(){super(...arguments),this.timeoutId=void 0}destroy(){return this.clear(),super.destroy()}clear(){var t=this.image;t&&(o(t.data),this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0))}}t("GIFTexture",l);class g{static async load(t){return u.add("GIFParser_"+t,(()=>new Promise((function(a){e.loadRemote(t,{ext:".bin"},(async(t,e)=>{a(e?await g.parse(e.buffer()):null)}))}))))}static async initWorker(){return u.add("GIFParser_Worker",(function(){return new Promise((function(t){let a=function(e){let a={};e.onmessage=function(t){var i=t.data;if("object"==typeof i&&null!==i){let t=a[i.id];if(t){let r=i.type,s=r.substring(0,4),n=i.data;if("C2M_"==s){let a;switch(r.substring(4)){case"setCanva":{let[e,a]=c();e.width=n.width,e.height=n.height,a.clearRect(0,0,n.width,n.height),t[1]=e,t[2]=a;break}case"getImageData":a=t[2].getImageData(n.x,n.y,n.width,n.height);break;case"putImageData":t[2].putImageData(n.imgData,n.x,n.y);break;case"clearRect":t[2].clearRect(0,0,t[1].width,t[1].height)}i.data=a,e.postMessage(i)}else if("M2C_"==s)switch(r.substring(4)){case"parseGif":delete a[i.id],o(t[1]),t[0](n)}}else console.error(1)}},t(((t,i,r)=>{a[t]=[r],e.postMessage({id:t,type:"M2C_parseGif",data:i})}))},i="https://cdn.aigamify.cn/CClient/AIWorld/worker/worker_v1.0.0.min.js";try{a(new Worker(i))}catch(t){e.loadRemote(i,{ext:".txt"},(function(t,e){a(new Worker(URL.createObjectURL(new Blob([e?e.text:""],{type:"text/javascript"}))))}))}}))}))}static parse(t){return new Promise((function(e){g.initWorker().then((a=>{a(++d,new Uint8Array(t),e)}))}))}static play(t,e){void 0===e&&(e={});var i=t.frames,r=i.length,s=0,[n,o]=c(),[u,d]=c(),g=new l,{width:m,height:f}=t,w=!1!==e.loop,p=e.speed||1,y=Math.min(h/m,h/f,1),I=function(){if(d.clearRect(0,0,m,f),d.putImageData(i[s].data,0,0),o.clearRect(0,0,u.width,u.height),o.drawImage(u,0,0,n.width,n.height),g.updateImage(),++s>=r){if(!w)return;s=0}g.timeoutId=setTimeout(I,i[s].delay*p)};return u.width=m,u.height=f,n.width=Math.round(m*y),n.height=Math.round(f*y),g.setMipFilter(2),g.setFilters(2,2),g.image=new a(n),r>0&&I(),g}}t("default",g),i._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalConfig.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"6c85d+4A8hPXKApwKiTT6VE","GlobalConfig",void 0);e("default",{version:"VERSION: 0.1",childVersion:1});c._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalManager.ts",["cc","./ModuleManager.ts"],(function(e){var t,a,n;return{setters:[function(e){t=e.cclegacy,a=e.DynamicAtlasManager},function(e){n=e.default}],execute:function(){t._RF.push({},"e787bkkKilFh4UpwHZahDRi","GlobalManager",void 0),a.instance.enabled=!1;e("default",new class{constructor(){this._moduleManager=new n,this._isInited=0}async init(){this._isInited||(this._isInited=1,await this._moduleManager.init(),this._isInited=2)}moduleManager(e){return this._moduleManager.getManager(e)}});t._RF.pop()}}}));

System.register("chunks:///_virtual/GoodsField.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5e2f6jtGu5KG6id7BDJehhq","GoodsField",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/GoodsType.ts",["cc"],(function(O){var T;return{setters:[function(O){T=O.cclegacy}],execute:function(){T._RF.push({},"a9c0bDa8mxD0Z8Qz0Hyz0k6","GoodsType",void 0);O("GoodsType",function(O){return O.TAOBAO_GOODS="TAOBAO_GOODS",O.TAOBAO_RED="TAOBAO_RED",O.CUSTOM_GOODS="CUSTOM_GOODS",O.VIRTUAL_GOODS="VIRTUAL_GOODS",O.ENTITY_GOODS="ENTITY_GOODS",O.VIRTUAL_GOODS_POIN="VIRTUAL_GOODS_POIN",O}({})),O("SnatchType",function(O){return O.DIAMOND="DIAMOND",O.POIN="POIN",O}({})),O("GoodsStatus",function(O){return O.ON="ON",O.OFF="OFF",O.WAIT_END_OFF="WAIT_END_OFF",O}({}));O("GoodsTypeName",{TAOBAO_GOODS:"淘宝商品",TAOBAO_RED:"淘宝红包优惠券",CUSTOM_GOODS:"自定义商品"});T._RF.pop()}}}));

System.register("chunks:///_virtual/GuideConfig.ts",["cc","./EventUtil.ts"],(function(i){var e,t;return{setters:[function(i){e=i.cclegacy},function(i){t=i.default}],execute:function(){e._RF.push({},"89f7dsa/+dGhK8Hp29EAg6F","GuideConfig",void 0);const n={};i("default",{storeGameName:"testGame",careDataKeys:n,guideConfig:{testGuide:{testStep2:{showUi:{type:"prefabUi",showSkip:!0,clickThrough:!1,hideMask:!1,clickContinue:!1,prefab:{GuidePopup:{title:"教程开始",content:"这个是教程提示弹窗,点击继续...",okBtn:{name:"开始教程"}}}},enableCondition:()=>!0,finishCondition:()=>!0,savePoint:!0},testHint:{showUi:{type:"prefabUi",showSkip:!0,clickThrough:!1,prefab:{GuidePopup:{content:"金币>=10 才能进入下一步",okBtn:{name:"下一步"},anotherBtn:{name:"金币+10",callBack:()=>{t.emit("testClickAddCoin")}}}}},enableCondition:()=>!0,finishCondition:()=>n.coin&&n.coin>=10,savePoint:!0},testNodeHint:{showUi:{type:"normal",showSkip:!0,clickThrough:!1},enableCondition:()=>!0,finishCondition:()=>!0},testStep1:{showUi:{type:"prefabUi",clickContinue:!0,prefab:{CameraOp:void 0}},enableCondition:()=>"显示操作教程"==n.name,finishCondition:()=>!0},testStep3:{showUi:{type:"prefabUi",clickContinue:!0,prefab:{MoveOp:void 0}},enableCondition:()=>!0,finishCondition:()=>!0},testStep:{showUi:{type:"prefabUi",clickThrough:!1,prefab:{GuidePopup:{title:"教程结束",content:"欢迎体验！",okBtn:{name:"结束"}}}},enableCondition:()=>!0,finishCondition:()=>!0}}}});e._RF.pop()}}}));

System.register("chunks:///_virtual/GuideController.ts",["cc","./BundleUtil.ts","./EventUtil.ts","./NodeUtil.ts","./TimeUtil.ts","./GuideUI.ts","./GuideUIBase.ts"],(function(e){var t,i,s,n,a,u,d,o,r;return{setters:[function(e){t=e.instantiate,i=e.cclegacy},function(e){s=e.default},function(e){n=e.default},function(e){a=e.NodeUtil},function(e){u=e.TimeUtil},function(e){d=e.GuideUI},function(e){o=e.GuideUIBase,r=e.guideUiEventType}],execute:function(){i._RF.push({},"11d4fTDY0RPAK3fBbjxPRRU","GuideController",void 0);var h=function(e){return e[e.unEnable=0]="unEnable",e[e.in=1]="in",e[e.finish=2]="finish",e}(h||{});e("default",class{constructor(){this.guideConfigInfo={},this.guideCareData=void 0,this.storeGameName="",this._allGuideArr={},this._allGuideState={},this._allGuideEnableState={},this._getShowNodesOnGuideFunc=void 0,this._allStoreData=null,this._guideUiComp=void 0,this._guideUiPrefab=void 0}init(){this._readGuideStepState(),o.guideUiEventCallback=this._listenGuideUiEvent.bind(this)}async preloadRes(){await this._preloadGuideUi()}enableAllGuide(){for(const e in this.guideConfigInfo)this.enableGuide(e)}enableGuide(e){this._allGuideEnableState[e]=!0;this._getGuideStepState(e).state==h.unEnable&&this._showGuideStep(e)}isGuideEnded(e){const t=this._getGuideStepState(e);return!!t&&t.step>=this._getGuideArr(e).length}careDataChange(e,t){this.guideCareData[e]=t,u.soloFunction((async()=>{await u.waitFrame();for(const e in this.guideConfigInfo){const t=this._getGuideStepState(e);t.state==h.unEnable?this._showGuideStep(e):t.state==h.in&&this._finishGuideStep(e)}}),"careDataChange")}getShowNodesOnGuide(e){this._getShowNodesOnGuideFunc=e}_getGuideArr(e){return this._allGuideArr[e]||(this._allGuideArr[e]=Object.keys(this.guideConfigInfo[e])),this._allGuideArr[e]}_getGuideStepState(e){return this._allGuideState[e]||(this._allGuideState[e]={step:0,state:h.unEnable}),this._allGuideState[e]}_getGuideInfo(e){return this.guideConfigInfo[e]}_getStepInfo(e,t){return this._getGuideInfo(e)[t]}_listenGuideUiEvent(e,t,i){switch(i){case r.skip:this._skipGuide(e);break;case r.continue:this._finishGuideStep(e,t)}}_showGuideStep(e,t){if(!this._allGuideEnableState[e])return!1;if(!t){const i=this._getGuideStepState(e),s=this._getGuideArr(e);if(i.step>=s.length)return!1;t=s[i.step]}let i,s=this._getStepInfo(e,t);if(t){i=this._getGuideStepState(e);const s=this._getGuideArr(e);if(i.state!=h.unEnable)return!1;if(s[i.step]!==t)return!1}if(s.enableCondition&&!s.enableCondition())return!1;if(i&&(i.state=h.in),this._guideUi){this._guideUi.show(s.showUi,{guide:e,stepKey:t});let i=this._getShowNodesOnGuideFunc?.(e,t);i&&(i.pointNode&&this._guideUi.pointNode(i.pointNode),i.showNodes&&this._guideUi.showOutNodes(i.showNodes))}return n.emit("guideEvent",{guide:e,step:t,state:"enable"}),!0}_finishGuideStep(e,t){if(!this._allGuideEnableState[e])return!1;if(!t){const i=this._getGuideStepState(e),s=this._getGuideArr(e);if(i.step>=s.length)return!1;t=s[i.step]}let i=this._getStepInfo(e,t);const s=this._getGuideStepState(e);if(s.state!=h.in)return;const a=this._getGuideArr(e);if(s.step>=a.length||a[s.step]!==t)return!1;if(i.finishCondition&&!i.finishCondition())return!1;const u=s.step+1,d=this._getGuideArr(e);s.state=h.finish,this._guideUi?.hide();const o=u>=d.length;return n.emit("guideEvent",{guide:e,step:t,state:"finish",isEnd:o}),s.state=h.unEnable,s.step=u,o?this._guideEnd(e,t):(i.savePoint&&this._saveGuide(e,t),this._showGuideStep(e,d[u])),!0}_guideEnd(e,t){this._saveGuide(e,t)}_skipGuide(e){const t=this._getGuideStepState(e),i=this._getGuideArr(e),s=i[i.length-1];t.step=i.length,t.state=h.unEnable,this._guideUi?.hide(),n.emit("guideEvent",{guide:e,step:s,state:"finish",isEnd:!0}),this._guideEnd(e,s)}get storeName(){return"guide_"+this.storeGameName}_saveGuide(e,t){this._allStoreData[e]=t,localStorage.setItem(this.storeName,JSON.stringify(this._allStoreData))}_readGuideStepState(){if(!this._allStoreData){const e=localStorage.getItem(this.storeName);if(e){this._allStoreData=JSON.parse(e);for(const e in this._allStoreData){const t=this._getGuideArr(e).findIndex((t=>t==this._allStoreData[e]));t<0?console.error("未找到对应的步骤"):this._allGuideState[e]={state:h.unEnable,step:t+1}}}else this._allStoreData={}}}resetGuide(e){this._allStoreData[e]&&(this._allGuideState[e]={state:h.unEnable,step:0},delete this._allStoreData[e],localStorage.setItem(this.storeName,JSON.stringify(this._allStoreData)))}get _guideUi(){if(!this._guideUiComp)if(this._guideUiPrefab){const e=t(this._guideUiPrefab);e.active=!1,this._guideUiComp=e.getComponent(d),a.addParent(e)}else console.error("在使用教程前请先预加载教程资源");if(this._guideUiComp){const e=this._guideUiComp.node;e.setSiblingIndex(e.parent.children.length-1)}return this._guideUiComp}async _preloadGuideUi(){this._guideUiPrefab||await u.soloFunction((async()=>{this._guideUiPrefab=await s.getPrefabByBundle("basePrefab/GuideUI","guideBundle")}),"_preloadGuideUi")}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/GuideDeclare.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"dde43Xy9pJHCoXuNdNgC7oV","GuideDeclare",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/GuideManager.ts",["cc","./ModuleUtilManagerBase.ts","./GuideController.ts"],(function(e){var i,t,r;return{setters:[function(e){i=e.cclegacy},function(e){t=e.ModuleUtilManagerBase},function(e){r=e.default}],execute:function(){i._RF.push({},"71ddeB460pIlZac2lMEFnK4","GuideManager",void 0);e("GuideManager",class extends t{constructor(e){super(),this._guideController=void 0,this._guideController=new r,Object.assign(this._guideController.guideConfigInfo,e.guideConfig),this._guideController.guideCareData=e.careDataKeys,this._guideController.storeGameName=e.storeGameName||""}async init(){this._guideController.init(),console.log("初始化教程管理类")}async preloadRes(){await this._guideController.preloadRes()}enableAllGuide(){this._guideController.enableAllGuide()}enableGuide(e){this._guideController.enableGuide(e)}careDataChange(e,i){this._guideController.careDataChange(e,i)}getShowNodesOnGuide(e){this._guideController.getShowNodesOnGuide(e)}isGuideEnded(e){return this._guideController.isGuideEnded(e)}resetGuide(e){return this._guideController.resetGuide(e)}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/GuidePointTo.ts",["cc"],(function(t){var e,o,i,n,c,s;return{setters:[function(t){e=t.cclegacy,o=t.v2,i=t.Component,n=t.view,c=t.UITransform,s=t._decorator}],execute:function(){var r;e._RF.push({},"65263D94EVK0q5mp5VI0LC3","GuidePointTo",void 0);const{ccclass:h,property:u}=s,a=o(0);t("GuidePointTo",h("GuidePointTo")(r=class extends i{pointTo(t){const e=n.getVisibleSize(),o=t.worldPosition,i=t.getComponent(c).contentSize,s=t.getComponent(c).anchorPoint;a.set(e.width/2,e.height/2),o.x,i.width,s.x,o.y,i.height,s.y,o.x,i.width,s.x,o.y,i.height,s.y}start(){}update(t){}_changeDir(){}})||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/GuidePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimeUtil.ts","./GuideUIBase.ts"],(function(t){var e,i,n,o,l,a,r,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Label,l=t.Node,a=t._decorator},function(t){r=t.TimeUtil},function(t){s=t.GuideUIBase,c=t.guideUiEventType}],execute:function(){var u,h,p,b,B,d,k,y,L,f,g,m,v,w,_;n._RF.push({},"b1f2cUHMP9OJ4tVE1ZV688W","GuidePopup",void 0);const{ccclass:z,property:N}=a;t("GuidePopup",(u=z("GuidePopup"),h=N(o),p=N(o),b=N(l),B=N(o),d=N(l),k=N(o),u((f=e((L=class extends s{constructor(){super(...arguments),i(this,"titleLabel",f,this),i(this,"contentLabel",g,this),i(this,"anotherBtnNode",m,this),i(this,"anotherBtnLabel",v,this),i(this,"okBtnNode",w,this),i(this,"okBtnLabel",_,this),this._opt=void 0}show(t){this._opt=t,this.contentLabel.string=t.content,this.titleLabel.node.active=!!t.title,t.title&&(this.titleLabel.string=t.title),this.anotherBtnNode.active=!!t.anotherBtn,t.anotherBtn?.name&&(this.anotherBtnLabel.string=t.anotherBtn.name),this.okBtnNode.active=!!t.okBtn,t.okBtn?.name&&(this.okBtnLabel.string=t.okBtn.name)}async onClickOkBtn(t){r.soloFunction((async()=>{await(this._opt.okBtn?.callBack?.()),this.onClickEventBtn(t,c.continue)}))}async onClickAnotherBtn(t){this._opt.anotherBtn?.callBack?.()}}).prototype,"titleLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(L.prototype,"contentLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(L.prototype,"anotherBtnNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(L.prototype,"anotherBtnLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(L.prototype,"okBtnNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(L.prototype,"okBtnLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=L))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/GuideUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BundleUtil.ts","./ActionUtil.ts","./TimeUtil.ts","./GuideUIBase.ts"],(function(t){var e,i,n,o,s,r,a,c,h,l,d,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Node,s=t._decorator,r=t.isValid,a=t.instantiate},function(t){c=t.default},function(t){h=t.default},function(t){l=t.TimeUtil},function(t){d=t.GuideUIBase,u=t.guideUiEventType}],execute:function(){var p,f,b,_,w,N,P,y,g,v,k,m,I,U,C;n._RF.push({},"23218Yb2yNOrb/6J2qumgtf","GuideUI",void 0);const{ccclass:B,property:O}=s;t("GuideUI",(p=B("GuideUI"),f=O(o),b=O(o),_=O(o),w=O(o),N=O(o),P=O(o),p((v=e((g=class extends d{constructor(){super(...arguments),i(this,"actionParent",v,this),i(this,"blockNode",k,this),i(this,"bgNode",m,this),i(this,"tempShowParent",I,this),i(this,"contentParent",U,this),i(this,"skipNode",C,this),this._showInfo=void 0,this._standOutNodesParent={},this._prefabId=0}show(t,e){this._showInfo=t,l.smartExecuteFunction("showGuideUI",(async()=>{if(!this._showInfo)return;d._guideStep=e;const t=!this.node.active;this.node.active=!0,this._refreshUi(),t&&await h.show(this.actionParent,{type:"fade"})}))}pointNode(t){this.showOutNodes([t]),t.once(o.EventType.TOUCH_END,this._onClickPointNode,this)}showOutNodes(t){t.forEach((t=>{this._standOutNodesParent[t.uuid]=t.parent,t.parent=this.tempShowParent}))}_reductionAllTempNodes(){for(const t in this._standOutNodesParent){const e=this._standOutNodesParent[t],i=this.tempShowParent.getChildByUuid(t);i?e&&r(e)?(i.targetOff(this),i.parent=e):(console.error("_standInAllNodes 此节点父节点已失效",t),i.destroy()):console.error("_standInAllNodes 未找到此节点",t)}this._standOutNodesParent={}}hide(){this._showInfo=void 0,this._prefabId++,this.contentParent.removeAllChildren(),this._reductionAllTempNodes(),l.smartExecuteFunction("showGuideUI",(async()=>{await l.waitFrame(),this._showInfo||(await h.hide(this.actionParent,{type:"fade"}),this.node.active=!1)}))}_refreshUi(){const t=this._showInfo;this.blockNode.active=!t.clickThrough,this.bgNode.active=!t.hideMask,this.skipNode.active=!!t.showSkip,this.contentParent.removeAllChildren(),t.clickContinue?this.contentParent.once(o.EventType.TOUCH_END,this.onClickContinueBtn,this):this.contentParent.targetOff(this),this._createPrefab()}_onClickPointNode(t){t.propagationStopped=!1,this.onClickEventBtn(void 0,u.continue)}onClickSkipBtn(){this.onClickEventBtn(void 0,u.skip)}onClickContinueBtn(){this.onClickEventBtn(void 0,u.continue)}async _createPrefab(){const t=this._showInfo;if("prefabUi"!=t.type)return;const e=++this._prefabId,i=t.prefab,n=Object.keys(i)[0],o=await c.getPrefabByBundle("prefabs/"+n,"guideBundle");if(e!==this._prefabId)return;const s=a(o);s.parent=this.contentParent,s.getComponent(d)?.show(i[n])}}).prototype,"actionParent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(g.prototype,"blockNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(g.prototype,"bgNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(g.prototype,"tempShowParent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(g.prototype,"contentParent",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(g.prototype,"skipNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=g))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/GuideUIBase.ts",["cc"],(function(e){var i,t,n;return{setters:[function(e){i=e.cclegacy,t=e._decorator,n=e.Component}],execute:function(){var u,c;i._RF.push({},"09d8akdEr9LMLID3gzS7oRo","GuideUIBase",void 0);const{ccclass:s,property:o}=t;e("guideUiEventType",function(e){return e.skip="skip",e.continue="continue",e}({})),e("GuideUIBase",s("GuideUIBase")(((c=class e extends n{onClickEventBtn(i,t){e.guideUiEventCallback?.(e._guideStep.guide,e._guideStep.stepKey,t)}show(){}hide(){}}).guideUiEventCallback=void 0,c._guideStep=void 0,u=c))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/HelpPopPanel.ts",["cc","./InviteControl.ts"],(function(e){var o,c,n,t;return{setters:[function(e){o=e.cclegacy,c=e.Component,n=e._decorator},function(e){t=e.default}],execute:function(){var l;o._RF.push({},"91ff167SEdCSpMbH/ukcp9c","HelpPopPanel",void 0);const{ccclass:s}=n;e("HelpPopPanel",s("HelpPopPanel")(l=class extends c{start(){}update(e){}async closePop(){console.log("closePop..."),t.ins.closeHelpPopPanel()}})||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/HistoryItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,o,s,n;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,o=e.Label,s=e._decorator,n=e.Component}],execute:function(){var a,l,c,u,p,g,h,m,y;r._RF.push({},"14e1aoJuohGr6XItAKbsQdU","HistoryItem",void 0);const{ccclass:b,property:d}=s;e("HistoryItem",(a=b("HistoryItem"),l=d(o),c=d(o),u=d(o),a((h=t((g=class extends n{constructor(){super(...arguments),i(this,"historyName",h,this),i(this,"time",m,this),i(this,"score",y,this),this._exchangeInfo=void 0}onLoad(){}updateHistroy(e){this.historyName.string=e.tips,this.score.string=e.amount.toString(),this.time.string=this._getTime(e.createTime)}_getTime(e){const t=new Date(e);return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()} ${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}`}}).prototype,"historyName",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(g.prototype,"time",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(g.prototype,"score",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/HtmlUtil.ts",["cc"],(function(t){var e,i,a,n;return{setters:[function(t){e=t.game,i=t.view,a=t.UITransform,n=t.cclegacy}],execute:function(){n._RF.push({},"bd720fe/Q9Gk5g1Z4mYK36/","HtmlUtil",void 0);class o{static get gameContainer(){return this._gameContainer||(this._gameContainer=document.querySelector("#Cocos3dGameContainer")),this._gameContainer}static get parentDiv(){return this._parentDiv||(this._parentDiv=document.createElement("div"),this._parentDiv.setAttribute("id","parentDiv"),this.gameContainer.appendChild(this._parentDiv)),this._parentDiv}static get htmlScale(){if(!this._htmlScale){let t=e.canvas.parentNode,a=t.clientWidth/i.getVisibleSize().width,n=t.clientHeight/i.getVisibleSize().height;this._htmlScale={x:a,y:n}}return this._htmlScale}static getHtmlPosByNode(t){if(!t)return{left:0,top:0,width:0,height:0};let e=t.worldPosition,n=t.worldScale,o=t.getComponent(a),r=n.x*o.width,l=n.y*o.height;return{left:Math.round((e.x-r*o.anchorX)*this.htmlScale.x),top:(i.getVisibleSize().height-Math.round(e.y+(1-o.anchorY)*l))*this.htmlScale.y,width:Math.round(r*this.htmlScale.x),height:Math.round(l*this.htmlScale.y)}}static setElementPosByNode(t,e){let i=this.getHtmlPosByNode(e);t.style.left=i.left+"px",t.style.top=i.top+"px",t.style.width=i.width+"px",t.style.height=i.height+"px"}static getUrlParmas(t,e){let i=window?.location?.search;if(console.error("searchURL",i),!this._gameUrlParmas){this._gameUrlParmas={};let t=new URLSearchParams(i);for(let[e,i]of t.entries())this._gameUrlParmas[e]=i}const a=this._gameUrlParmas[t];return a&&e?decodeURIComponent(a):a}static navigateToExternalLink(t){!t.match("http")&&(t=`http://${t}`),window.location.replace(t)}static get audioCtx(){return this._audioCtx||(this._audioCtx=new AudioContext),this._audioCtx}static playAudioBuffer(t){const e=this.audioCtx,i=e.createBufferSource();i.buffer=t||this._createAudioBufferDemo(),i.connect(e.destination),i.start(),i.onended=()=>{console.log("White noise finished.")}}static _createAudioBufferDemo(){const t=this.audioCtx,e=2*t.sampleRate,i=new AudioBuffer({numberOfChannels:2,length:e,sampleRate:t.sampleRate});for(let t=0;t<2;t++){const a=i.getChannelData(t);for(let t=0;t<e;t++)a[t]=2*Math.random()-1}return i}static copyTextToClipboard(t){let e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("Copy"),document.body.removeChild(e)}}t("default",o),o._parentDiv=null,o._gameContainer=null,o._gameUrlParmas=null,o._htmlScale=void 0,o._audioCtx=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/InputController.ts",["cc","./StaticLayer.ts","./GameConfig.ts","./GameLogic.ts"],(function(t){var e,i,o,a,n,c,r,u,s,m,h,l,S,p;return{setters:[function(t){e=t.cclegacy,i=t.Component,o=t.Node,a=t.UITransform,n=t.Vec3,c=t.tween,r=t.v3,u=t.CircleCollider2D,s=t.RigidBody2D,m=t.v2,h=t._decorator},function(t){l=t.default},function(t){S=t.default},function(t){p=t.GameLogic}],execute:function(){var g;e._RF.push({},"54ec44VYz9C0qtS64/y8LLx","InputController",void 0);const{ccclass:d,property:G}=h;t("default",d(g=class extends i{constructor(){super(...arguments),this.touchNum=0}start(){this.openTouch()}openTouch(){this.node.on(o.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(o.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(o.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(o.EventType.TOUCH_CANCEL,this.onTouchEnd,this)}onTouchStart(t){if(!l.GameStatic.isGameOver&&!l.GameStatic.isClearState&&null!=l.GameStatic.targetFruit){let e=t.getUILocation();const i=this.node.getComponent(a)?.convertToNodeSpaceAR(new n(e.x,e.y,0));this.touchNum=1;let o=i.x,u=l.GameStatic.targetFruit.position.y;c(l.GameStatic.targetFruit).to(.1,{position:r(o,u,0)}).start()}}onTouchMove(t){if(!l.GameStatic.isGameOver&&!l.GameStatic.isClearState&&null!=l.GameStatic.targetFruit){this.touchNum=1;let e=t.getUILocation();const i=this.node.getComponent(a)?.convertToNodeSpaceAR(new n(e.x,e.y,0));l.GameStatic.targetFruit.setPosition(i.x,l.GameStatic.targetFruit.position.y)}}onTouchEnd(t){l.GameStatic.isGameOver||l.GameStatic.isClearState||null!=l.GameStatic.targetFruit&&1==this.touchNum&&(this.touchNum=0,l.GameStatic.targetFruit.getComponent(u).radius=l.GameStatic.targetFruit.getComponent(a).height/2,l.GameStatic.targetFruit.getComponent(u).apply(),l.GameStatic.targetFruit.getComponent(s).enabled=!0,l.GameStatic.targetFruit.getComponent(s).linearVelocity=m(0,-70),l.GameStatic.targetFruit.parent=l.GameStatic.fruitNode,l.GameStatic.targetFruit=null,p.instance.consecutiveComposeCount=0,this.scheduleOnce((()=>{l.GameStatic.createOneFruit(S.getNextFruiKind(p.instance.topFruitLevel,p.instance.createFruitCount,p.instance.addDifficulty),r(0,500,0))}),.5))}})||g);e._RF.pop()}}}));

System.register("chunks:///_virtual/interface.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b37d3AnmWBIfYpojlf4/g8B","interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Interface2.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1667a+pA29NBrS9ZoAmAUo2","Interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Interface3.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"2a4efoF5mBBJ6zznlswRs7r","Interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Interface4.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a1fb3VmFTJEOJGm1YuE23Qj","Interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/InviteConfigItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomScrollViewWithPrefab.ts","./InviteControl.ts","./InviteConfigPrizeItem.ts"],(function(e){var i,t,n,r,l,o,s,a,c,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.Label,l=e.Node,o=e._decorator,s=e.Component},function(e){a=e.CustomScrollViewWithPrefab},function(e){c=e.default},function(e){u=e.InviteConfigPrizeItem}],execute:function(){var p,h,b,f,m,g,z,d,I,v,w,C,y,L,N;n._RF.push({},"e3566A1lMpIJqYAzeBqeTTQ","InviteConfigItem",void 0);const{ccclass:P,property:_}=o;e("InviteConfigItem",(p=P("InviteConfigItem"),h=_(a),b=_(r),f=_(r),m=_(l),g=_(l),z=_(r),p((v=i((I=class extends s{constructor(){super(...arguments),t(this,"prizeScrollView",v,this),t(this,"mustLabel",w,this),t(this,"chanceLabel",C,this),t(this,"chanceNode",y,this),t(this,"mustNode",L,this),t(this,"inviteLabel",N,this),this._idx=0}get _prizeConfig(){return c.ins.allConfigList[this._idx]}start(){this.prizeScrollView.setPrefabData(((e,i)=>{i.getComponent(u).setInfo(e)}))}setInfo(e){this._idx=e;const i=this._prizeConfig;this.inviteLabel.string=""+i.inviteNum;const t="chance"===i.rewardType;if(this.chanceNode.active=t,this.mustNode.active=!t,"chance"==i.rewardType){const e=i;this.chanceLabel.string=""+e.chanceMultiple}else{const e=i;this.mustLabel.string=""+e.mustPrize[0].prizeName}this.prizeScrollView.dateList=c.ins.getPrizeInfo(i).prizeInfo}}).prototype,"prizeScrollView",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(I.prototype,"mustLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(I.prototype,"chanceLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=i(I.prototype,"chanceNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(I.prototype,"mustNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(I.prototype,"inviteLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=I))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/InviteConfigListPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameGlobal.ts","./EventUtil.ts","./InviteControl.ts","./InviteRepeater.ts","./InvitePopAward.ts","./InviteConfigItem.ts","./CCProgressBar.ts"],(function(t){var e,i,n,s,o,r,a,l,h,c,p,f,u,g,d,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.Node,o=t.Label,r=t._decorator,a=t.Component,l=t.instantiate,h=t.UITransform},function(t){c=t.GameGlobal},function(t){p=t.default},function(t){f=t.default},function(t){u=t.default},function(t){g=t.InvitePopAward},function(t){d=t.InviteConfigItem},function(t){I=t.CCProcessBar}],execute:function(){var C,v,z,P,b,w,m,L,y,B,S;n._RF.push({},"72af1dtn+1DeJXlSbnx/zty","InviteConfigListPanel",void 0);const{ccclass:D,property:x}=r;t("InviteConfigListPanel",(C=D("InviteConfigListPanel"),v=x(d),z=x(s),P=x(I),b=x(o),C((L=e((m=class extends a{constructor(){super(...arguments),i(this,"InviteConfigItem",L,this),i(this,"prizeContent",y,this),i(this,"prizeProgressBar",B,this),i(this,"usersLabel",S,this),this.parentNode=void 0}start(){p.on("drawPrizeInfoChanged",this.setInfo,this),p.on("openShareStatus",this.showInviteList,this),this.setInfo()}share(){c.instance.share()}async setInfo(){const t=f.ins.inviteList,e=f.ins.allConfigList;this.usersLabel.string=""+t.length,this.prizeProgressBar.node.active=!1,e.forEach(((t,e)=>{let i=this.prizeContent.children[e+1];i||(i=l(this.InviteConfigItem.node),this.prizeContent.addChild(i)),i.getComponent(d).setInfo(e)})),this.scheduleOnce((()=>{this.prizeProgressBar.node.active=!0;const t=this.prizeContent.getComponent(h).height,i=this.prizeProgressBar.getComponent(h);i.setContentSize(i.width,t-195),this.prizeProgressBar.totalLength=t-125;let n=e.findIndex((t=>!t.isFinish));n<0&&(n=e.length),n--;let s=0;if(n>-1){s=this.prizeContent.children[n]?.position.y??0}this.prizeProgressBar.progress=-(s-100)/t;const o=u.getShowAwardProgress();n>=0&&o<n&&(g.show(n),u.setShowAwardProgress(n))}))}async showInviteList(){console.log("showInviteList..."),f.ins.showInviteListPanel(this.parentNode)}onDestroy(){p.off("openShareStatus",this.showInviteList,this),p.off("drawPrizeInfoChanged",this.setInfo,this)}}).prototype,"InviteConfigItem",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(m.prototype,"prizeContent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(m.prototype,"prizeProgressBar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(m.prototype,"usersLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=m))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/InviteConfigPrizeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadUtil.ts","./NodeUtil.ts"],(function(e){var i,t,n,r,o,l,c,a,s,u,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.CCInteger,o=e.Node,l=e.Sprite,c=e.Label,a=e._decorator,s=e.Component},function(e){u=e.default},function(e){p=e.NodeUtil}],execute:function(){var h,z,b,d,g,I,f,m,v,y,w,N,L,P,S,C,F,_,D,U,k,x;n._RF.push({},"87856LAc55Ik7u20rAPVmYl","InviteConfigPrizeItem",void 0);const{ccclass:A,property:R}=a;let V=(h=A("prizeIconSize"),z=R(r),b=R(r),h((I=i((g=class{constructor(){t(this,"width",I,this),t(this,"height",f,this)}}).prototype,"width",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=i(g.prototype,"height",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g))||d);e("InviteConfigPrizeItem",(m=A("InviteConfigPrizeItem"),v=R(o),y=R(l),w=R(o),N=R(c),L=R(c),P=R(V),m((F=i((C=class extends s{constructor(){super(...arguments),t(this,"iconNode",F,this),t(this,"prizeIcon",_,this),t(this,"countNode",D,this),t(this,"countLabel",U,this),t(this,"unitLabel",k,this),t(this,"prizeIconSize",x,this)}setInfo(e){this.countNode.active=!1,this.iconNode.active=!0,this.prizeIcon.node.active=!0,!e.prizePicture.startsWith("http")||e.prizePicture.length>8?u.getSpriteFrameIntelligent(e.prizePicture,(e=>{this.isValid&&e&&p.limitSpriteSize(this.prizeIcon,e,this.prizeIconSize.width,this.prizeIconSize.height)})):(this.countNode.active=!0,this.prizeIcon.spriteFrame=null,this.prizeIcon.node.active=!1,this.iconNode.active=!1,this.countLabel.string=""+e.rewardCount,this.unitLabel.string="  "+e.prizeType)}}).prototype,"iconNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(C.prototype,"prizeIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(C.prototype,"countNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(C.prototype,"countLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(C.prototype,"unitLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(C.prototype,"prizeIconSize",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new V}}),S=C))||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/InviteControl.ts",["cc","./BundleUtil.ts","./InviteRepeater.ts"],(function(i){var t,e,s,n,o,a,h,l,r;return{setters:[function(i){t=i.director,e=i.RenderRoot2D,s=i.Prefab,n=i.instantiate,o=i.isValid,a=i.Node,h=i.cclegacy},function(i){l=i.default},function(i){r=i.default}],execute:function(){h._RF.push({},"09d21iY5f1Oe4J0h0g/FEnq","InviteControl",void 0);class d{constructor(){this.popParentNode=void 0,this._allConfigList=[],this._helpList=[],this._inviteList=[],this._drawList=[],this.inviteNode=void 0,this.inviteListNode=void 0,this.helpPopNode=void 0}static get ins(){return this._ins||(this._ins=new d),d._ins}get inviteList(){return this._inviteList}get helpList(){return this._helpList}get allConfigList(){return this._allConfigList}get drawList(){return this._drawList}async init(){console.log("拉新邀请初始化"),this._allConfigList=[],this._helpList=[],this._inviteList=[],await this._getConfigList(),await this._getHelpList(),await this._getInviteList(),this._drawList=await r.getAllDrawPrizes()}async _getConfigList(){let i=await r.getConfigList();return!!i&&(this._allConfigList=i,!0)}async _getHelpList(){let i=await r.getHelpList();return!!i&&(this._helpList=i,!0)}async _getInviteList(){let i=await r.getInviteList();return!!i&&(this._inviteList=i.list,!0)}addParent(i,s){s?i.parent=s:(t.addPersistRootNode(i),i.addComponent(e))}async getPrefab(i){let t=await l.loadBundle("Invite",{loadAllres:!0});return t?t.get(i,s):null}async preloadPrefab(){await this.getPrefab("InviteConfigList/InviteConfigListPanel")}async showInviteConfigListPanel(i){if(console.log("showInviteConfigList，this._allConfigList:",this._allConfigList),this.inviteNode){if(this.inviteNode.active)return;this.inviteNode.active=!0}if(!this.inviteNode){if(this.inviteNode=n(await this.getPrefab("InviteConfigList/InviteConfigListPanel")),!o(i,!0)||!i)return void(this.inviteNode=null);this.addParent(this.inviteNode,i),this.inviteNode.on(a.EventType.NODE_DESTROYED,(()=>{this.inviteNode=void 0}),this)}}async showInviteListPanel(i){if(console.log("showInviteConfigList。。。"),this.inviteListNode){if(this.inviteListNode.active)return;this.inviteListNode.active=!0}if(!this.inviteListNode){if(this.inviteListNode=n(await this.getPrefab("InviteList/InviteListPanel")),!o(i,!0)||!i)return void(this.inviteListNode=null);this.addParent(this.inviteListNode,i),this.inviteListNode.on(a.EventType.NODE_DESTROYED,(()=>{this.inviteListNode=void 0}),this)}}async closeInviteListPanel(){this.inviteListNode&&(this.inviteListNode.active=!1)}async showHelpPopPanel(i){if(console.log("showHelpPop"),this._helpList.length){if(this.helpPopNode){if(this.helpPopNode.active)return;this.helpPopNode.active=!0}this.helpPopNode||(this.helpPopNode=n(await this.getPrefab("HelpPop/HelpPopPanel")),this.addParent(this.helpPopNode,i),this.helpPopNode.on(a.EventType.NODE_DESTROYED,(()=>{this.helpPopNode=void 0}),this))}}async closeHelpPopPanel(){this.helpPopNode&&(this.helpPopNode.active=!1),this._helpList=[]}getPrizeInfo(i){let t={prizeType:"chance",prizeInfo:[]};if("chance"==i.rewardType){t.prizeType="chance";const e=r.getDrawPrizeAll(),s=i;t.prizeInfo=s.chancePrize.map((i=>e.find((t=>t.prizeId==i.drawPrizeId)))),t.prizeInfo=t.prizeInfo.filter((i=>i))}else{const e=i;t.prizeType="must",t.prizeInfo=e.mustPrize}return t}}i("default",d),d._ins=void 0,h._RF.pop()}}}));

System.register("chunks:///_virtual/InviteDeclare.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"7e372lurjJJ7bHks3ZDP81C","InviteDeclare",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/InviteHint.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameGlobal.ts","./ActionUtil.ts","./InviteControl.ts"],(function(t){var e,n,i,o,a,r,s,c,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.Node,a=t._decorator,r=t.Component,s=t.instantiate},function(t){c=t.GameGlobal},function(t){l=t.default},function(t){u=t.default}],execute:function(){var p,d,f,h,v;i._RF.push({},"4579dGGtrtBNI0bn5tjXu3w","InviteHint",void 0);const{ccclass:y,property:P}=a;t("InviteHint",(p=y("InviteHint"),d=P(o),p((v=e((h=class t extends r{constructor(){super(...arguments),n(this,"actionParent",v,this)}share(){c.instance.share(),this.close()}static async show(){const e=await u.ins.getPrefab("InvitePop/InviteHint");if(!e)return;const n=s(e);u.ins.addParent(n,u.ins.popParentNode),l.show(n.getComponent(t).actionParent,{type:"scale",duration:.3})}async close(){await l.hide(this.actionParent,{type:"scale",duration:.3}),this.node.removeFromParent(),this.node.destroy()}}).prototype,"actionParent",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/InviteListPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomScrollViewWithPrefab.ts","./InviteControl.ts","./InviteUserListItem.ts","./popComponent.ts"],(function(e){var t,s,n,i,o,r,l,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e._decorator},function(e){o=e.CustomScrollViewWithPrefab},function(e){r=e.default},function(e){l=e.InviteUserListItem},function(e){c=e.popComponent}],execute:function(){var a,u,p,v,f;n._RF.push({},"0b70aOIqZFFn6zvD5AL6Fso","InviteListPanel",void 0);const{ccclass:L,property:d}=i;e("InviteListPanel",(a=L("InviteListPanel"),u=d({type:o,override:!1}),a((f=t((v=class extends c{constructor(){super(...arguments),s(this,"usersScrollView",f,this)}onLoad(){this.usersScrollView.setPrefabData(((e,t)=>{t.getComponent(l).setInfo(e)})),super.onLoad()}onEnable(){this.usersScrollView.dateList=r.ins.inviteList,super.onEnable()}async closeInviteList(){console.log("closeInviteList..."),r.ins.closeInviteListPanel()}async destroySelf(){await super.destroySelf(),r.ins.closeInviteListPanel(),this.node.removeFromParent(),this.node.destroy()}}).prototype,"usersScrollView",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=v))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/InviteManager.ts",["cc","./ModuleUtilManagerBase.ts","./InviteControl.ts","./InviteHint.ts"],(function(n){var t,i,e,o;return{setters:[function(n){t=n.cclegacy},function(n){i=n.ModuleUtilManagerBase},function(n){e=n.default},function(n){o=n.InviteHint}],execute:function(){t._RF.push({},"ebb44rBmOFBBoF6CblxnGPc","InviteManager",void 0);n("InviteManager",class extends i{get _inviteControl(){return e.ins}async init(){console.log("初始化 InviteManager")}async initInviteConfig(){this._inviteControl.preloadPrefab()}async showConfigListPanel(n){await this._inviteControl.init(),this._inviteControl.showInviteConfigListPanel(n)}async showInviteHint(){await o.show()}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/InvitePopAward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ActionUtil.ts","./CustomScrollViewWithPrefab.ts","./InviteControl.ts","./InviteConfigPrizeItem.ts","./CCProgressBar.ts"],(function(e){var i,t,n,r,a,s,o,l,c,u,b,p,h,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.Label,a=e.Node,s=e._decorator,o=e.Component,l=e.tween,c=e.instantiate},function(e){u=e.default},function(e){b=e.CustomScrollViewWithPrefab},function(e){p=e.default},function(e){h=e.InviteConfigPrizeItem},function(e){f=e.CCProcessBar}],execute:function(){var d,g,v,w,m,P,L,y,z,I,N,C,B,S,A,V,D,_,x,M,F,R,W,Z,j;n._RF.push({},"5e8f8wNrZdJmZIMKmgixhvX","InvitePopAward",void 0);const{ccclass:k,property:H}=s;e("InvitePopAward",(d=k("InvitePopAward"),g=H(b),v=H(r),w=H(r),m=H(a),P=H(a),L=H(r),y=H(r),z=H(r),I=H(r),N=H(f),C=H(a),d((A=i((S=class e extends o{constructor(){super(...arguments),t(this,"awardScrollView",A,this),t(this,"mustLabel",V,this),t(this,"chanceNLabel",D,this),t(this,"mustNode",_,this),t(this,"chanceNode",x,this),t(this,"inviteLabel1",M,this),t(this,"inviteLabel2",F,this),t(this,"inviteLabel3",R,this),t(this,"tipsLabel",W,this),t(this,"inviteProgressBar",Z,this),t(this,"actionParent",j,this)}onLoad(){this.awardScrollView.setPrefabData(((e,i)=>{i.getComponent(h).setInfo(e)}))}setInfo(e){const i=p.ins.allConfigList[e],t=p.ins.allConfigList[e-1],n=p.ins.allConfigList[e+1];this.inviteLabel1.string=""+(t?.inviteNum||0),this.inviteLabel2.string=""+(i?.inviteNum||0),this.inviteLabel3.string=""+(n?.inviteNum||0),this.inviteProgressBar.progress=0;const r=n?.5:1;l(this.inviteProgressBar).to(.5,{progress:r}).start(),this.tipsLabel.string=n?"即将获得奖励":"恭喜解锁所有奖励";const a="chance"==i.rewardType;if(this.chanceNode.active=a,this.mustNode.active=!a,a){const e=i;this.chanceNLabel.string=""+e.chanceMultiple}else{const e=i;this.mustLabel.string=""+e.mustPrize[0].prizeName}this.scheduleOnce((()=>{this.awardScrollView.dateList=p.ins.getPrizeInfo(i).prizeInfo}))}static async show(i){const t=await p.ins.getPrefab("InvitePop/InvitePopAward");if(!t)return;const n=c(t);p.ins.addParent(n,p.ins.popParentNode);const r=n.getComponent(e);r.setInfo(i),u.show(r.actionParent,{type:"scale",duration:.3})}async close(){await u.hide(this.actionParent,{type:"scale",duration:.3}),this.node.active=!1,this.node.destroy()}}).prototype,"awardScrollView",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(S.prototype,"mustLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(S.prototype,"chanceNLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(S.prototype,"mustNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(S.prototype,"chanceNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(S.prototype,"inviteLabel1",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(S.prototype,"inviteLabel2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(S.prototype,"inviteLabel3",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(S.prototype,"tipsLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(S.prototype,"inviteProgressBar",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(S.prototype,"actionParent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=S))||B));n._RF.pop()}}}));

System.register("chunks:///_virtual/InviteRepeater.ts",["cc","./GameGlobal.ts","./LoadUtil.ts","./StorageUtil.ts","./BundleLayer.ts","./ModuleManager.ts"],(function(e){var t,r,a,s,i,n;return{setters:[function(e){t=e.cclegacy},function(e){r=e.GameGlobal},function(e){a=e.default},function(e){s=e.default},function(e){i=e.default},function(e){n=e.default}],execute:function(){t._RF.push({},"bd456ZDBAdKRrpgaGwARjy+","InviteRepeater",void 0);class c{static get _serverManager(){return n.instance?.getManager("serverManager").callServer("server_System")}static async getConfigList(){const e=await this._serverManager.getInviteConfig();return e?e.list:[]}static async getInviteList(){return await r.instance.gameServer.getInviteListInfo(!0)}static async getHelpList(){return[]}static async getAllDrawPrizes(){return await this._serverManager.getDrawList()}static getDrawPrizeAll(){const e=this._serverManager.drawPrizeListInfo;return[...e.basicPrize,...e.collectPrize,e.composePrize]}static getShowAwardProgress(){return s.get("inviteShowAwardProgress",-1)}static setShowAwardProgress(e){s.set("inviteShowAwardProgress",e)}}e("default",c),c.BundleLayer=i,c.LoadUtil=a,t._RF.pop()}}}));

System.register("chunks:///_virtual/InviteUserListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadUtil.ts"],(function(i){var e,t,n,r,a,s,l,o,c;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.initializerDefineProperty},function(i){n=i.cclegacy,r=i.Node,a=i.Label,s=i.Sprite,l=i._decorator,o=i.Component},function(i){c=i.default}],execute:function(){var u,h,p,f,b,m,v,d,g,I,y,D,N;n._RF.push({},"4febcIOFuZGcJN/Ql+YOd4u","InviteUserListItem",void 0);const{ccclass:w,property:L}=l;i("InviteUserListItem",(u=w("InviteUserListItem"),h=L(r),p=L(r),f=L(a),b=L(a),m=L(s),u((g=e((d=class extends o{constructor(){super(...arguments),t(this,"finishNode",g,this),t(this,"unfinishNode",I,this),t(this,"inviteDate",y,this),t(this,"nickname",D,this),t(this,"avatar",N,this)}start(){}setInfo(i){this.nickname.string=i.nickname,this.inviteDate.string=i.timeStr,c.getSpriteFrameIntelligent(i.avatar,(i=>{this.isValid&&i&&(this.avatar.spriteFrame=i)})),this.finishNode.active=i.finishDraw,this.unfinishNode.active=!i.finishDraw}}).prototype,"finishNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(d.prototype,"unfinishNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(d.prototype,"inviteDate",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(d.prototype,"nickname",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(d.prototype,"avatar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=d))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/LabelStrAnimat.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,n,o,s,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.CCString,o=t._decorator,s=t.Component,l=t.Label}],execute:function(){var a,u,p,c,h,d,b,y,f,x;i._RF.push({},"c90a4XTeeNFBLA4ZXZkrvMP","LabelStrAnimat",void 0);const{ccclass:g,property:S}=o;t("default",(a=S({tooltip:"更新延迟时间"}),u=S({tooltip:"仅更新符号"}),p=S({tooltip:"替代文字列表",type:[n],visible:function(){return!this.onlyExtern}}),c=S({tooltip:"末尾动态符号",type:[n],visible:function(){return this.onlyExtern}}),g((b=e((d=class extends s{constructor(){super(...arguments),r(this,"delay",b,this),r(this,"onlyExtern",y,this),r(this,"updateStr",f,this),r(this,"updateExternStr",x,this),this.strIndex=0}onLoad(){this.strIndex=0}start(){let t=this.getComponent(l);if(!t)return void console.error("未找到 Label 组件");let e=t.string,r=()=>{let r=0;this.updateStr.length>0?(r=this.updateStr.length,t.string=this.updateStr[this.strIndex]):(r=this.updateExternStr.length,t.string=e+this.updateExternStr[this.strIndex]),this.strIndex++,this.strIndex>=r&&(this.strIndex=0)};this.schedule(r,this.delay),r()}}).prototype,"delay",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=e(d.prototype,"onlyExtern",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=e(d.prototype,"updateStr",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=e(d.prototype,"updateExternStr",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=d))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["cc","./languageInterface.ts","./GlobalManager.ts","./StringUtil.ts","./LoadUtil.ts"],(function(e){var a,t,n,g,u,c,l;return{setters:[function(e){a=e.cclegacy,t=e.director,n=e.sys},function(e){g=e.language_list},function(e){u=e.default},function(e){c=e.default},function(e){l=e.default}],execute:function(){a._RF.push({},"03553XbueROvofMeQ3/VpMT","LanguageData",void 0);const i={};class o{static init(e,a){i[e]=a}static async change(e){void 0!==e&&`config/${e}`!=o.curLanguage&&(u.moduleManager("uiPopupManager").showLocalLoading("language_load","loading..."),await o.loadAllLanguage(),o.curLanguage=`config/${e}`,u.moduleManager("uiPopupManager").hideLocalLoading("language_load"),o.updateSceneRenderers())}static t(e,a){if(!i[e])return a;let t=i[e][a];return t?t||"":a}static translate(e){if(!i[o.curLanguage])return e;let a=i[o.curLanguage][e];return a?a||"":e}static translateArgs(e){let a=i[o.curLanguage][e]??e;for(let e=0;e<(arguments.length<=1?0:arguments.length-1);e++)a=c.replaceToStr(a,e+1<1||arguments.length<=e+1?void 0:arguments[e+1]);return a??""}static updateSceneRenderers(){t.getScene().children;const e=[];t.getScene()?.walk((a=>{a.getComponent("LocalizedLabel")&&e.push(a.getComponent("LocalizedLabel"))}));for(let a=0;a<e.length;++a){let t=e[a];t.node.active&&t.updateLabel()}}static async loadAllLanguage(){Object.keys(g).indexOf(n.language);let e="en";o.curLanguage=`config/${e}`;let a=await l.LoadConfigInRES(`config/${e}`);o.init(`config/${e}`,a),o.ready=!0,o.updateSceneRenderers()}}e("LanguageData",o),o.ready=!1,o.curLanguage=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/languageInterface.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"77cdcBSZ1BHH6JRfEwFh3PR","languageInterface",void 0);e("language_list",{en:"English",ru:"Русский",es:"Español",ar:"العربية",du:"Nederlands",fr:"Français",it:"Italiano",zh:"简体中文",zh_es:"繁體中文",ja:"日本語",kr:"한국어"});a._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimeUtil.ts"],(function(t){var i,e,n,o,s,a,r,c,l,d,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Sprite,s=t.Label,a=t._decorator,r=t.Component,c=t.UIOpacity,l=t.TweenSystem,d=t.tween},function(t){h=t.TimeUtil}],execute:function(){var p,g,u,m,v,b,y;n._RF.push({},"c4c6eHIRQtKG6vm+Nl532C8","Loading",void 0);const{ccclass:f,property:_}=a;t("Loading",(p=f("Loading"),g=_(o),u=_(s),p((b=i((v=class extends r{constructor(){super(...arguments),e(this,"mask",b,this),e(this,"label",y,this),this._isHiding=!1}onLoad(){window.loading=this}show(t){this.node.active&&!this._isHiding||(this.node.active||(this.node.getComponent(c).opacity=0),this.node.active=!0,this._isHiding=!1,l.instance.ActionManager.removeAllActionsFromTarget(this.node.getComponent(c)),d(this.node.getComponent(c)).to(.2,{opacity:255}).start()),t?(this.label.node.active=!0,this.label.string=t):this.label.node.active=!1}async hide(){!this._isHiding&&this.node.active&&(this._isHiding=!0,l.instance.ActionManager.removeAllActionsFromTarget(this.node.getComponent(c)),d(this.node.getComponent(c)).to(.2,{opacity:0}).call((()=>{this.node.active=!1,this._isHiding=!1})).start(),await h.wait(200))}}).prototype,"mask",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(v.prototype,"label",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadUtil.ts",["cc"],(function(e){var t,r,s,a,i,n;return{setters:[function(e){t=e.assetManager,r=e.SpriteFrame,s=e.Texture2D,a=e.resources,i=e.JsonAsset,n=e.cclegacy}],execute:function(){n._RF.push({},"c893ct/6jNJjZE7XFtQOzVt","LoadUtil",void 0);class o{static getSpriteFrameIntelligent(e,t){if(e)return e.startsWith("http")?o._loadSpriteFrameByUrl(e,t):o._loadSpriteFrameInRes(e,t);t?.()}static copySpriteFrame(e,t){e.texture=t.texture}static _loadSpriteFrameByUrl(e,a){let i,n=this._spriteFrameList.get(e);return n?(i=n,a&&a(i),i):new Promise((n=>{t.loadRemote(e,{ext:".png"},((t,o)=>{if(t)n(null);else{i=new r;const t=new s;t.image=o,i.texture=t,this._spriteFrameList.set(e,i),a&&a(i),n(i)}}))}))}static _loadSpriteFrameInRes(e,t){let i=e+"/texture",n=new r,o=async e=>(n.texture=e,t&&t(n),n),c=a.get(i,s);return c?o(c):new Promise((e=>{a.load(i,s,((t,r)=>{t&&(console.error("getImageInRes 图片加载失败",t),e(null)),e(o(r))}))}))}static LoadResource(e,r){return new Promise(((s,a)=>{t.resources?.load(e,r,((e,t)=>{e?a(e):s(t)}))}))}static async LoadConfigInRES(e,r){return new Promise(((s,a)=>{t.resources?.load(e,i,((e,t)=>{e?r&&r(e):(r&&r(t.json),s(t.json))}))}))}}e("default",o),o._spriteFrameList=new Map,n._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts","./TimeUtil.ts"],(function(e){var t,i,a,n,r,o,s,l,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){a=e.cclegacy,n=e._decorator,r=e.Component,o=e.Label,s=e.RichText},function(e){l=e.LanguageData},function(e){c=e.TimeUtil}],execute:function(){var u,p,h,d,y,g;a._RF.push({},"f5f288iXD5FjblSptVpPxD6","LocalizedLabel",void 0);const{ccclass:b,property:L,executeInEditMode:f,requireComponent:k}=n;e("LocalizedLabel",(u=b("LocalizedLabel"),p=L({visible:!1}),h=L({displayName:"Key",visible:!0}),u((g=t((y=class extends r{constructor(){super(...arguments),this.label=null,this.rich=null,i(this,"key",g,this)}get _key(){return this.key}set _key(e){this.key=e,this.updateLabel()}get string(){return this._key}set string(e){this.key=e,this.updateLabel()}async onLoad(){l.ready||await c.soloFunction(l.loadAllLanguage,"loadLanguage"),this.fetchRender()}async onEnable(){super.onEnable&&super.onEnable(),l.ready&&this.fetchRender()}fetchRender(){let e=this.getComponent(o);if(e)return this.label=e,void this.updateLabel();let t=this.getComponent(s);return t?(this.rich=t,void this.updateLabel()):void 0}updateLabel(){this.label&&(this.label.string=l.t(l.curLanguage,this.key)),this.rich&&(this.rich.string=l.t(l.curLanguage,this.key))}}).prototype,"key",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Loading"}}),t(y.prototype,"_key",[h],Object.getOwnPropertyDescriptor(y.prototype,"_key"),y.prototype),d=y))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedSprite.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b7e3eJdHFVMW6GSv+CXkseo","LocalizedSprite",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Logger.ts",["cc"],(function(t){var s;return{setters:[function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"913adiuLR1G+62OV+ar+d70","Logger",void 0);var e=function(t){return t[t.Net=1]="Net",t[t.Model=2]="Model",t[t.Business=4]="Business",t[t.View=8]="View",t[t.Config=16]="Config",t[t.Trace=32]="Trace",t[t.Error=64]="Error",t}(e||{}),i={1:"网络日志",2:"数据日志",4:"业务日志",8:"视图日志",16:"配置日志",32:"标准日志",64:"错误日志"};class r{static _init(){this._tags=e.Net|e.Model|e.Business|e.View|e.Config|e.Trace|e.Error}static setTags(t){void 0===t&&(t=e.Business),this._tags=t}static start(t){void 0===t&&(t="Time"),console.time(t)}static end(t){void 0===t&&(t="Time"),console.timeEnd(t)}static table(t,s){this._isOpen(e.Trace)&&console.table(t)}static trace(t,s){this._print(e.Trace,t,"",s)}static logNet(t,s){this._orange(e.Net,t,s)}static logModel(t,s){this._violet(e.Model,t,s)}static logBusiness(t,s){this._blue(e.Business,t,s)}static logError(t,s){this._print(e.Error,t,"color:#ee0000",s)}static logView(t,s){this._green(e.View,t,s)}static logConfig(t,s){this._gray(e.Config,t,s)}static _orange(t,s,e){this._print(t,s,"color:#ee7700;",e)}static _violet(t,s,e){this._print(t,s,"color:Violet;",e)}static _blue(t,s,e){this._print(t,s,"color:#3a5fcd;",e)}static _green(t,s,e){this._print(t,s,"color:green;",e)}static _gray(t,s,e){this._print(t,s,"color:gray;",e)}static _isOpen(t){return 0!=(this._tags&t)}static _print(t,s,r,n){if(this._isOpen(t)){var o=t!=e.Error?console.log:console.error,a=i[t];n?o.call(null,"%c%s%s%s:%s%o",r,this._getDateString(),"["+a+"]",this._stack(5),n,s):o.call(null,"%c%s%s%s:%o",r,this._getDateString(),"["+a+"]",this._stack(5),s)}}static _stack(t){var s=(new Error).stack.split("\n"),e=[];s.forEach((t=>{var s=(t=t.substring(7)).split(" ");s.length<2?e.push(s[0]):e.push({[s[0]]:s[1]})}));var i,r=[],n=[];if(t<e.length-1)for(var o in e[t]){if(2==(n=o.split(".")).length)r=n.concat();else{var a=(i=e[t][o]).lastIndexOf("/"),c=i.lastIndexOf(".");if(a>-1&&c>-1){var l=i.substring(a+1,c);r.push(l)}else r.push(i)}}return 1==r.length?"["+r[0]+".ts]":2==r.length?"["+r[0]+".ts->"+r[1]+"]":""}static _getDateString(){let t=new Date,s=t.getHours().toString(),e="";return e+=(1==s.length?"0"+s:s)+":",s=t.getMinutes().toString(),e+=(1==s.length?"0"+s:s)+":",s=t.getSeconds().toString(),e+=(1==s.length?"0"+s:s)+":",s=t.getMilliseconds().toString(),1==s.length&&(s="00"+s),2==s.length&&(s="0"+s),e+=s,e="["+e+"]",e}}t("Logger",r),r._tags=0,r._init(),s._RF.pop()}}}));

System.register("chunks:///_virtual/LoginConfig.ts",["cc"],(function(i){var n;return{setters:[function(i){n=i.cclegacy}],execute:function(){n._RF.push({},"24688yP2mZCo6cBAZ4Hb4LL","LoginConfig",void 0);i("default",{passwordLimit:{min:6,max:16},phoneLimit:{areacode:["+86"],min:8,max:13}});n._RF.pop()}}}));

System.register("chunks:///_virtual/LoopScrollList.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,l,s,n,r,c,h,a,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,l=t.ScrollView,s=t.Node,n=t._decorator,r=t.Component,c=t.instantiate,h=t.Vec3,a=t.UITransform,p=t.Label,u=t.Vec2}],execute:function(){var g,d,w,m,S,f,V,b,L;o._RF.push({},"af714qjj+lEzZjgSDJG62Tu","LoopScrollList",void 0);const{ccclass:y,property:C}=n;t("LoopScrollList",(g=y("LoopScrollList"),d=C(l),w=C(s),g((f=e((S=class extends r{constructor(){super(...arguments),i(this,"scrollView",f,this),i(this,"itemTemplate",V,this),i(this,"spacing",b,this),i(this,"scrollSpeed",L,this),this.items=[],this.data=[],this.contentHeight=0,this.isScrolling=!1,this.isHorizontal=!1}onLoad(){this.scrollView.node.on("scrolling",this.onScrolling,this),this.scrollView.node.on("scroll-ended",this.onScrollEnded,this),this.detectScrollDirection()}detectScrollDirection(){this.isHorizontal=this.scrollView.horizontal}updateListData(t){this.data=t,this.populateList()}populateList(){this.clearItems(),this.items=[],this.data.forEach(((t,e)=>{const i=c(this.itemTemplate);i.parent=this.scrollView.content,i.setPosition(new h(0,-e*(i.getComponent(a).height+this.spacing),0)),this.items.push(i),i.getComponent(p).string=""+e})),this.contentHeight=this.data.length*(this.itemTemplate.getComponent(a).height+this.spacing),this.scrollView.content.getComponent(a).setContentSize(this.scrollView.content.getComponent(a).width,this.contentHeight),this.scheduleAutoScroll()}clearItems(){this.scrollView.content&&this.scrollView.content.removeAllChildren()}scheduleAutoScroll(){this.unschedule(this.autoScroll),this.schedule(this.autoScroll,.02)}autoScroll(){if(this.scrollView){let t=this.scrollView.getScrollOffset();this.isHorizontal?(t.x+=this.scrollSpeed,t.x>this.scrollView.content.getComponent(a).width-this.scrollView.node.getComponent(a).width&&(t.x=0)):(t.y+=this.scrollSpeed,t.y>this.contentHeight-this.scrollView.node.getComponent(a).height&&(t.y=0)),this.scrollView.scrollToOffset(t,.01,!1)}}onScrolling(){this.isScrolling=!0;const t=this.scrollView.getScrollOffset().y;t<0?this.scrollView.scrollToOffset(new u(0,this.contentHeight-this.scrollView.node.getComponent(a).height)):t>this.contentHeight-this.scrollView.node.getComponent(a).height&&this.scrollView.scrollToOffset(new u(0,0))}onScrollEnded(){this.isScrolling=!1}}).prototype,"scrollView",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(S.prototype,"itemTemplate",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(S.prototype,"spacing",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),L=e(S.prototype,"scrollSpeed",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),m=S))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./CustomTemplateBinder.ts","./CustomTemplateNormal.ts","./AllModules.ts","./AudioConfig.ts","./DressConfig.ts","./GuideConfig.ts","./LoginConfig.ts","./NotifyConfig.ts","./PlatformConfig.ts","./RoomConfig.ts","./ServerConfig.ts","./UiParentConfig.ts","./ModuleManager.ts","./CommonDeclear.ts","./FrameworkConfig.ts","./BundleUtil.ts","./DeviceUtil.ts","./EventUtil.ts","./GIFUtil.ts","./HtmlUtil.ts","./LoadUtil.ts","./LoopScrollList.ts","./NativeMicroUtil.ts","./NodePoolUtil.ts","./NodeUtil.ts","./SceneUtil.ts","./StorageUtil.ts","./ActionUtil.ts","./baseAction.ts","./fadeAction.ts","./moveAction.ts","./scaleAction.ts","./ArrayUtil.ts","./DataUtil.ts","./EncryptUtil2.ts","./Logger.ts","./MathUtil.ts","./ObjectDepositUtil.ts","./StringUtil.ts","./TimeUtil.ts","./BootstrapBase.ts","./BundleLayer.ts","./BundlePool.ts","./CustomScrollViewWithPrefab.ts","./CustomToggleUnselect.ts","./CustomTouchScrollView.ts","./DropMenu.ts","./DropSelectItem.ts","./FrameAnimation.ts","./FrameAnimationSprite.ts","./LabelStrAnimat.ts","./PopBaseWindow.ts","./DrawManager.ts","./DrawRepeater.ts","./Draw.ts","./DrawAwardWindow.ts","./DrawAwardWindowItem.ts","./DrawControl.ts","./noAwardWindow.ts","./rewardItem.ts","./ExchangeCenterManager.ts","./ExchangeCenterRepeater.ts","./AccountHistory.ts","./AccountRule.ts","./ConvertPopup.ts","./ExchangeCenter.ts","./ExchangeItem.ts","./HistoryItem.ts","./SuccessPopup.ts","./GuideDeclare.ts","./GuideManager.ts","./GuideController.ts","./GuidePointTo.ts","./GuideUI.ts","./GuideUIBase.ts","./GuidePopup.ts","./InviteDeclare.ts","./InviteManager.ts","./InviteRepeater.ts","./InviteControl.ts","./HelpPopPanel.ts","./InviteConfigItem.ts","./InviteConfigListPanel.ts","./InviteConfigPrizeItem.ts","./InviteListPanel.ts","./InviteUserListItem.ts","./InviteHint.ts","./InvitePopAward.ts","./NotifyDeclare.ts","./NotifyManager.ts","./NotifyRepeater.ts","./NotifyControl.ts","./TaskDeclare.ts","./TaskManager.ts","./TaskRepeater.ts","./TaskDataControl.ts","./TaskDisplayBase.ts","./TaskInfoControl.ts","./TaskActionBase.ts","./TaskAction_operate.ts","./UIFriendDeclare.ts","./UIFriendManager.ts","./UIFriendRepeater.ts","./BusinessCard.ts","./FriendChat.ts","./FriendChatItem.ts","./FriendItem.ts","./FriendPanel.ts","./RotateIcon.ts","./UIFriendController.ts","./BagPackManager.ts","./BagPackRepeater.ts","./BagItem.ts","./BagPack.ts","./ModuleUtilManagerBase.ts","./RoomDeclare.ts","./RoomManager.ts","./RoomRepeater.ts","./RoomController.ts","./RoomMessage.ts","./UiParentDeclare.ts","./UiParentManager.ts","./UIPopupDeclare.ts","./UIPopupManager.ts","./Confirm.ts","./Loading.ts","./Tips.ts","./AudioDeclare.ts","./AudioManager.ts","./AudioRepeater.ts","./AudioController.ts","./AudioLogic.ts","./ServerDeclare.ts","./ServerManager.ts","./ServerRepeater.ts","./ServerBase.ts","./ServerHttpBase.ts","./ServerSocketBase.ts","./telegram-web.ts","./BuyButton.ts","./ExchangeBtn.ts","./TonWallet.ts","./BootstrapScene.ts","./Main.ts","./GameGlobal.ts","./GlobalConfig.ts","./GlobalManager.ts","./Server_System.ts","./TgCocosManager.ts","./TonConnectConfig.ts","./TonConnectManager.ts","./AudioManage.ts","./PanelBaseOrigin.ts","./AndroidSdk.ts","./BaseSdk.ts","./PlatfromEnum.ts","./SDKEvent.ts","./TTSDK.ts","./StaticLayer.ts","./Utils.ts","./EventManager.ts","./event_mgr.ts","./event_tool.ts","./AdpterSprite.ts","./CCProgressBar.ts","./customButtom.ts","./panelBasic.ts","./popBasic.ts","./popComponent.ts","./rollLabel.ts","./roundBox.ts","./viewBasic.ts","./GameConfig.ts","./BeeLayer.ts","./ConfirmExitLayer.ts","./FruitCollision.ts","./GameLogic.ts","./GameManager.ts","./GameUI.ts","./GetMaxAwardLayer.ts","./InputController.ts","./OverManager.ts","./OverScoreShow.ts","./RandomPropLayer.ts","./ReviveLayer.ts","./SkillLayer.ts","./LanguageData.ts","./LocalizedLabel.ts","./LocalizedSprite.ts","./languageInterface.ts","./CommonField.ts","./EncryptUtil.ts","./GoodsField.ts","./PrizeField.ts","./TypesInfo.ts","./AccountType.ts","./ActivietyDayResetType.ts","./ActivityStatus.ts","./AddressInfo.ts","./BagPrizeStatus.ts","./ButtonType.ts","./CostType.ts","./CustomGoodsType.ts","./DrawChanceType.ts","./DrawConsumeType.ts","./DressDeclare.ts","./ExchangeEnableTimeType.ts","./ExchangeType.ts","./ExpressStatus.ts","./GoodsType.ts","./MenuOpenType.ts","./MenuType.ts","./NotifyDialogStyleType.ts","./NotifyShowFrequencyType.ts","./NotifyStatusType.ts","./NotifyUserType.ts","./PrizeType.ts","./RankType.ts","./ShippingMethod.ts","./TaskCycleType.ts","./TaskRepeatDayType.ts","./Transaction.ts","./TypesInfo2.ts","./UserInfo.ts","./UserPrizeSourceType.ts","./FriendMessage.ts","./Interface2.ts","./interface.ts","./Interface4.ts","./OfflineMessage.ts","./RoomChat.ts","./RoomChatMessage.ts","./RoomMoveMessage.ts","./RoomRelayMessage.ts","./RoomUser.ts","./RoomUserMessage.ts","./Interface3.ts","./TaskConfig..ts","./TaskRefreshType.ts","./TaskType.ts","./UserBusinessCardMessage.ts","./CollectionDbType.ts","./DbPlatformAccessToken.ts","./DbAccount.ts","./DbAccountLoginError.ts","./DbAccountLoginLog.ts","./DbCaptcha.ts","./DbCaptchaData2.ts","./DbSmsData.ts","./DbSmsLog2.ts","./DbAchievement.ts","./DbActivityInfo.ts","./DbAdminLoginError.ts","./DbAdminLoginLog.ts","./DbAdminRole.ts","./DbAdminUser.ts","./DbAIConfig.ts","./DbAIQuestion.ts","./DbAIUserChatLog.ts","./DbAirdropConfig.ts","./DbBagInfo.ts","./DbCaptcha2.ts","./DbCaptchaData.ts","./DbActivityDrawInfo.ts","./DbDrawPrize.ts","./DbExchangeConfig.ts","./DbExchangeLog.ts","./DbExchangePrize.ts","./DbExpressInfo.ts","./DbFriend.ts","./DbFriendRelation.ts","./DbFruitComposeLog%20.ts","./DbFruitComposePrize.ts","./DbFruitDrawInfo.ts","./DbFruitDrawLog.ts","./DbFruitDrawPrize.ts","./DbFruitDrawUserPrize.ts","./DbFruitInviteConfig.ts","./DbFruitInviteMustLog.ts","./DbFruitGame.ts","./DbGameConfig.ts","./DbGamePropsConfig.ts","./DbGameUserRecord.ts","./DbActivityGoodsInfo.ts","./DbGoods.ts","./DbLotteryInfo.ts","./DbLotteryLog.ts","./DbLotteryPrize.ts","./DbMenu.ts","./DbNotify.ts","./DbOrderInfo.ts","./DbConfig.ts","./DbIdCounter.ts","./DbUserSnatch.ts","./DbGoods2.ts","./DbGoodsLotteryRecord.ts","./DbActivityQuizRepo.ts","./DbQuiz.ts","./DbQuizRepo.ts","./DbRankInfo.ts","./DbRankPrize.ts","./DbRankUserRecord.ts","./DbRankUserSingleRecord.ts","./DbRoomInfo.ts","./DbRoomServer.ts","./DbUserShareHistory.ts","./DbSmsData2.ts","./DbSmsLog.ts","./DbStatDayUserRetention.ts","./DbStatDayUsers.ts","./DbStatExchangePrize.ts","./DbStatOverView.ts","./DbTaskDetail.ts","./DbTaskInfo.ts","./DbTaskPrize.ts","./DbTaskUserReceive.ts","./DbTaskUserReport.ts","./DbTaskUserReward.ts","./DbUserAccount.ts","./DbUserAccountHistory.ts","./DbUserAccountSystemGiveLog.ts","./DbUserAddress.ts","./DbUserBusinessCard.ts","./DbUserBusinessCardRelation.ts","./DbUserInfo.ts","./DbUserInviteInfo.ts","./DbUserInviteRecord.ts","./DbUserLoginLog.ts","./DbUserPrizeHistory.ts","./DbUserPropsAccount.ts","./DbUserPropsAccountHistory.ts","./Base.ts","./PtlGetActivity.ts","./PtlAnswer.ts","./PtlInfo.ts","./PtlQuestionList.ts","./PtlGetConfig.ts","./PtlGetBagList.ts","./PtlSetBagExpress.ts","./PtlExchangePrize.ts","./PtlGetConfig2.ts","./PtlGetPrizeList.ts","./PtlAddFirendProcess.ts","./PtlAddFriendApply.ts","./PtlDeleteFirend.ts","./PtlCheckMustPrize.ts","./PtlCompose.ts","./PtlDraw.ts","./PtlGetInviteConfig.ts","./PtlGetInviteList.ts","./PtlGetPrizeList2.ts","./PtlEnd.ts","./PtlInit.ts","./PtlStart.ts","./PtlPropsInfo.ts","./PtlScoreProps.ts","./PtlShareGetProps.ts","./PtlUseProps.ts","./PtlGetConfigList.ts","./PtlGetHelpList.ts","./PtlGetInviteList2.ts","./PtlAccountLogin.ts","./PtlAccountRegister.ts","./PtlGetCaptcha.ts","./PtlGuestLogin.ts","./PtlPhoneLogin.ts","./PtlResetPassword.ts","./PtlSendSms.ts","./PtlTgUserLogin.ts","./PtlTokenLogin.ts","./PtlSaveAddress2.ts","./PtlLottery.ts","./PtlLotteryList.ts","./PtlLotteryPrizeList.ts","./PtlGetNotifyList.ts","./PtlCreatePayment.ts","./PtlPaymentCallback.ts","./PtlVerifyPayment.ts","./PtlCallback.ts","./PtlCheckPayment.ts","./PtlCreatePayment2.ts","./PtlAddCart.ts","./PtlCheckFollowShop.ts","./PtlCheckShopMember.ts","./PtlFollowGoods.ts","./PtlLogin2.ts","./PtlGetRankInfo.ts","./PtlGetRankList.ts","./PtlGetRankPrizeList.ts","./PtlGetUserRankList.ts","./PtlGetRoomInfo.ts","./PtlGetTask.ts","./PtlGetTaskList.ts","./PtlTaskUserReceive.ts","./PtlTaskUserReport.ts","./PtlTaskUserReward.ts","./PtlLogin.ts","./PtlTest.ts","./PtlGetUserBusinessCard2.ts","./PtlSaveUserBusinessCard.ts","./PtlSwitchUserBusinessCardApply.ts","./PtlGetDress.ts","./PtlSaveDress.ts","./PtlDelAddress.ts","./PtlGetAccount.ts","./PtlGetAddress.ts","./PtlGetAddressList.ts","./PtlGetUserAccountHistory.ts","./PtlGetUserInfo.ts","./PtlSaveAddress.ts","./serviceProto.ts","./PtlSql.ts","./SocketBase.ts","./PtlChangeUserInfo.ts","./PtlExitRoom.ts","./PtlGetOfflineMessage.ts","./PtlJoinRoom.ts","./PtlSetMic.ts","./PtlSetSeat.ts","./MsgChat.ts","./MsgMove.ts","./MsgRelay.ts","./PtlAddFriendApply2.ts","./PtlAddFriendProcess.ts","./PtlDeleteFriend.ts","./PtlGetFriendList.ts","./MsgBusinessCardNotice.ts","./MsgChangeUserInfoNotice.ts","./MsgChatNotice.ts","./MsgExitRoomNotice.ts","./MsgFriendNotice.ts","./MsgJoinRoomNotice.ts","./MsgMoveNotice.ts","./MsgRelayNotice.ts","./MsgSetMicNotice.ts","./MsgSetSeatNotice.ts","./PtlGetUserBusinessCard.ts","./PtlSaveUserBusinessCard2.ts","./PtlSwitchUserBusinessCardApply2.ts","./PtlSwitchUserBusinessProcess.ts","./socketServiceProto.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["cc","./BundleLayer.ts","./BundleUtil.ts"],(function(e){var t,a,n,s,o;return{setters:[function(e){t=e.cclegacy,a=e.Component,n=e._decorator},function(e){s=e.default},function(e){o=e.default}],execute:function(){var c;t._RF.push({},"79cf1mJdENFrZqPBz0+wWmh","Main",void 0);const{ccclass:l,property:r}=n;e("default",l(c=class extends a{onLoad(){}async start(){o.loadBundle("gamePanel",{loadAllres:!0}),await Promise.all([s.preload("mainPanel"),s.show("switchEffect")]),await Promise.all([s.destroy("switchEffect"),s.show("mainPanel",{showInfo:!0,zOrder:1})])}})||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtil.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"0eb5aJkisFEkr8pPVVzwIrQ","MathUtil",void 0);const a=Math.PI/180,e=180/Math.PI;class n{static limit(t,r,a){return Math.min(Math.max(t,r),a)}static randomNumber(t,r){return t+(r-t)*Math.random()}static get deg2Rad(){return a}static get rad2Deg(){return e}static radianToAngle(t){return t*n.rad2Deg}static angleToRadian(t){return t*n.deg2Rad}static sign(t){return t>0?1:t<0?-1:0}static progress(t,r,a){return t+(r-t)*a}static lerp(t,r,a){return a>1?a=1:a<0&&(a=0),t*(1-a)+r*a}static lerpAngle(t,r,a){var e=(r%=360)-(t%=360);return e>180?r=t-(360-e):e<-180&&(r=t+(360+e)),(n.lerp(t,r,a)%360+360)%360}static angleTowards(t,r,a){var e=(r%=360)-(t%=360);e>180?r=t-(360-e):e<-180&&(r=t+(360+e));var n=r-t;return a>Math.abs(n)?r:((t+a*Math.sign(n))%360+360)%360}static clamp(t,r,a){return t<r?r:t>a?a:t}static moveTowards(t,r,a){const e=Math.sign(r-t),n=t+a*e;return(e>0?n>=r:n<=r)?r:n}static probability(t){return Math.random()<t}}t("default",n),r._RF.pop()}}}));

System.register("chunks:///_virtual/MenuOpenType.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"5388aq62v9MYZKDnNGf3hNc","MenuOpenType",void 0);e("MenuOpenType",function(e){return e.COMPONENT="COMPONENT",e.INTER_LINK="INTER_LINK",e.OUT_LINK="OUT_LINK",e}({}));e("MenuOpenTypeName",{COMPONENT:"组件",INTER_LINK:"内链",OUT_LINK:"外链"});n._RF.pop()}}}));

System.register("chunks:///_virtual/MenuType.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"1a137FQvYxM/JyWducSwDU5","MenuType",void 0);e("MenuType",function(e){return e.DIR="DIR",e.MENU="MENU",e.BUTTON="BUTTON",e}({}));e("MenuTypeName",{DIR:"目录",MENU:"菜单",BUTTON:"按钮"});n._RF.pop()}}}));

System.register("chunks:///_virtual/ModuleManager.ts",["cc","./AllModules.ts"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t.AllModules}],execute:function(){n._RF.push({},"d4a38mJrKhDbY49TFo+N9u2","ModuleManager",void 0);class s{static get instance(){return s._instance}async init(){for(const t in e){const n=e[t];await n.init()}s._instance=this}getManager(t){return e[t]}}t("default",s),s._instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/ModuleUtilManagerBase.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"8f207Y7trVJS5ZVx0GTxNf6","ModuleUtilManagerBase",void 0);e("ModuleUtilManagerBase",class{}),t._RF.pop()}}}));

System.register("chunks:///_virtual/moveAction.ts",["cc","./baseAction.ts"],(function(e){var t,o,n,i,h;return{setters:[function(e){t=e.tween,o=e.v3,n=e.UITransform,i=e.cclegacy},function(e){h=e.default}],execute:function(){i._RF.push({},"bfffcQHaRJA/JBSxVMLk+QO","moveAction",void 0);e("default",class extends h{show(e,o){let n=this.getChangeData(e,"show");if(n)return e.setPosition(n.hide),t(e).to(this.curConfig.duration,{position:n.show},{easing:n.easing||"backOut",onComplete:o}).start();o&&o(e)}hide(e,o){let n=this.getChangeData(e,"hide");if(n)return t(e).to(this.curConfig.duration,{position:n.hide},{easing:n.easing||"backIn",onComplete:o}).start();o&&o(e)}getChangeData(e,t){let i=this.curConfig.useData,h=null,s=null;if(i?.show&&i?.hide)h=i.show,s=i.hide;else{let r=i?.fromType||"down",a=o(0,0,0),c=e.getComponent(n);if(!c)return console.error("未找到 UITransform组件，不能设置移动"),null;if(!c)return console.error("未找到 UITransform组件，不能设置移动"),null;let l=e.parent?.getComponent(n);if(!l&&!i?.show&&!i?.hide)return console.error("请先设置'show'或者'hide'属性"),null;let u=o(0,0,0);switch(r){case"left":a.x=c.width,l&&(u.x=-l.width*l.anchorX-c.width*(1-c.anchorX));break;case"right":a.x=-c.width,l&&(u.x=l.width*(1-l.anchorX)+c.width*c.anchorX);break;case"up":a.y=-c.height,l&&(u.y=l.height*(1-l.anchorY)+c.height*c.anchorY);break;case"down":a.y=c.height,l&&(u.y=-l.height*l.anchorY-c.height*(1-c.anchorY))}"show"==t?i?.show?(h=i.show.clone(),s=i?.hide||h.clone().subtract(a)):(s=i?.hide||o(u),h=s.clone().add(a)):i?.hide?(s=i.hide.clone(),h=i?.show||s.clone().add(a)):(h=i?.show||o(e.position),s=h.clone().subtract(a))}return{show:h,hide:s,easing:i?.easing}}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/MsgBusinessCardNotice.ts",["cc"],(function(){var e;return{setters:[function(s){e=s.cclegacy}],execute:function(){e._RF.push({},"a1edclA8X5A77Wg5+QfnTjh","MsgBusinessCardNotice",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/MsgChangeUserInfoNotice.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"8d7ad//MgtFv5Kn5RnY8i4r","MsgChangeUserInfoNotice",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/MsgChat.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"6cee5UzAflNTorJFEqwWcaN","MsgChat",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/MsgChatNotice.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"5424dyqZ4FOC43/0cWSACa7","MsgChatNotice",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/MsgExitRoomNotice.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ea3a2Iio6tOMJX5u8LV//XP","MsgExitRoomNotice",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/MsgFriendNotice.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"bfe7f3Gw6dCWp0Jr7TJO38+","MsgFriendNotice",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/MsgJoinRoomNotice.ts",["cc"],(function(){var e;return{setters:[function(o){e=o.cclegacy}],execute:function(){e._RF.push({},"e981awnH3hPbKsSH73Y9bRZ","MsgJoinRoomNotice",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/MsgMove.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a377btTW/lHi62iKID9P5H7","MsgMove",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/MsgMoveNotice.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"ccff7hsg0hCSqA1wjV4OKjl","MsgMoveNotice",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/MsgRelay.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"0e5b7ihKhxMQ6lkC7G3SKjo","MsgRelay",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/MsgRelayNotice.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"f4854BOOmVB4ooh5/fhvu5c","MsgRelayNotice",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/MsgSetMicNotice.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"428561cmXBEIIPt/g1Ntb6x","MsgSetMicNotice",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/MsgSetSeatNotice.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"02f11f71x1CT5tvYoZxdw+X","MsgSetSeatNotice",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/NativeMicroUtil.ts",["cc","./Logger.ts"],(function(e){var t,a;return{setters:[function(e){t=e.cclegacy},function(e){a=e.Logger}],execute:function(){t._RF.push({},"365a1FFaCRPsYc0i43KInGT","NativeMicroUtil",void 0);class n{constructor(){this._state=void 0,this._mediaRecorder=void 0,this._mediaStream=void 0,this._sourceNode=void 0,this._rs=void 0,this._blobs=void 0}static get instance(){return new Promise((async(e,t)=>{this._instance||(this._instance=new n,await this._instance.created()),e(this._instance)}))}static get audioContext(){return n._audioContext||(n._audioContext=new AudioContext({sampleRate:8e3})),n._audioContext}static get state(){return new Promise((async(e,t)=>{e((await n.instance)._state)}))}async created(){this._state="INIT",this._mediaRecorder=null,navigator.mediaDevices?.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia?await this.getUserMedia():(console.log("你的浏览器不支持访问用户媒体设备"),this._state="ERROR")}getUserMedia(){return new Promise(((e,t)=>{let a=n._instance;navigator.mediaDevices?.getUserMedia?navigator.mediaDevices.getUserMedia({audio:{sampleRate:8e3,channelCount:1},video:!1}).then((t=>{a._success(t),e()})).catch((t=>{a._error(t),e()})):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia({audio:{sampleRate:8e3,channelCount:1},video:!1}).then((t=>{a._success(t),e()})).catch((t=>{a._error(t),e()})):navigator.mozGetUserMedia?navigator.mozGetUserMedia({audio:{sampleRate:8e3,channelCount:1},video:!1}).then((t=>{a._success(t),e()})).catch((t=>{a._error(t),e()})):navigator.getUserMedia&&navigator.getUserMedia({audio:{sampleRate:8e3,channelCount:1},video:!1}).then((t=>{a._success(t),e()})).catch((t=>{a._error(t),e()}))}))}_success(e){n._instance._mediaStream=e}_error(e){a.logError("访问用户媒体设备失败："+e.name,e.message),this._state="ERROR"}static async startRecord(){let e=await n.instance;e._blobs=[],e._sourceNode?.stop(),e._mediaRecorder=e._record(e._mediaStream)}static async stopRecord(e){let t=await n.instance;"INIT"==t._state&&(t._state=e,"inactive"!=t._mediaRecorder?.state&&t?._mediaRecorder?.stop()),await new Promise((e=>{t._rs=e}));const a=await t._dataProcess(t._blobs);return t._encodeDataInBatches(a)}static async recordPlay(){let e=await n.instance;const t=await e._dataProcess(e._blobs);"STOP"==e._state&&e._play(await n.audioContext.decodeAudioData(t.buffer))}_record(e){let t=n._instance;const a=new MediaRecorder(e,{mimeType:"",audioBitsPerSecond:128e3}),i=[];return t._state="INIT",a.ondataavailable=e=>e.data.size&&i.push(e.data),a.start(),a.onstop=()=>{"STOP"==t._state&&(t._blobs=i.concat()),t._rs&&t._rs()},a}_play(e){let t=n._instance;if(!t._sourceNode){t._sourceNode=n.audioContext.createBufferSource();const e=n.audioContext.createGain();e.gain.value=1,t._sourceNode.detune.value=-100,t._sourceNode.connect(e),e.connect(n.audioContext.destination),t._sourceNode.addEventListener("ended",(e=>{t._state="STOP"}))}t._sourceNode.buffer=e,t._sourceNode.start()}_convertToArrayBuffer(e){const t=URL.createObjectURL(e);return fetch(t).then((e=>e.arrayBuffer()))}async _dataProcess(e){let t=n._instance;const a=new Blob(e);if(!a.size)return new Uint8Array;const i=await t._createTranscoder(a);return new Uint8Array(i)}_encodeDataInBatches(e,t){void 0===t&&(t=65535);const a=[];let n=0;for(;n<e.length;){const i=e.slice(n,n+t),r=window.btoa(String.fromCharCode(...i));a.push(r),n+=t}return a.join("")}async _createTranscoder(e){const t=n._instance;let a=new Uint8Array(await t._convertToArrayBuffer(e));const i=await n.audioContext.decodeAudioData(a.buffer),r=i.numberOfChannels;let s,o;s=2==r?t._interleave(i.getChannelData(0),i.getChannelData(1)):i.getChannelData(0);const c=new ArrayBuffer(44+2*s.length),d=new DataView(c);o=t._encodeWAV(d,s,r),t._floatTo16BitPCM(d,o,s);const _=new Blob([d]);return await t._convertToArrayBuffer(_)}_encodeWAV(e,t,a){const i=n._instance;return i._writeString(e,0,"RIFF"),e.setUint32(4,36+2*t.length,!0),i._writeString(e,8,"WAVE"),i._writeString(e,12,"fmt "),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,a,!0),e.setUint32(24,n.audioContext.sampleRate,!0),e.setUint32(28,4*n.audioContext.sampleRate,!0),e.setUint16(32,2*a,!0),e.setUint16(34,16,!0),i._writeString(e,36,"data"),e.setUint32(40,2*t.length,!0),44}_writeString(e,t,a){for(let n=0;n<a.length;n++)e.setUint8(t+n,a.charCodeAt(n))}_floatTo16BitPCM(e,t,a){for(let n=0;n<a.length;n++,t+=2){let i=Math.max(-1,Math.min(1,a[n]));e.setInt16(t,i<0?32768*i:32767*i,!0)}}_interleave(e,t){let a=e.length+t.length,n=new Float32Array(a),i=0,r=0;for(;i<a;)n[i++]=e[r],n[i++]=t[r],r++;return n}}e("default",n),n._instance=void 0,n._audioContext=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/noAwardWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopBaseWindow.ts","./EventUtil.ts"],(function(t){var e,n,o,i,r,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,i=t.Node,r=t._decorator},function(t){s=t.PopBaseWindow},function(t){c=t.default}],execute:function(){var a,d,l,p,u;o._RF.push({},"024f8dKavpCr4Hpd+SXlZK7","noAwardWindow",void 0);const{ccclass:h,property:w}=r;t("noAwardWindow",(a=h("noAwardWindow"),d=w({type:[i]}),a((u=e((p=class extends s{constructor(){super(...arguments),n(this,"hintNodes",u,this)}async onKeepDrawBtn(){this.close(!0),c.emit("inviteHint")}showHint(t){void 0===t&&(t=0),t>=this.hintNodes.length&&(t=0,console.error("hintId超出范围",t)),this.hintNodes[t].active=!0,this.show()}}).prototype,"hintNodes",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=p))||l));o._RF.pop()}}}));

System.register("chunks:///_virtual/NodePoolUtil.ts",["cc"],(function(o){var e,t,i;return{setters:[function(o){e=o.NodePool,t=o.instantiate,i=o.cclegacy}],execute:function(){i._RF.push({},"bda48KDqlZCfIev8qNjgysn","NodePoolUtil",void 0);class l{static havePool(o){return this._objectPoolMap.hasOwnProperty(o)}static createNodePool(o,i,l){if(void 0===l&&(l=0),this._objectPoolMap.hasOwnProperty(o))return!1;let a=new e;for(let o=0;o<l;++o){let o=t(i);a.put(o)}return this._objectPoolMap[o]=a,this._poolPreMap[o]=i,!0}static getNodeFromPool(o,e){if(void 0===e&&(e=""),!(o in this._objectPoolMap)){let e=`Error: Can not Get ${o} in Pool!`;return console.error(e),null}let i=this._objectPoolMap[o];if(!i)return console.error("Error: The _objPoll "+o+" is NULL!"),null;let l=null;return l=i.size()>0?i.get():t(this._poolPreMap[o]),""!=e&&(e in this._objSavebyTag||(this._objSavebyTag[e]=new Array),this._objSavebyTag[e].push({key:o,node:l})),l}static recycleNodeByTag(o){if(o in this._objSavebyTag)for(;this._objSavebyTag[o].length>0;){const e=this._objSavebyTag[o].pop();e&&e.node&&e.node.isValid&&(this._objectPoolMap[e.key].put(e.node),console.log("recycleNodeByTag __size111",e.key,this._objectPoolMap[e.key].size()))}}static recycleNode(o,e,t){if(void 0===t&&(t=""),this._objectPoolMap.hasOwnProperty(o)){if(""!=t&&this._objSavebyTag[t]){let o=this._objSavebyTag[t].findIndex((o=>o.node==e));o>=0&&this._objSavebyTag[t].splice(o,1)}e&&e.isValid&&this._objectPoolMap[o].put(e)}else{let e=`warming: Can not find ${o} in Pool!`;console.log(e)}}static destroyNodePool(o){o in this._objectPoolMap&&(this._objectPoolMap[o].clear(),delete this._objectPoolMap[o]),o in this._poolPreMap&&delete this._poolPreMap[o]}}o("default",l),l._objectPoolMap={},l._poolPreMap={},l._objSavebyTag={},i._RF.pop()}}}));

System.register("chunks:///_virtual/NodeUtil.ts",["cc"],(function(t){var e,n,i,a,r,o,s,l,c,d,y,h,p,m,u;return{setters:[function(t){e=t.cclegacy,n=t.v3,i=t.Node,a=t.Vec3,r=t.director,o=t.Camera,s=t.Layers,l=t.view,c=t.geometry,d=t.math,y=t.PhysicsSystem,h=t.Texture2D,p=t.UITransform,m=t.RenderRoot2D,u=t.Button}],execute:function(){e._RF.push({},"d4a51AqC1lGe5aAQWi5l4Ic","NodeUtil",void 0);const g=n(0),P=n(0);class f{static setObjectAttr(t,e,n){if(e in t){if("object"==typeof n){let i=t[e];for(let t in n)i[t]=n[t];t[e]=i}else t[e]=n;return t[e]}}static getNearNode(t,e,n,r){let o=n instanceof i?n.worldPosition:n,s=[];return o?(e.forEach(((e,n)=>{let i=a.subtract(g,o,e.worldPosition).length();i>t||s.push({node:e,index:n,distance:i})})),s.sort(((t,e)=>t.distance-e.distance)),r?s.splice(0,r):s):(console.error("getNearNode 获取位置节点失败"),s)}static listenNodeEventWithParent(t,e,n,i,a){t.on(e,n,i,a),t.parent&&this.listenNodeEventWithParent(t.parent,e,n,i,a)}static unlistenNodeEventWithParent(t,e,n,i,a){t.off(e,n,i,a),t.parent&&this.listenNodeEventWithParent(t.parent,e,n,i,a)}static get3dCamera(){return r.getScene()?.renderScene?.cameras?.map((t=>t.node.getComponent(o))).find((t=>t&&!(t.visibility&s.Enum.UI_2D)))||void 0}static pointInViewport(t,e){var{x:i,y:a}=e.worldToScreen(t,n(0)),r=l.getViewportRect();return i>-20&&i<r.width+20&&a>-20&&a<r.height+20}static get _rayplane(){return this._rayplane0||(this._rayplane0=new c.Plane(0,1,0,0)),this._rayplane0}static getWorldPosOnPlane(t,e,n){let i=t.screenPointToRay(e.x,e.y);const r=c.Plane.set(this._rayplane,0,1,0,0);let o=d.mat4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),s=n?.worldPos?g.set(n?.worldPos):g.set(0,0,0),l=n?.worldAngle?P.set(n?.worldAngle):g.set(0,0,0);d.Mat4.transform(o,o,s.negative());let y=t=>t*Math.PI/180;d.Mat4.rotateY(o,o,y(l.y)),d.Mat4.rotateZ(o,o,y(l.z)),d.Mat4.rotateX(o,o,y(l.x)),r.transform(o);const h=c.intersect.rayPlane(i,r);if(!h)return null;let p=a.angle(r.n,i.d)/Math.PI*180>90,m=new a;return a.scaleAndAdd(m,i.o,i.d,h),{facePlane:p,pos:m,distance:h}}static get3dNodeByLocation(t,e,n,i){const a=this.tempRay;return t.screenPointToRay(e.x,e.y,a),y.instance.raycastClosest(a,n,i,!0)?y.instance.raycastClosestResult.collider.node:null}static get tempRay(){return this._myRay||(this._myRay=new c.Ray),this._myRay}static create3dTexture(t){const e=new h;return e.setMipFilter(h.Filter.LINEAR),e.setFilters(h.Filter.LINEAR,h.Filter.LINEAR),t&&(e.image=t),e}static limitPlaneSize(t,e){t.node.isValid&&t.material?.setProperty("mainTexture",e)}static limitSpriteSize(t,e,n,i){const a=t?.getComponent(p),r=n??a?.contentSize.width??1,o=i??a?.contentSize.height??1;var{width:s,height:l}=e??{width:r,height:o},c=Math.min(r/s,o/l,1),d=Math.round;t.spriteFrame=e,t?.getComponent(p)?.setContentSize(d(s*c),d(l*c))}static addParent(t,e){if(e){if(!e.isValid)return void console.error("addParent","父节点无效");const n=t.getComponent(m);n&&n.destroy(),t.parent=e}else r.addPersistRootNode(t),t.layer!=s.Enum.UI_2D||t.getComponent(m)||t.addComponent(m)}static BtnOnClick(t,e,n){t.node.on(u.EventType.CLICK,e,n)}static ListenBtnsClick(t,e,n){t.forEach(((t,i)=>{t.node.on(u.EventType.CLICK,(()=>{e(t,i)}),n)}))}}t("NodeUtil",f),f._rayplane0=void 0,f._myRay=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/NotifyConfig.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"89e1b9XkmdJNYNhNhlAEL9R","NotifyConfig",void 0);t("default",{marqueeOption:{framePixelStep:2.2,intervalTime:256},trackOption:{disTopPosY:50,trackCount:12,trackSpace:15}});e._RF.pop()}}}));

System.register("chunks:///_virtual/NotifyControl.ts",["cc","./NotifyRepeater.ts","./NotifyDeclare.ts"],(function(t){var e,i,a,o,r,s,n,c;return{setters:[function(t){e=t.cclegacy,i=t.game,a=t.view,o=t.v3,r=t.isValid,s=t.UITransform},function(t){n=t.default},function(t){c=t.NotifyUserType}],execute:function(){e._RF.push({},"6af9atpVqBHtIx5Cl40F89z","NotifyControl",void 0);var l=function(t){return t[t.None=0]="None",t[t.Start=1]="Start",t}(l||{});t("NotifyControl",class{constructor(){this._marqueeState=l.None,this._marqueeInfoList=[],this._tweenOption=void 0,this._trackOpt=void 0,this._track={},this._marqueeParent=void 0}async init(t){this._tweenOption=t.marqueeOption,this._trackOpt=t.trackOption;for(var e=0;e<this._trackOpt.trackCount;e++)this._track[e]||(this._track[e]=[])}async startMarquee(t,e){if(this._marqueeParent=e,this._marqueeInfoList.push(...t),this._marqueeState==l.None){for(this._marqueeState=l.Start;this._marqueeInfoList.length>0;)await n.TimeUtil.wait(this._tweenOption.intervalTime),i.isPaused()||await this._scrolling(this._marqueeInfoList.shift(),this._marqueeParent);this._marqueeState=l.None}}cleanMarquee(){this._marqueeInfoList=[];for(const t in this._track)this._track[t].forEach((t=>{n.BundlePool.remove("NotifyMarquee",t)})),this._track[t]=[]}async _randomMarqueePos(t,e){const i=a.getVisibleSize();let r=await this._getEffectCalculate(e);const s=Math.floor(Math.random()*r.length-.01),n=this._trackOpt.disTopPosY+r[s]*(t+this._trackOpt.trackSpace),c=i.height-t/2-n,l=o(i.width,c),h=o(-e,c);return{tPos:r[s]||0,start:l,end:h}}async _getEffectCalculate(t){const e=a.getVisibleSize(),i=[];for(const a in this._track){const o=this._track[a].length;if(o>0){const i=this._track[a][o-1];if(e.width-i.worldPosition.x<t+this._trackOpt.trackSpace)continue}i||console.error("error_____++++++++++++++++++"),i.push(Number(a))}return i.length<0?(await n.TimeUtil.wait(100),this._getEffectCalculate(t)):i}async _scrolling(t,e){if(e&&!r(e))return;const i=await n.BundlePool.show("NotifyMarquee",e,{showInfo:t});if(!t||!i)return void(this._marqueeState=l.None);const a=i.node;a.active=!1;const{height:o,width:c}=a.children[0].getComponent(s),h=await this._randomMarqueePos(o,c);this._track[h.tPos]||console.error("error_____++++++++++++++++++",h.tPos),this._track[h.tPos].push(a),a.active=!0,a.worldPosition.set(h.start),i.onInit({endPos:h.end,step:this._tweenOption.framePixelStep,track:this._track,tPos:h.tPos})}async showDialogNotify(t){if(!(t.startTime>Date.now()||Date.now()>t.endTime)){if(t.notifyUserType==c.NEW){if(n.StorageUtil.get(t.title+t._id))return void(t.call&&t.call())}else{let e=n.StorageUtil.get(t.title+t._id);switch(e?.frequency){case"EVERY_DAY":{let t=(new Date).getDay()==new Date(e.openTime).getDay();if(Date.now()-e.openTime>864e5||!t)break}case"ONLY_ONE":return void(t.call&&t.call())}}return new Promise((e=>{n.BundleLayer.show("NotifyDialog",{showInfo:{...t,call:()=>{e(),t.call&&t.call()}}})}))}t.call&&t.call()}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/NotifyDeclare.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"debf6QZBIVB25G/JVY06y21","NotifyDeclare",void 0);e("NotifyUserType",function(e){return e.ALL="ALL",e.NEW="NEW",e}({})),e("NotifyDialogStyleType",function(e){return e.TEXT="TEXT",e.IMAGE="IMAGE",e}({})),e("NotifyShowFrequencyType",function(e){return e.ONLY_ONE="ONLY_ONE",e.EVERY_DAY="EVERY_DAY",e.EVERY_TIME="EVERY_TIME",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/NotifyDialogStyleType.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"420f5wvqCFGPoYj/j/PE0ws","NotifyDialogStyleType",void 0);t("NotifyDialogStyleType",function(t){return t.TEXT="TEXT",t.IMAGE="IMAGE",t}({}));t("NotifyDialogStyleTypeName",{TEXT:"文本",IMAGE:"图片"});e._RF.pop()}}}));

System.register("chunks:///_virtual/NotifyManager.ts",["cc","./ModuleUtilManagerBase.ts","./NotifyControl.ts","./NotifyRepeater.ts"],(function(t){var o,e,i,a;return{setters:[function(t){o=t.cclegacy},function(t){e=t.ModuleUtilManagerBase},function(t){i=t.NotifyControl},function(t){a=t.default}],execute:function(){o._RF.push({},"69093680SZDVaByXMG+G9yG","NotifyManager",void 0);t("NotifyManager",class extends e{constructor(t){super(),this._control=void 0,this._marqueeOpt=void 0,this._marqueeOpt=t}async init(t){this._control||(this._control=new i)}async loadResource(){const t=await a.BundlePool.create("NotifyMarquee");return this._control.init(this._marqueeOpt),t}async gameMarqueeNotify(t,o){await this._control.startMarquee(t.list,o)}destroyNotify(){this._control.cleanMarquee()}async dialogNotify(t){this._control.showDialogNotify(t)}}),o._RF.pop()}}}));

System.register("chunks:///_virtual/NotifyRepeater.ts",["cc","./HtmlUtil.ts","./ActionUtil.ts","./LoadUtil.ts","./StorageUtil.ts","./NodePoolUtil.ts","./TimeUtil.ts","./DataUtil.ts","./BundleUtil.ts","./BundlePool.ts","./BundleLayer.ts","./MathUtil.ts"],(function(t){var l,i,e,n,u,o,a,f,c,d,s,U;return{setters:[function(t){l=t.cclegacy},function(t){i=t.default},function(t){e=t.default},function(t){n=t.default},function(t){u=t.default},function(t){o=t.default},function(t){a=t.TimeUtil},function(t){f=t.default},function(t){c=t.default},function(t){d=t.default},function(t){s=t.default},function(t){U=t.default}],execute:function(){l._RF.push({},"05651aUWElBcKshziNY4XS0","NotifyRepeater",void 0);class r{}t("default",r),r.BundleLayer=s,r.BundlePool=d,r.HtmlUtil=i,r.ActionUtil=e,r.LoadUtil=n,r.StorageUtil=u,r.NodePoolUtil=o,r.TimeUtil=a,r.DataUtil=f,r.BundleUtil=c,r.MathUtil=U,l._RF.pop()}}}));

System.register("chunks:///_virtual/NotifyShowFrequencyType.ts",["cc"],(function(e){var E;return{setters:[function(e){E=e.cclegacy}],execute:function(){E._RF.push({},"af0e16zSp1No6a/MANAvvRv","NotifyShowFrequencyType",void 0);e("NotifyShowFrequencyType",function(e){return e.ONLY_ONE="ONLY_ONE",e.EVERY_DAY="EVERY_DAY",e.EVERY_TIME="EVERY_TIME",e}({}));e("NotifyShowFrequencyTypeName",{ONLY_ONE:"活动期间仅显示一次",EVERY_DAY:"活动期间每天显示一次",EVERY_TIME:"活动期间每次进入游戏都显示"});E._RF.pop()}}}));

System.register("chunks:///_virtual/NotifyStatusType.ts",["cc"],(function(t){var S;return{setters:[function(t){S=t.cclegacy}],execute:function(){S._RF.push({},"7d3a5lMxxJBb7xDjWXYqcK1","NotifyStatusType",void 0);t("NotifyStatusType",function(t){return t.NOT_START="NOT_START",t.PROCESSING="PROCESSING",t.FINISHED="FINISHED",t}({}));t("NotifyStatusTypeName",{NOT_START:"未开始",PROCESSING:"进行中",FINISHED:"已结束"});S._RF.pop()}}}));

System.register("chunks:///_virtual/NotifyUserType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a7c326LYhFMErZaITu1SF5F","NotifyUserType",void 0);e("NotifyUserType",function(e){return e.ALL="ALL",e.NEW="NEW",e}({}));e("NotifyUserTypeName",{ALL:"所有用户",NEW:"新用户"});t._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectDepositUtil.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b425byS1yRD2owC8zAILWXp","ObjectDepositUtil",void 0);const r=Object.prototype,o="[object Object]",c="[object Array]",s=["push","pop","shift","unshift","sort","reverse","splice"];t("ObjectDepositUtil",class{constructor(t){r.toString.call(t)!==o&&r.toString.call(t)!==c&&console.error("请传入一个对象或数组"),this._observe(t)}get(t){}set(t){}_observe(t,e){r.toString.call(t)===c&&this._overrideArrayProto(t,e),Object.keys(t).forEach((s=>{let i=this,n=t[s],l=e&&e.slice();l?l.push(s):l=[s],Object.defineProperty(t,s,{get:function(){return n},set:function(t){n!==t&&("[object Object]"===r.toString.call(t)&&i._observe(t,l),n=t)}}),r.toString.call(t[s])!==o&&r.toString.call(t[s])!==c||this._observe(t[s],l)}),this)}_overrideArrayProto(t,e){var r,o=Array.prototype,c=Object.create(Array.prototype),i=this;s.forEach((t=>{Object.defineProperty(c,t,{value:function(){return r=o[t].apply(this,arguments),i._observe(this,e),r}})})),t.__proto__=c}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/OfflineMessage.ts",["cc"],(function(){var e;return{setters:[function(s){e=s.cclegacy}],execute:function(){e._RF.push({},"60442Od53lKmrYrT3wbYaCI","OfflineMessage",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/OverManager.ts",["cc"],(function(){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"19104++QKRM3KPDp8u5qFh7","OverManager",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/OverScoreShow.ts",["cc","./PanelBaseOrigin.ts"],(function(e){var t,c,r;return{setters:[function(e){t=e.cclegacy,c=e._decorator},function(e){r=e.default}],execute:function(){var n;t._RF.push({},"faf223ne79PmZtngvpEPsfv","OverScoreShow",void 0);const{ccclass:s,property:o}=c;e("default",s(n=class extends r{})||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/PanelBaseOrigin.ts",["cc"],(function(e){var t,n,o,i,a,s;return{setters:[function(e){t=e.cclegacy,n=e.Component,o=e.Tween,i=e.tween,a=e.v3,s=e._decorator}],execute:function(){var c;t._RF.push({},"96e8dOqLj9L0K1oMEFcFdLk","PanelBaseOrigin",void 0);const{ccclass:l,property:d}=s;e("default",l(c=class extends n{onEnable(){this.windowShow()}windowShow(){let e=this.node.getChildByName("mask");e&&(e.active=!0);let t=this.node.getChildByName("content");t?(o.stopAllByTarget(t),t.setScale(0,0,1),i(t).to(.45,{scale:a(1,1,1)},{easing:"backOut"}).start()):console.error("windowShow cannot find content")}windowHide(){let e=this.node.getChildByName("mask");e&&(e.active=!1);let t=this.node.getChildByName("content");t?(o.stopAllByTarget(t),i(t).to(.45,{scale:a(0,0,1)},{easing:"backIn"}).call((()=>{this.node.active=!1})).start()):console.error("windowHide cannot find content")}onClose(){this.windowHide()}})||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/panelBasic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./viewBasic.ts","./ActionUtil.ts","./BundleLayer.ts"],(function(e){var t,o,n,i,a,s,r,d,l,u,h,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e.Node,a=e._decorator,s=e.Widget,r=e.input,d=e.Input,l=e.KeyCode,u=e.director},function(e){h=e.default},function(e){p=e.default},function(e){c=e.default}],execute:function(){var g,f,w,y,m,b,v,N,_,E,S;n._RF.push({},"98977LHlhBBkpNZvq2nGjGq","panelBasic",void 0);const{ccclass:D,property:A}=a;e("default",(g=D("panelBasic"),f=A(i),w=A(i),y=A(i),m=A(i),g((N=t((v=class extends h{constructor(){super(...arguments),o(this,"main",N,this),o(this,"topNode",_,this),o(this,"bottomNode",E,this),o(this,"bg",S,this),this._showNode=null}get showNode(){return this._showNode}async onInit(e){this._registerInitEvent(),this.showNode.active=!0;const t=this.showNode.getComponent(s);t&&(t.enabled=!0,t.updateAlignment(),t.enabled=!1)}async onShow(e){const t=this.topNode.getComponent(s),o=this.bottomNode.getComponent(s);t?.updateAlignment(),o?.updateAlignment(),t&&(t.enabled=!1),o&&(o.enabled=!1),await Promise.all([p.show(this.topNode,{duration:.3,type:"move",useData:{easing:"fade",fromType:"up"}}),p.show(this.showNode,{duration:.3,type:"fade",useData:{easing:"fade"}}),p.show(this.bg,{duration:.3,type:"fade",useData:{easing:"fade"}}),p.show(this.bottomNode,{duration:.3,type:"move",useData:{easing:"fade",fromType:"down"}})]),await super.onShow(e),t&&(t.enabled=!0),o&&(o.enabled=!0),this._registerShowEvent()}async preShow(e){await this.onShow(e)}async onHide(e){this._unregisterShowEvent();const t=this.topNode.getComponent(s),o=this.bottomNode.getComponent(s);t?.updateAlignment(),o?.updateAlignment(),t&&(t.enabled=!1),o&&(o.enabled=!1),await Promise.all([p.hide(this.topNode,{duration:.3,type:"move",useData:{easing:"fade",fromType:"up"}}),p.hide(this.main,{duration:.3,type:"fade",useData:{easing:"fade"}}),p.hide(this.bg,{duration:.3,type:"fade",useData:{easing:"fade"}}),p.hide(this.bottomNode,{duration:.3,type:"move",useData:{easing:"fade",fromType:"down"}})]),await super.onHide()}_registerInitEvent(){}_registerShowEvent(){r.on(d.EventType.KEY_DOWN,this.onKeydownHandler,this)}_unregisterShowEvent(){r.off(d.EventType.KEY_DOWN,this.onKeydownHandler,this)}_unregisterAllEvent(){r.off(d.EventType.KEY_DOWN,this.onKeydownHandler,this)}async onKeydownHandler(e){switch(e.keyCode){case l.MOBILE_BACK:case l.BACKSPACE:let e=u.getScene()?.children;e&&e[e?.length-1]==this.node&&await this.gotoPrevious(!0,!0)}}async gotoPrevious(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);const o=c.panelStack.pop();if(!o)return;const n=o.names,i=o.init,a=o.show;await Promise.all([o&&c.preload(n,void 0,i),this.destroySelf(e,t,!0)]),o&&c.previewShow(n,{initInfo:i,showInfo:a})}async destroySelf(e,t,o){this._unregisterAllEvent(),await super.destroySelf(e,t,o)}}).prototype,"main",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(v.prototype,"topNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(v.prototype,"bottomNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(v.prototype,"bg",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformConfig.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9f8d7tsDM5Ki6agnaEmVify","PlatformConfig",void 0);t("default",{shareConfig:{baseUrl:"",shareCardInfo:{},shareVideoInfo:{}},adsConfig:{banner:{tt:"",wx:""},video:{tt:"",wx:""},interstitial:{tt:"",wx:""}}});e._RF.pop()}}}));

System.register("chunks:///_virtual/PlatfromEnum.ts",["cc"],(function(t){var u,c;return{setters:[function(t){u=t.cclegacy,c=t.Enum}],execute:function(){u._RF.push({},"da2d3cOVoNHBotyIjLFiV5P","PlatfromEnum",void 0);t("default",c({WEB:0,TT:-1,WX:-1,ANDROID:-1,IOS:-1,QQ:-1}));u._RF.pop()}}}));

System.register("chunks:///_virtual/PopBaseWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DrawRepeater.ts"],(function(t){var e,o,i,n,a,r,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Node,a=t._decorator,r=t.Component},function(t){s=t.default}],execute:function(){var c,p,l,u,d;i._RF.push({},"f75f6Fh8RNPlp0LNk4eYJ1q","PopBaseWindow",void 0);const{ccclass:h,property:P}=a;t("PopBaseWindow",(c=h("PopBaseWindow"),p=P({type:n}),c((d=e((u=class extends r{constructor(){super(...arguments),o(this,"actionParent",d,this)}start(){}async show(){this.actionParent||(this.actionParent=this.node),await s.ActionUtil.show(this.actionParent)}async close(t){void 0===t&&(t=!1),await s.ActionUtil.hide(this.actionParent),t&&this.node.destroy()}update(t){}}).prototype,"actionParent",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=u))||l));i._RF.pop()}}}));

System.register("chunks:///_virtual/popBasic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ActionUtil.ts","./viewBasic.ts"],(function(t){var n,e,i,u,a,o,c,s,r,l,I,O,p,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){i=t.cclegacy,u=t.Enum,a=t.Node,o=t.CCFloat,c=t._decorator,s=t.input,r=t.Input,l=t.Widget,I=t.KeyCode,O=t.director},function(t){p=t.default},function(t){d=t.default}],execute:function(){var h,b,f,g,m,y,q,w,k,D,_;i._RF.push({},"30143BY71pPD5WsIuj2Igjf","popBasic",void 0);const{ccclass:v,property:x}=c;var C=function(t){return t.linear="linear",t.smooth="smooth",t.fade="fade",t.constant="constant",t.quadIn="quadIn",t.quadOut="quadOut",t.quadInOut="quadInOut",t.quadOutIn="quadOutIn",t.cubicIn="cubicIn",t.cubicOut="cubicOut",t.cubicInOut="cubicInOut",t.cubicOutIn="cubicOutIn",t.quartIn="quartIn",t.quartOut="quartOut",t.quartInOut="quartInOut",t.quartOutIn="quartOutIn",t.quintIn="quintIn",t.quintOut="quintOut",t.quintInOut="quintInOut",t.quintOutIn="quintOutIn",t.sineIn="sineIn",t.sineOut="sineOut",t.sineInOut="sineInOut",t.sineOutIn="sineOutIn",t.expoIn="expoIn",t.expoOut="expoOut",t.expoInOut="expoInOut",t.expoOutIn="expoOutIn",t.circIn="circIn",t.circOut="circOut",t.circInOut="circInOut",t.circOutIn="circOutIn",t.elasticIn="elasticIn",t.elasticOut="elasticOut",t.elasticInOut="elasticInOut",t.elasticOutIn="elasticOutIn",t.backIn="backIn",t.backOut="backOut",t.backInOut="backInOut",t.backOutIn="backOutIn",t.bounceIn="bounceIn",t.bounceOut="bounceOut",t.bounceInOut="bounceInOut",t.bounceOutIn="bounceOutIn",t}(C||{});u(C);t("popBasic",(h=x(a),b=x(a),f=x(o),g=x({type:C}),m=x({type:C}),q=n((y=class extends d{constructor(){super(...arguments),e(this,"bg",q,this),e(this,"main",w,this),e(this,"showTime",k,this),e(this,"easing",D,this),e(this,"hideEasing",_,this),this._touchNode=void 0}async onInit(t){s.on(r.EventType.KEY_DOWN,this._onkeyDownHandler,this);const n=this.main.getComponent(l);n&&(n.enabled=!0,n.updateAlignment(),n.enabled=!1)}async onShow(t){const n=this.main.getComponent(l);await Promise.all([p.show(this.main,{duration:this.showTime,type:"scale",useData:{easing:this.easing}}),p.show(this.bg,{duration:this.showTime,type:"fade"})]),n&&(n.enabled=!0)}async onHide(){const t=this.main.getComponent(l);t&&(t.enabled=!1),await Promise.all([p.hide(this.main,{duration:this.showTime,type:"scale",useData:{easing:this.hideEasing}}),p.hide(this.bg,{duration:this.showTime,type:"fade"})])}_onkeyDownHandler(t){switch(t.propagationStopped=!0,t.propagationImmediateStopped=!0,t.keyCode){case I.MOBILE_BACK:case I.BACKSPACE:let t=O.getScene()?.children;t&&t[t?.length-1]==this.node&&this.destroySelf(!0)}}async destroySelf(t,n){void 0===n&&(n=!0),s.off(r.EventType.KEY_DOWN,this._onkeyDownHandler,this),await super.destroySelf(!1,n)}}).prototype,"bg",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=n(y.prototype,"main",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=n(y.prototype,"showTime",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),D=n(y.prototype,"easing",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.fade}}),_=n(y.prototype,"hideEasing",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.fade}}),y));i._RF.pop()}}}));

System.register("chunks:///_virtual/popComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ActionUtil.ts"],(function(t){var n,e,i,u,o,a,s,c,r,l,I,O,p,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){i=t.cclegacy,u=t.Enum,o=t.Node,a=t.CCFloat,s=t._decorator,c=t.Component,r=t.input,l=t.Input,I=t.Widget,O=t.KeyCode,p=t.director},function(t){h=t.default}],execute:function(){var d,b,m,g,y,f,q,w,C,k,D;i._RF.push({},"6f719e8SqZHV4pOtt11sMnD","popComponent",void 0);const{ccclass:E,property:S}=s;var _=function(t){return t.linear="linear",t.smooth="smooth",t.fade="fade",t.constant="constant",t.quadIn="quadIn",t.quadOut="quadOut",t.quadInOut="quadInOut",t.quadOutIn="quadOutIn",t.cubicIn="cubicIn",t.cubicOut="cubicOut",t.cubicInOut="cubicInOut",t.cubicOutIn="cubicOutIn",t.quartIn="quartIn",t.quartOut="quartOut",t.quartInOut="quartInOut",t.quartOutIn="quartOutIn",t.quintIn="quintIn",t.quintOut="quintOut",t.quintInOut="quintInOut",t.quintOutIn="quintOutIn",t.sineIn="sineIn",t.sineOut="sineOut",t.sineInOut="sineInOut",t.sineOutIn="sineOutIn",t.expoIn="expoIn",t.expoOut="expoOut",t.expoInOut="expoInOut",t.expoOutIn="expoOutIn",t.circIn="circIn",t.circOut="circOut",t.circInOut="circInOut",t.circOutIn="circOutIn",t.elasticIn="elasticIn",t.elasticOut="elasticOut",t.elasticInOut="elasticInOut",t.elasticOutIn="elasticOutIn",t.backIn="backIn",t.backOut="backOut",t.backInOut="backInOut",t.backOutIn="backOutIn",t.bounceIn="bounceIn",t.bounceOut="bounceOut",t.bounceInOut="bounceInOut",t.bounceOutIn="bounceOutIn",t}(_||{});u(_);t("popComponent",(d=S(o),b=S(o),m=S(a),g=S({type:_}),y=S({type:_}),q=n((f=class extends c{constructor(){super(...arguments),e(this,"bg",q,this),e(this,"main",w,this),e(this,"showTime",C,this),e(this,"easing",k,this),e(this,"outEasing",D,this),this._touchNode=void 0}onLoad(){this.onInit()}onEnable(){this.onShow()}onInit(){r.on(l.EventType.KEY_DOWN,this._onkeyDownHandler,this);const t=this.main.getComponent(I);t&&(t.enabled=!0,t.updateAlignment(),t.enabled=!1)}async onShow(){const t=this.main.getComponent(I);await Promise.all([h.show(this.main,{duration:this.showTime,type:"scale",useData:{easing:this.easing}}),h.show(this.bg,{duration:this.showTime,type:"fade"})]),t&&(t.enabled=!0)}async onHide(){const t=this.main.getComponent(I);t&&(t.enabled=!1),await Promise.all([h.hide(this.main,{duration:this.showTime,type:"scale",useData:{easing:this.outEasing}}),h.hide(this.bg,{duration:this.showTime,type:"fade"})]),this.main.setScale(1,1,1)}_onkeyDownHandler(t){switch(t.propagationStopped=!0,t.propagationImmediateStopped=!0,t.keyCode){case O.MOBILE_BACK:case O.BACKSPACE:let t=p.getScene()?.children;t&&t[t?.length-1]==this.node&&this.destroySelf()}}async destroySelf(){r.off(l.EventType.KEY_DOWN,this._onkeyDownHandler,this),await this.onHide(),this.node.active=!1}}).prototype,"bg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=n(f.prototype,"main",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(f.prototype,"showTime",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),k=n(f.prototype,"easing",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.fade}}),D=n(f.prototype,"outEasing",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.fade}}),f));i._RF.pop()}}}));

System.register("chunks:///_virtual/PrizeField.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"2a244ycEy9IVoEMcxe6PZOr","PrizeField",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/PrizeType.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"753c91UgBhE/K+pZLwuvaSF","PrizeType",void 0);e("PrizeType",function(e){return e.POINT="POINT",e.TON="TON",e.USD="USD",e}({}));e("PrizeTypeName",{POINT:"积分",TON:"Ton币",USD:"USD"});r._RF.pop()}}}));

System.register("chunks:///_virtual/PtlAccountLogin.ts",["cc"],(function(c){var n;return{setters:[function(c){n=c.cclegacy}],execute:function(){n._RF.push({},"562b5JzhFVJbK4JL1GzSjGf","PtlAccountLogin",void 0);c("conf",{needLogin:!1});n._RF.pop()}}}));

System.register("chunks:///_virtual/PtlAccountRegister.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"92eeazBvyJLIbKbmxWmQjhC","PtlAccountRegister",void 0);e("conf",{needLogin:!1});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlAddCart.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"55d47EoEpNHhoyvOzRVxu7c","PtlAddCart",void 0);t("conf",{needLogin:!0});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlAddFirendProcess.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"94b55xmaa1NF6uQMdKHcTKS","PtlAddFirendProcess",void 0);e("conf",{needLogin:!0});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlAddFriendApply.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"38ccaQW0vZGG61C8+8ThL3i","PtlAddFriendApply",void 0);e("conf",{needLogin:!0});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlAddFriendApply2.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"89200kztFpNA45zE6IJC/xS","PtlAddFriendApply",void 0);t("conf",{});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlAddFriendProcess.ts",["cc"],(function(c){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"740ffMq+ItCGqZcFi3SPWvS","PtlAddFriendProcess",void 0);c("conf",{});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlAnswer.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"0baa8OXxSZJEoY0DIYxeoY2","PtlAnswer",void 0);e("conf",{needLogin:!0});n._RF.pop()}}}));

System.register("chunks:///_virtual/PtlCallback.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"3df8emr43hAArLydt+h73Ku","PtlCallback",void 0);t("conf",{needLogin:!1});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlChangeUserInfo.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"11e9ck5f35AAJga8Nw0VKy/","PtlChangeUserInfo",void 0);e("conf",{});n._RF.pop()}}}));

System.register("chunks:///_virtual/PtlCheckFollowShop.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"89b39aNMh9Ch46dEiQdIvQz","PtlCheckFollowShop",void 0);e("conf",{needLogin:!0});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlCheckMustPrize.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"19419fAXFNOAboxt6BF2nz/","PtlCheckMustPrize",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlCheckPayment.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"4840aLsT8tI7rKb7SlUzlEb","PtlCheckPayment",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlCheckShopMember.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"97501UXvz1GJKq34iqMOnvn","PtlCheckShopMember",void 0);e("conf",{needLogin:!0});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlCompose.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"c4a78jfIzxGW4YRpD9B+gW7","PtlCompose",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlCreatePayment.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"711a2n0ziJG1JS719EzTDsB","PtlCreatePayment",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlCreatePayment2.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ed359/fqt1J0KPEr84BH+m5","PtlCreatePayment",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlDelAddress.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"54a0dRvUC5BApwYSR/qyGH4","PtlDelAddress",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlDeleteFirend.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"1a479No0CBLrIT6jP5IqrVK","PtlDeleteFirend",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlDeleteFriend.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"e29f6cVxnJEV5QUnUyBktdW","PtlDeleteFriend",void 0);e("conf",{});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlDraw.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"8fb270WSL1JrZWi6PvPN4JW","PtlDraw",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlEnd.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"cdfe9SkHgZC3Jdf5eaMEutw","PtlEnd",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlExchangePrize.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"1bcc5FrOIdK1KifUVLbsW79","PtlExchangePrize",void 0);e("conf",{needLogin:!0});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlExitRoom.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"9902aNEMSlJuYr4D8YldITs","PtlExitRoom",void 0);t("conf",{});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlFollowGoods.ts",["cc"],(function(o){var t;return{setters:[function(o){t=o.cclegacy}],execute:function(){t._RF.push({},"71f45asNtNN9of/vCoo1Z8t","PtlFollowGoods",void 0);o("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetAccount.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"32dd4kdfChPJaWxDwcbTa7Q","PtlGetAccount",void 0);t("conf",{needLogin:!0});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetActivity.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"8e8fdnowF5K6pIxzphA/LIl","PtlGetActivity",void 0);t("conf",{needLogin:!1});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetAddress.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"586a1QBLJxJ2IMuaB9Ry999","PtlGetAddress",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetAddressList.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d8c45Z6T4FO4IGJLfPZpYOo","PtlGetAddressList",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetBagList.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"fd9d1/W5z9F+5cTtjTmtr7S","PtlGetBagList",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetCaptcha.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"40e57gUKCVHk7ALfsG79SUq","PtlGetCaptcha",void 0);t("conf",{needLogin:!1});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetConfig.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1f192Pyvi5IUq7W/HNmWNU8","PtlGetConfig",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetConfig2.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"2a60eUbObdCDIXFa1vbKCZ3","PtlGetConfig",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetConfigList.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1026fauYNhCpaYqnFofWuCC","PtlGetConfigList",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetDress.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"712f1xNXWpAoY/l9KjyfY5A","PtlGetDress",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetFriendList.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a1f68eJ0HNNRpx+P7d8YsmI","PtlGetFriendList",void 0);t("conf",{});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetHelpList.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"50421rgQp1CcISvpyTCe+c4","PtlGetHelpList",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetInviteConfig.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"cb7591LghFOxLuClPSkERl0","PtlGetInviteConfig",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetInviteList.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"0aba8KB70NO1448Lkme5OnA","PtlGetInviteList",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetInviteList2.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1b12dR1Z7VFuoXbqT7YmcvS","PtlGetInviteList",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetNotifyList.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"688efZkYPlMRaBs4P2QY+8N","PtlGetNotifyList",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetOfflineMessage.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"95e76vU15BHxLMhMPHDZhi5","PtlGetOfflineMessage",void 0);e("conf",{});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetPrizeList.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"33e92r9t0VCm7lboXkKcsCc","PtlGetPrizeList",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetPrizeList2.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b1fadyfJlpHI49Ox9LFglG4","PtlGetPrizeList",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetRankInfo.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"aa55f5ZLwtMTY1s4EskIbq+","PtlGetRankInfo",void 0);t("conf",{needLogin:!0});n._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetRankList.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"07ebcn1ARxMSqBVuzwuRD7O","PtlGetRankList",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetRankPrizeList.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"6a467Wag2dEuL/bTCfmln/k","PtlGetRankPrizeList",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetRoomInfo.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"dd9f9FyBVlA/5cgBOzLXZco","PtlGetRoomInfo",void 0);t("conf",{needLogin:!1});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetTask.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9c75dSxybhK+LVQLSrLWzOj","PtlGetTask",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetTaskList.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"bf653RECpRBuZCATrph/S2u","PtlGetTaskList",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetUserAccountHistory.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"68a47mGpVtHcZWiVFEb85FC","PtlGetUserAccountHistory",void 0);t("conf",{needLogin:!0});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetUserBusinessCard.ts",["cc"],(function(e){var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"1fb38XqZA1DBKFqvsUChT0N","PtlGetUserBusinessCard",void 0);e("conf",{});s._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetUserBusinessCard2.ts",["cc"],(function(e){var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"ce7338rHNVIYbJvnOsW5ArE","PtlGetUserBusinessCard",void 0);e("conf",{needLogin:!0});s._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetUserInfo.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d243bNjW0NMl7DOyztbLs4a","PtlGetUserInfo",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetUserRankList.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"ca815H+r41Dw7iJdP22bEqD","PtlGetUserRankList",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGuestLogin.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"dd42dwkXvxC061Im/qY4mF/","PtlGuestLogin",void 0);t("conf",{needLogin:!1});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlInfo.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"9184cJ9rOBFfZuzCE5zKO+j","PtlInfo",void 0);n("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlInit.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e62a5JD1r5LdamzsMphX3/7","PtlInit",void 0);t("conf",{needLogin:!1});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlJoinRoom.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"cabbbtDtwtL+qp2ayLqQIx7","PtlJoinRoom",void 0);t("conf",{});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlLogin.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"6703fzHHuZLAKHgPecwhjEX","PtlLogin",void 0);e("conf",{needLogin:!1});n._RF.pop()}}}));

System.register("chunks:///_virtual/PtlLogin2.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"bb63e1sgzFGfaNrLOMjU+AM","PtlLogin",void 0);e("conf",{needLogin:!1});n._RF.pop()}}}));

System.register("chunks:///_virtual/PtlLottery.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"85660hKKqJJWZQZstHYwP/Q","PtlLottery",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlLotteryList.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"658547c0yhP7ZQ+sU7I/i0D","PtlLotteryList",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlLotteryPrizeList.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a20a7j9dW1ITIYmSBvDVxn9","PtlLotteryPrizeList",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlPaymentCallback.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"291b5uSAzxOpIl0611cVT8M","PtlPaymentCallback",void 0);t("conf",{needLogin:!1});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlPhoneLogin.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"73b05jAH4tEloweMPeh239y","PtlPhoneLogin",void 0);e("conf",{needLogin:!1});n._RF.pop()}}}));

System.register("chunks:///_virtual/PtlPropsInfo.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"a6a055V16pLTJqOkNUHUFcN","PtlPropsInfo",void 0);n("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlQuestionList.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"be66db2z+NB+I2RCKVFl4Z+","PtlQuestionList",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlResetPassword.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0a33agwUKRMhoys6zKn1j1Q","PtlResetPassword",void 0);e("conf",{needLogin:!1});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlSaveAddress.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"91d96ekATJOKK9EFH73Memy","PtlSaveAddress",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlSaveAddress2.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a4198A9v/5MJbyStGLEA0jz","PtlSaveAddress",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlSaveDress.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0aa9eEvmVRPH6QOSZe6yIts","PtlSaveDress",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlSaveUserBusinessCard.ts",["cc"],(function(e){var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"397acG2ahZPer9HMaHrk9KW","PtlSaveUserBusinessCard",void 0);e("conf",{needLogin:!0});s._RF.pop()}}}));

System.register("chunks:///_virtual/PtlSaveUserBusinessCard2.ts",["cc"],(function(e){var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"79c8a9j37pCvqsXX+6FVLHL","PtlSaveUserBusinessCard",void 0);e("conf",{});s._RF.pop()}}}));

System.register("chunks:///_virtual/PtlScoreProps.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"fcdedj6nwZN3oywxbvEEbS/","PtlScoreProps",void 0);e("conf",{needLogin:!0});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlSendSms.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"df6569FNWdP6qUjMPhUzsrw","PtlSendSms",void 0);e("conf",{needLogin:!1});n._RF.pop()}}}));

System.register("chunks:///_virtual/PtlSetBagExpress.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"e89944qGrdJR4EQiVSvS53n","PtlSetBagExpress",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlSetMic.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"3f87bp0Q6VPBbhdPEBkUjIk","PtlSetMic",void 0);t("conf",{});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlSetSeat.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"f32afWaNK1AuqTyASRKMqEd","PtlSetSeat",void 0);t("conf",{});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlShareGetProps.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"2b9f9TvcTFIhIjaC8X0IOF5","PtlShareGetProps",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlSql.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"4f1fcezs9lD7b5/enFYbS02","PtlSql",void 0);e("conf",{needLogin:!1});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlStart.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"c7875FkoG5ODoLpIToF2lHj","PtlStart",void 0);t("conf",{needLogin:!0});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlSwitchUserBusinessCardApply.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"265e8Fy22xDtbylpf2gjjIm","PtlSwitchUserBusinessCardApply",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlSwitchUserBusinessCardApply2.ts",["cc"],(function(e){var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"e0984xrWd5NCo7nPiAGyNzx","PtlSwitchUserBusinessCardApply",void 0);e("conf",{});s._RF.pop()}}}));

System.register("chunks:///_virtual/PtlSwitchUserBusinessProcess.ts",["cc"],(function(s){var c;return{setters:[function(s){c=s.cclegacy}],execute:function(){c._RF.push({},"03693HcylRBkKBNhrBYOceu","PtlSwitchUserBusinessProcess",void 0);s("conf",{});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlTaskUserReceive.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"7b5d3lrsBpA97lyAiZcgNoJ","PtlTaskUserReceive",void 0);e("conf",{needLogin:!0});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlTaskUserReport.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"eecb3l88C5KKbOis80eGqy3","PtlTaskUserReport",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlTaskUserReward.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0466bpNwyhP6r42hvwzIjDH","PtlTaskUserReward",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlTest.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9ccfdOR6YVLkbbdsJU10jgj","PtlTest",void 0);t("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlTgUserLogin.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"8be7buCteNCMZw/X+HgrLxc","PtlTgUserLogin",void 0);e("conf",{needLogin:!1});t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlTokenLogin.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"8dcdcbMDPhEFavWisoiGRmE","PtlTokenLogin",void 0);n("conf",{needLogin:!0});e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlUseProps.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"c0a1cW03xxKrIKumInMCYRX","PtlUseProps",void 0);e("conf",{needLogin:!0});c._RF.pop()}}}));

System.register("chunks:///_virtual/PtlVerifyPayment.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"486efVbjGxB7qsK7LTxKBRY","PtlVerifyPayment",void 0);e("conf",{needLogin:!0});t._RF.pop()}}}));

System.register("chunks:///_virtual/RandomPropLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventUtil.ts","./NodeUtil.ts","./AudioManage.ts","./PanelBaseOrigin.ts","./StaticLayer.ts","./GameGlobal.ts","./GameLogic.ts"],(function(e){var t,i,a,s,l,n,r,o,c,h,u,p,b,f,y,g,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){a=e.cclegacy,s=e.Button,l=e.Sprite,n=e.Label,r=e.Node,o=e.SpriteFrame,c=e._decorator},function(e){h=e.default},function(e){u=e.NodeUtil},function(e){p=e.AudioManage,b=e.SoundList},function(e){f=e.default},function(e){y=e.default},function(e){g=e.GameGlobal},function(e){d=e.GameLogic}],execute:function(){var m,k,C,S,B,T,F,v,w,P,L,z,_,G,x,D,H,O;a._RF.push({},"dd093aUkYhEFqUHoFuHXffO","RandomPropLayer",void 0);const{ccclass:U,property:W}=c;e("default",(m=W(s),k=W(l),C=W(n),S=W(n),B=W(s),T=W(s),F=W(r),v=W([o]),U((L=t((P=class extends f{constructor(){super(...arguments),i(this,"shareCancel",L,this),i(this,"shareSprite",z,this),i(this,"shareHintTxt",_,this),i(this,"shareTitleTxt",G,this),i(this,"shareBtn",x,this),i(this,"getBtn",D,this),i(this,"shareOrBuy",H,this),i(this,"propSpriteFrames",O,this),this.skillType=void 0,this.successCallback=void 0,this.failCallback=void 0}onLoad(){}start(){u.ListenBtnsClick([this.shareCancel,this.shareBtn,this.getBtn],(async(e,t)=>{switch(e.node.name){case"shareCancel":this.onCloseTouch();break;case"shareBtn":await g.instance.share()&&this.closeWithSuccess();break;case"getBtn":this.closeWithSuccess()}}),this)}onEnable(){super.onEnable(),d.instance.pauseGame(),h.on("buyOrShareCallback",(e=>{"gameProp_1"!=e.key&&"gameProp_2"!=e.key&&"gameProp_3"!=e.key&&"gameProp_4"!=e.key||(e.isSuccess?this.successCallback&&this.successCallback():(this.failCallback&&this.failCallback(),console.error("交易失败")),this.onClose())}))}onDisable(){d.instance.resumeGame(),h.targetOff(this)}async showSkillHint(e){this.node.active=!0,this.shareOrBuy.active=!0,this.skillType=e.type,this.successCallback=e.success,this.failCallback=e.fail,this.shareHintTxt.string=e.hintContent,this.shareSprite.spriteFrame=this.propSpriteFrames[this.skillType-1];const t=Math.random()>.5;this.shareBtn.node.active=t,this.getBtn.node.active=!t}getBuyInfo(){let e="gameProp_"+this.skillType;return console.log("getBuyInfo",e),g.instance.gamePropConfig[e]}async onYesTouch(){p.playSFX(b.click)}onCloseTouch(){this.closeWithFail(),p.playSFX(b.click)}onDestroy(){y.Instance.setSkillStatic(null)}closeWithSuccess(){this.successCallback&&this.successCallback(),this.onClose(),d.instance.addDifficulty&&d.instance.addDifficulty--}closeWithFail(){this.failCallback&&this.failCallback(),this.onClose()}}).prototype,"shareCancel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(P.prototype,"shareSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(P.prototype,"shareHintTxt",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(P.prototype,"shareTitleTxt",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(P.prototype,"shareBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(P.prototype,"getBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(P.prototype,"shareOrBuy",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(P.prototype,"propSpriteFrames",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=P))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/RankType.ts",["cc"],(function(T){var N;return{setters:[function(T){N=T.cclegacy}],execute:function(){N._RF.push({},"379cb/qgKJNhY7kOY0FHB7Y","RankType",void 0);T("RankType",function(T){return T.HISTORY_POINTS="HISTORY_POINTS",T.CURRENT_POINTS="CURRENT_POINTS",T.INVITE_COUNT="INVITE_COUNT",T}({}));T("RankTypeName",{HISTORY_POINTS:"积分（历史总积分）",CURRENT_POINTS:"积分（当前积分)",INVITE_COUNT:"邀请人数"});N._RF.pop()}}}));

System.register("chunks:///_virtual/ReviveLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ActionUtil.ts","./EventUtil.ts","./NodeUtil.ts","./AudioManage.ts","./PanelBaseOrigin.ts","./GameGlobal.ts","./ButtonType.ts","./GameLogic.ts"],(function(e){var t,i,n,a,s,o,l,c,r,u,h,v,b,d,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e.Node,s=e.Button,o=e._decorator},function(e){l=e.default},function(e){c=e.default},function(e){r=e.NodeUtil},function(e){u=e.AudioManage,h=e.SoundList},function(e){v=e.default},function(e){b=e.GameGlobal},function(e){d=e.EBtnType},function(e){p=e.GameLogic}],execute:function(){var y,f,m,B,g,k,N,w,_,G,L,C;n._RF.push({},"1d53bo9+qNORLnyfnNx754c","ReviveLayer",void 0);const{ccclass:R,property:z}=o;e("default",(y=z(a),f=z(a),m=z(a),B=z(s),g=z(s),R((w=t((N=class extends v{constructor(){super(...arguments),i(this,"content",w,this),i(this,"shareNode",_,this),i(this,"buyNode",G,this),i(this,"closeBtn",L,this),i(this,"reviveBtn",C,this),this._isRevived=!1,this._reviveCallback=void 0}async show(){this.node.active=!0,this._isRevived=!1;const e=b.instance.gameButtonConfig.reviveBtn.btnType===d.buy;return this.buyNode.active=e,this.shareNode.active=!e,l.show(this.content,{type:"scale"}),new Promise((e=>{this._reviveCallback=e}))}async hide(){await l.hide(this.content,{type:"scale"}),this.node.active=!1}onLoad(){r.ListenBtnsClick([this.reviveBtn,this.closeBtn],(e=>{switch(e.node.name){case"reviveBtn":u.playSFX(h.click);break;case"closeBtn":this._reviveCallback?.(!1),this.hide(),u.playSFX(h.click)}}))}onEnable(){c.on("buyOrShareCallback",(e=>{let{key:t,isSuccess:i}=e;"reviveBtn"===t&&i&&(this.hide(),p.instance.reviveGame(),this._reviveCallback?.(!0))})),p.instance.pauseGame()}onDisable(){c.targetOff(this),p.instance.resumeGame()}start(){}}).prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(N.prototype,"shareNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(N.prototype,"buyNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(N.prototype,"closeBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(N.prototype,"reviveBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=N))||k));n._RF.pop()}}}));

System.register("chunks:///_virtual/rewardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadUtil.ts","./NodeUtil.ts"],(function(t){var e,i,r,o,a,n,l,s,u,p,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,o=t.Node,a=t.RichText,n=t.Sprite,l=t.Label,s=t._decorator,u=t.Component},function(t){p=t.default},function(t){c=t.NodeUtil}],execute:function(){var d,h,b,m,f,g,I,y,w,z,P,_,x,N,S,v,T;r._RF.push({},"13f31qjOaJPqoVSIM7ENcpo","rewardItem",void 0);const{ccclass:U,property:D}=s;t("rewardItem",(d=U("rewardItem"),h=D(o),b=D(o),m=D(o),f=D(a),g=D(n),I=D(o),y=D(l),d((P=e((z=class extends u{constructor(){super(...arguments),i(this,"p0Node",P,this),i(this,"otherNode",_,this),i(this,"p0Icons",x,this),i(this,"p0Text",N,this),i(this,"otherIcon",S,this),i(this,"redPoint",v,this),i(this,"redPointText",T,this),this._data=void 0}setData(t){this._data=t,this.updateUI()}updateUI(){this._data&&(this._data.prizePicture&&p.getSpriteFrameIntelligent(this._data.prizePicture,(t=>{this.isValid&&t&&c.limitSpriteSize(this.otherIcon,t)})),this.redPoint.active=this._data.sum>0,this.redPointText.string=this._data.sum.toString())}}).prototype,"p0Node",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(z.prototype,"otherNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(z.prototype,"p0Icons",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(z.prototype,"p0Text",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(z.prototype,"otherIcon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(z.prototype,"redPoint",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(z.prototype,"redPointText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/rollLabel.ts",["cc"],(function(t){var s,e,i;return{setters:[function(t){s=t.cclegacy,e=t.Label,i=t._decorator}],execute:function(){var r;s._RF.push({},"7412dGgJ59JAbiEiHIE0qFI","rollLabel",void 0);const{ccclass:n,property:l}=i;t("rollLabel",n("rollLabel")(r=class extends e{constructor(){super(...arguments),this.eff_index=1,this._newValue=0,this._oldValue=0}start(){super.start&&super.start()}setString(t){this._string=t,this.markForUpdateRenderData()}get string(){return this._string}set string(t){t=null==t?"":t.toString(),this._newValue=+t,this._oldValue=+this._string;this.eff_index=1,this._string!==t&&(this.unschedule(this._rollEff),t.match(/\d+/g)&&this._string.match(/\d+/g)?this.schedule(this._rollEff,.02,30):(this._string=t,this.markForUpdateRenderData()))}_rollEff(){let t=this._newValue,s=this._oldValue,e=Math.sign(t-s),i=t-s>0?t-s:s-t;if(this.eff_index>=30)this._string=this._newValue.toString();else{const t=s+Math.floor(e*i/30*this.eff_index);this._string=t.toString()}this.markForUpdateRenderData(),this.eff_index++}})||r);s._RF.pop()}}}));

System.register("chunks:///_virtual/RoomChat.ts",["cc"],(function(r){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"c4651HliV5LmZBm+gSVMryj","RoomChat",void 0);r("EChatType",function(r){return r.world="world",r.room="room",r.private="private",r.friend="friend",r}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/RoomChatMessage.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"7e7d1oxmfFOFrmOGmXXb6IO","RoomChatMessage",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/RoomConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"f834924LjhPIpSkZhdj73sY","RoomConfig",void 0);e("default",{stateSendInterval:200,moveServerDelay:1e3});t._RF.pop()}}}));

System.register("chunks:///_virtual/RoomController.ts",["cc","./RoomRepeater.ts","./RoomMessage.ts"],(function(e){var o,s,r;return{setters:[function(e){o=e.cclegacy},function(e){s=e.default},function(e){r=e.default}],execute:function(){o._RF.push({},"70520FpmxlM/7Ws+NP5aa49","RoomController",void 0);const t="changeRoom";e("RoomController",class{constructor(){this.myRoomId=void 0,this._lastServerUrl=void 0,this._roomMessage=void 0,this.userInfo=void 0}init(){this._roomMessage=new r}setUserInfo(e){this.userInfo=e}async joinRoom(e){if(e==this.myRoomId)return!0;e!=this.myRoomId&&await this.exitRoom(!1);let o=!1,r=!0;return o=await s.TimeUtil.smartExecuteFunction(t,(async()=>{const o=await s.getRoomInfo(e,this.userInfo.uid);if(!o.isSucc)return s.showConfirm(o.err.message,"获取房间失败"),void(r=!1);if(this._lastServerUrl!=o.res.serverUrl&&(s.serverRoom.clearServer(),s.serverRoom.init(o.res.serverUrl),this._lastServerUrl=o.res.serverUrl),!await s.serverRoom.connect())return s.showConfirm("房间连接失败,请稍后重试","加入房间失败"),void(r=!1);const t=await s.serverRoom.callApi("room/JoinRoom",{uid:this.userInfo.uid,roomId:o.res.roomId});if(!t.isSucc)return s.showConfirm(t.err.message,"加入房间失败"),void(r=!1);this.myRoomId=e,this._roomMessage.listenMessageSend(!0,this.userInfo.uid),this._roomMessage.listenServerMessage(!0),t.res.users.forEach((e=>{s.onUserJoin(e)})),s.EventUtil.emit("joinRoom",e),r=!0})),o&&r}async exitRoom(e){if(void 0===e&&(e=!0),!this.myRoomId)return!0;let o=!1,r=!1;return o=await s.TimeUtil.smartExecuteFunction(t,(async()=>{this._roomMessage.listenMessageSend(!1,this.userInfo.uid),this._roomMessage.listenServerMessage(!1),s.onAllUserExit(),r=!0;const o=await s.serverRoom.callApi("room/ExitRoom",{});o.isSucc||(console.error("退出房间失败",o),r=!1),e&&(await s.serverRoom.disConnect()||(console.error("断开房间连接失败",o),r=r&&!1)),this.myRoomId=void 0,s.EventUtil.emit("exitRoom"),r=r&&!0})),o&&r}async sendRelayMessage(e,o,s){return this._roomMessage.sendRelayMessage(e,o,s)}}),o._RF.pop()}}}));

System.register("chunks:///_virtual/RoomDeclare.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"0a4b0I/tjtPya9rulP3/S2S","RoomDeclare",void 0);e("RoomConfig",{stateSendInterval:100,moveServerDelay:1e3});e("RoomRelayType",function(e){return e.world="world",e.room="room",e}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoomManager.ts",["cc","./ModuleUtilManagerBase.ts","./RoomController.ts","./RoomDeclare.ts","./RoomRepeater.ts"],(function(o){var r,t,e,n,s;return{setters:[function(o){r=o.cclegacy},function(o){t=o.ModuleUtilManagerBase},function(o){e=o.RoomController},function(o){n=o.RoomConfig},function(o){s=o.default}],execute:function(){r._RF.push({},"cf7c3x5XS1F8ZTWxT8XgivP","RoomManager",void 0);o("RoomManager",class extends t{constructor(o){super(),this._roomController=void 0,o&&Object.assign(n,o)}get roomId(){return this._roomController?.myRoomId||""}get roomController(){return this._roomController||(this._roomController=new e),this._roomController}async init(){this._roomController=new e,s.Logger.logModel("初始化房间管理类"),this._roomController.init()}async joinRoom(o,r){return this._roomController.setUserInfo(r),await this._roomController.joinRoom(o)}async exitRoom(){return await this._roomController.exitRoom()}async sendRelayMessage(o,r,t){return await this._roomController.sendRelayMessage(o,r,t)}}),r._RF.pop()}}}));

System.register("chunks:///_virtual/RoomMessage.ts",["cc","./DataUtil.ts","./RoomDeclare.ts","./RoomRepeater.ts"],(function(e){var s,t,o,i,n;return{setters:[function(e){s=e.cclegacy},function(e){t=e.default},function(e){o=e.RoomRelayType,i=e.RoomConfig},function(e){n=e.default}],execute:function(){s._RF.push({},"d9454efRypPiKEx6+ed4WIf","RoomMessage",void 0);e("default",class{constructor(){this._myUid=void 0,this._moveIntervalId=void 0,this._moveMessageInfo=void 0,this._idd=0,this._serverMoveMessagePool={},this._isInExecuteMove=!1}async sendRelayMessage(e,s,t){return await n.serverRoom.sendMsg("room/clientMsg/Relay",{relayType:e,data:s,receiverIds:t})}async listenMessageSend(e,s){n.Logger.logBusiness("切换发送消息监听状态:"+(e?"监听":"取消")),e?(this._myUid=s,n.listenUserEvents({changeSelfInfo:async e=>{n.Logger.logBusiness("改变自身信息:"+e);const s=await n.serverRoom.callApi("room/ChangeUserInfo",{data:e});return!!s.isSucc||(n.Logger.logError("用户信息变更错误:"+s.err.message),!1)},changeSelfState:async e=>void 0!==e.micId?await this._changeSpeech(e.micId):void 0!==e.seatId?await this._changeSeat(e.seatId):(void 0===e.pos&&void 0===e.angle||this._pushMoveInfo({pos:e.pos,angle:e.angle}),!0),playActionOrEmoji:async e=>{n.Logger.logBusiness("转发动作或表情:"+e);return(await this.sendRelayMessage(o.room,e))?.isSucc}}),n.listenChatMessageEvents({getMyUid:()=>s,sendMessage:async e=>(n.Logger.logBusiness(e,"-发送消息"),n.serverRoom.sendMsg("room/clientMsg/Chat",{receiverIds:e.receiverIds,content:{chatId:e.chatId,text:e.text,chatType:e.chatType}}),n.onUserShowChat(e.text),!0)}),n.listenFriendChatMessageEvents({getMyUid:()=>s,sendMessage:async e=>(n.Logger.logBusiness(e,"-发送消息"),n.serverRoom.sendMsg("room/clientMsg/Chat",{receiverIds:e.receiverIds,content:{chatId:e.chatId,text:e.text,chatType:e.chatType}}),n.onUserShowChat(e.text),!0)}),this._moveIntervalId||(this._moveIntervalId=setInterval(this._sendMoveMessage.bind(this),i.stateSendInterval))):(this._myUid=void 0,this._moveIntervalId&&(clearInterval(this._moveIntervalId),this._moveIntervalId=void 0),this._moveMessageInfo=void 0,n.clearChatMessage(),n.clearFriendChatMessage(),n.unlistenUserEvents())}async listenServerMessage(e){n.Logger.logBusiness("切换服务端消息监听状态:"+(e?"监听":"取消"));let s=function(e){return e.chat="room/serverMsg/ChatNotice",e.joinRoom="room/serverMsg/JoinRoomNotice",e.exitRoom="room/serverMsg/ExitRoomNotice",e.ChangeUserInfo="room/serverMsg/ChangeUserInfoNotice",e.SetMic="room/serverMsg/SetMicNotice",e.SetSeat="room/serverMsg/SetSeatNotice",e.Move="room/serverMsg/MoveNotice",e.Relay="room/serverMsg/RelayNotice",e.FriendNotice="room/serverMsg/FriendNotice",e.BusinessCardNotice="room/serverMsg/BusinessCardNotice",e}({});e?(n.serverRoom.listenMsg(s.chat,(e=>{e.data=e.data.filter((e=>e.senderId!=this._myUid)),n.addChatMessage(e.data),n.addChatFriendMessage(e.data),e.data.forEach((e=>{n.onUserShowChat(e.content.text,e.senderId)}))})),n.serverRoom.listenMsg(s.joinRoom,(e=>{e.uid!=this._myUid&&n.onUserJoin(e)})),n.serverRoom.listenMsg(s.exitRoom,(e=>{e.uid!=this._myUid&&n.onUserExit(e.uid)})),n.serverRoom.listenMsg(s.ChangeUserInfo,(e=>{e.uid!=this._myUid&&n.onUserInfoChange(e)})),n.serverRoom.listenMsg(s.SetMic,(e=>{e.uid!=this._myUid&&n.onUserSetMic(e.micId,e.uid)})),n.serverRoom.listenMsg(s.SetSeat,(e=>{e.uid!=this._myUid&&n.onUserSetMic(e.seatId,e.uid)})),n.serverRoom.listenMsg(s.Move,(e=>{e.data.forEach((e=>{e.uid!=this._myUid&&e.messages.forEach((s=>{this._addServerMessage(e.uid,s.firstMessageTime,s)}))}))})),n.serverRoom.listenMsg(s.Relay,(e=>{e.senderId!=this._myUid&&n.EventUtil.emit("roomRelayMessage",e)})),n.serverRoom.listenMsg(s.FriendNotice,(e=>{e.uid!=this._myUid&&n.EventUtil.emit("userFriendNotice",e)})),n.serverRoom.listenMsg(s.BusinessCardNotice,(e=>{e.uid!=this._myUid&&n.EventUtil.emit("userBusinessCardNotice",e)}))):(n.DataUtil.getEnumValues(s).forEach((e=>{n.serverRoom.unlistenMsgAll(e)})),this._stopExecuteMove())}async _changeSpeech(e){const s=await n.serverRoom.callApi("room/SetMic",{micId:e});if(!s.isSucc){const t=""!=e;return n.showTips((t?"上麦":"下麦")+"失败！"+s.err.message),n.Logger.logError(s.err.message),!1}return!1}async _changeSeat(e){const s=await n.serverRoom.callApi("room/SetSeat",{seatId:e});if(!s.isSucc){const t=""!=e;return n.showTips((t?"坐下":"站起")+"失败！"+s.err.message),n.Logger.logError(s.err.message),!1}return!1}_pushMoveInfo(e){const s=Date.now();let t=0;this._moveMessageInfo?t=s-this._moveMessageInfo.firstMessageTime:this._moveMessageInfo={content:[],firstMessageTime:s};const o={pos:e.pos||[],angle:e.angle||[],inteval:t};this._moveMessageInfo.content.push(o)}_sendMoveMessage(){this._moveMessageInfo&&n.TimeUtil.smartExecuteFunction("sendMoveMessage",(async()=>{if(!this._moveMessageInfo)return;const e=this._moveMessageInfo;this._moveMessageInfo=void 0;const s=await n.serverRoom.sendMsg("room/clientMsg/Move",e,void 0,1);if(!s.isSucc)if(n.Logger.logError("移动消息发送失败：",s.err.message),this._moveMessageInfo){const s=this._moveMessageInfo.firstMessageTime-e.firstMessageTime;s>0?(this._moveMessageInfo.firstMessageTime=e.firstMessageTime,this._moveMessageInfo.content=this._moveMessageInfo.content.map((e=>(e.inteval+=s,e))),this._moveMessageInfo.content=e.content.concat(this._moveMessageInfo.content)):(e.content=e.content.map((e=>(e.inteval-=s,e))),this._moveMessageInfo.content=this._moveMessageInfo.content.concat(e.content))}else this._moveMessageInfo=e}))}_addServerMessage(e,s,o){o=t.deepClone(o),this._serverMoveMessagePool[e]||(this._serverMoveMessagePool[e]={firstMessageTime:0,content:[]});const n=this._serverMoveMessagePool[e];if(s<n.firstMessageTime)return;const r=0==n.content.length;0==n.firstMessageTime&&(n.firstMessageTime=s),o.content.forEach((e=>{e.inteval+=s}));let a=n.content.length;for(let e=n.content.length-1;e>=0&&!(n.content[e].inteval<=s);e--)a=e;n.content.splice(a,0,...o.content),this._executeMove(e,r?i.moveServerDelay:0)}async _executeMove(e,s){if(void 0===s&&(s=0),this._isInExecuteMove)return;const t=()=>this._serverMoveMessagePool[e]&&this._serverMoveMessagePool[e].content.length>0;await n.TimeUtil.soloFunction((async()=>{if(this._isInExecuteMove=!0,s&&await n.TimeUtil.wait(s),!t())return void(this._isInExecuteMove=!1);const o=this._serverMoveMessagePool[e],r=o.content.shift();let a=r.inteval-o.firstMessageTime;if(a<0)return console.error("丢弃迟到的消息",r.id,a,r.inteval,o.firstMessageTime),void(this._isInExecuteMove=!1);if(a>i.moveServerDelay)a=0;else{const e=o.content[0];e&&r.pos==e.pos&&r.angle==e.angle&&(a=0)}o.firstMessageTime=r.inteval,n.onUserMove(r,e,a),a>0&&await n.TimeUtil.wait(a),t(),this._isInExecuteMove=!1}),"move_"+e),!this._isInExecuteMove&&t()&&this._executeMove(e)}_stopExecuteMove(){this._serverMoveMessagePool={}}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/RoomMoveMessage.ts",["cc"],(function(){var e;return{setters:[function(s){e=s.cclegacy}],execute:function(){e._RF.push({},"02535xR+dFON5xZsIA1dOCG","RoomMoveMessage",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/RoomRelayMessage.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"01727Fp7uZEiqWMLQWOV6P8","RoomRelayMessage",void 0);e("ERelayType",function(e){return e.world="world",e.room="room",e}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoomRepeater.ts",["cc","./EventUtil.ts","./DataUtil.ts","./Logger.ts","./TimeUtil.ts","./ModuleManager.ts"],(function(e){var t,a,s,n,r,i;return{setters:[function(e){t=e.cclegacy},function(e){a=e.default},function(e){s=e.default},function(e){n=e.Logger},function(e){r=e.TimeUtil},function(e){i=e.default}],execute:function(){t._RF.push({},"24c3eJSMC9Kd7NFxdABDpVM","RoomRepeater",void 0);class c{static get _serverSystem(){return i.instance.getManager("serverManager").callServer("server_System")}static get serverRoom(){return i.instance.getManager("serverManager").callServer("server_Room")}static get _uiPopup(){return i.instance.getManager("uiPopupManager")}static get _chatMessageManager(){return i.instance.getManager("chatMessageManager")}static get _uiFriendManager(){return i.instance.getManager("UIFriendManager")}static get _userManager(){return i.instance.getManager("userManager")}static async showConfirm(e,t){return void 0===t&&(t="提示"),await this._uiPopup.showConfirm(e,{title:t,btnPrimaryText:"确定"})}static async showTips(e){return await this._uiPopup.showTips(e)}static async getRoomInfo(e,t){return await(this._serverSystem?.callApi("m/room/GetRoomInfo",{uid:t,roomId:e}))}static listenChatMessageEvents(e){this._chatMessageManager?.setExternalFunctions(e)}static clearChatMessage(){this._chatMessageManager?.clearAllMessage(),this._chatMessageManager?.clearExternalFunctions()}static addChatMessage(e){let t=e.map((e=>({chatId:e.content.chatId,chatType:e.content.chatType,text:e.content.text,time:e.serverTime,senderId:e.senderId})));this._chatMessageManager?.addMessage(t)}static listenFriendChatMessageEvents(e){this._uiFriendManager?.setExternalFunctions(e)}static clearFriendChatMessage(){this._uiFriendManager?.clearAllMessage(),this._uiFriendManager?.clearExternalFunctions()}static addChatFriendMessage(e){let t=e.map((e=>({chatId:e.content.chatId,chatType:e.content.chatType,text:e.content.text,time:e.serverTime,senderId:e.senderId})));this._uiFriendManager?.addMessage(t)}static listenUserEvents(e){this._userManager?.setExternalFunctions(e)}static unlistenUserEvents(){this._userManager?.clearExternalFunctions()}static onUserJoin(e){this._userManager?.userJoin(e)}static onUserExit(e){this._userManager?.userExit(e)}static onAllUserExit(){this._userManager?.allUserExit()}static onUserMove(e,t,a){this._userManager?.changeState(e,t,a)}static onUserSetMic(e,t){this._userManager?.changeState({micId:e},t)}static onUserSetSeat(e,t){this._userManager?.changeState({seatId:e},t)}static onUserInfoChange(e){this._userManager?.changeUserInfo(e,e.uid)}static onUserShowChat(e,t){this._userManager?.showChat(e,t)}}e("default",c),c.Logger=n,c.EventUtil=a,c.TimeUtil=r,c.DataUtil=s,t._RF.pop()}}}));

System.register("chunks:///_virtual/RoomUser.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"0e6d2py15BHA4kCPzyf6lzA","RoomUser",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/RoomUserMessage.ts",["cc"],(function(){var e;return{setters:[function(s){e=s.cclegacy}],execute:function(){e._RF.push({},"5ec6cOCROpPS477ziZJTzz1","RoomUserMessage",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/RotateIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,c,r,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,c=t.Node,r=t._decorator,s=t.Component}],execute:function(){var n,a,l,u,h;i._RF.push({},"3845cmxUwFOTpcOmik1SRvw","RotateIcon",void 0);const{ccclass:p,property:d}=r;t("RotateIcon",(n=p("RotateIcon"),a=d(c),n((h=e((u=class extends s{constructor(){super(...arguments),o(this,"rotateNode",h,this),this.isChecked=!1}onLoad(){this.node.on("click",this.autoChangeRotate,this)}autoChangeRotate(){this.rotateNode.setRotationFromEuler(0,0,this.isChecked?0:90),this.isChecked=!this.isChecked}}).prototype,"rotateNode",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=u))||l));i._RF.pop()}}}));

System.register("chunks:///_virtual/roundBox.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,a,s,o,n,h,l,p,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e.CCBoolean,s=e.SpriteAtlas,o=e.SpriteFrame,n=e.Enum,h=e.CCInteger,l=e._decorator,p=e.UIRenderer,u=e.NodeEventType,d=e.UITransform}],execute:function(){var f,c,m,y,_,g,b,D,M,F,z,x,C,S,B,R,w,I,T,E,v,O,L,P,k,N;i._RF.push({},"5ef69+8+PBIK6NNavpvBB+l","roundBox",void 0);let U=e("SizeMode",function(e){return e[e["CUSTOM: 自定义尺寸"]=0]="CUSTOM: 自定义尺寸",e[e["TRIMMED: 原始尺寸裁剪透明像素"]=1]="TRIMMED: 原始尺寸裁剪透明像素",e[e["RAW: 图片原始尺寸"]=2]="RAW: 图片原始尺寸",e}({}));e("SpriteType",function(e){return e[e.SIMPLE=0]="SIMPLE",e[e.SLICED=1]="SLICED",e[e.TILED=2]="TILED",e[e.FILLED=3]="FILLED",e}({}));const A=[0,9,11,0,11,1,2,8,10,2,4,8,3,5,7,3,7,6],{ccclass:j,property:V,menu:W}=l;let H=e("Corner",(f=j("Corner"),c=V({type:a,displayName:""}),m=V({type:a,displayName:""}),y=V({type:a,displayName:""}),_=V({type:a,displayName:""}),f((D=t((b=class{constructor(){r(this,"leftBottom",D,this),r(this,"rightBottom",M,this),r(this,"leftTop",F,this),r(this,"rightTop",z,this),this.visible=null}}).prototype,"leftBottom",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),M=t(b.prototype,"rightBottom",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),F=t(b.prototype,"leftTop",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=t(b.prototype,"rightTop",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=b))||g));e("RoundBox",(x=W("Public/RoundBox"),C=V({type:s,readonly:!0}),S=V({type:o}),B=V({type:n(U)}),R=V({type:h,displayName:""}),w=V({displayName:""}),I=V({displayName:""}),j(T=x((v=t((E=class extends p{constructor(){super(...arguments),r(this,"atlas",v,this),r(this,"_spriteFrame",O,this),r(this,"_sizeMode",L,this),r(this,"_segment",P,this),r(this,"_radius",k,this),r(this,"_corner",N,this)}get spriteFrame(){return this._spriteFrame}set spriteFrame(e){this._spriteFrame=e,this.updateSpriteFrame(),this.markForUpdateRenderData()}get sizeMode(){return this._sizeMode}set sizeMode(e){this._sizeMode=e,this.updateSizeMode()}get segment(){return this._segment}set segment(e){this._segment=Math.max(e,1),this.createBuffer(),this.markForUpdateRenderData()}get radius(){return this._radius}set radius(e){this._radius=Math.max(e,0),this.markForUpdateRenderData()}get corner(){return this._corner}set corner(e){this._corner=e,this.updateCorner(),this.createBuffer(),this.markForUpdateRenderData()}__preload(){this.updateMaterial(),super.__preload(),this._assembler={updateColor:this.updateColor.bind(this),updateRenderData:this.onFlushed.bind(this),fillBuffers:this.fillBuffer.bind(this)}}onLoad(){super.onLoad(),this.updateSpriteFrame(),this.updateCorner(),this.createBuffer(),this.node.on(u.SIZE_CHANGED,this.onSizeChanged,this)}onDestroy(){super.onDestroy(),this.node.off(u.SIZE_CHANGED,this.onSizeChanged,this)}onEnable(){super.onEnable?.(),this.updateSpriteFrame(),this.updateCorner(),this.createBuffer(),this.markForUpdateRenderData()}onDisable(){super.onDisable?.()}updateCorner(){let e=this._corner;e.visible=[e.leftBottom,e.rightBottom,e.rightTop,e.leftTop]}createBuffer(){this.destroyRenderData();let e=this._renderData=this.requestRenderData(),t=0;for(let e=0,r=this._corner.visible;e<4;r[e++]&&++t);e.dataLength=12+(this.segment-1)*t,e.resize(e.dataLength,3*(6+this.segment*t)),this._updateColor(),this.updateIData()}fillBuffer(){let e=this._renderData;if(!e)return;let t=e.chunk;if(this.node.hasChangedFlags||e?.vertDirty){let r=t?.vb,i=e.data,a=this.node.worldMatrix,s=a.m00,o=a.m01,n=a.m04,h=a.m05,l=a.m12,p=a.m13;for(let t=0,a=0,u=r.length,d=e.floatStride;t<u;t+=d,++a){let e=i[a].x,u=i[a].y;r[t]=s*e+n*u+l,r[t+1]=o*e+h*u+p}e.vertDirty=!1}let r=t.vertexOffset,i=t.meshBuffer,a=i.iData,s=t.ib;for(let t=0,o=e.indexCount,n=i.indexOffset;t<o;a[n++]=r+s[t++]);i.indexOffset+=e.indexCount}updateMaterial(){super.updateMaterial?.(),this._customMaterial??=this.getSharedMaterial(0)}onSizeChanged(){if(!this._spriteFrame)return;let e=this.node.getComponent(d);switch(this._sizeMode){case U["TRIMMED: 原始尺寸裁剪透明像素"]:let t=this._spriteFrame._rect;if(e.width===t.width&&e.height===t.height)return;break;case U["RAW: 图片原始尺寸"]:let r=this._spriteFrame._originalSize;if(e.width===r.width&&e.height===r.height)return}this._sizeMode=U["CUSTOM: 自定义尺寸"]}updateSpriteFrame(){this.spriteFrame?(this._renderData&&(this._renderData.textureDirty=!0),this.updateSizeMode()):this.atlas=null}updateSizeMode(){if(!this._spriteFrame)return;let e=this.node.getComponent(d)??this.node.addComponent(d);switch(this._sizeMode){case U["TRIMMED: 原始尺寸裁剪透明像素"]:e.setContentSize(this._spriteFrame._rect.size);break;case U["RAW: 图片原始尺寸"]:e.setContentSize(this._spriteFrame._originalSize)}}onFlushed(){let e=this._spriteFrame;e&&(this.updateVData(),this._renderData?.updateRenderData(this,e))}updateVData(){let e=this._renderData;if(!e)return;let t=e.data,r=this.node._uiProps.uiTransformComp,i=r.width,a=r.height,s=r.anchorX,o=r.anchorY,n=-i*s,h=-a*o,l=i*(1-s),p=a*(1-o),u=Math.min(this._radius,Math.min(i,a)/2),d=n+u,f=h+u,c=l-u,m=p-u,y=this._corner;t[0].x=d,t[0].y=y.leftBottom?f:h,t[1].x=n,t[1].y=t[0].y,t[2].x=d,t[2].y=h,t[3].x=c,t[3].y=y.rightBottom?f:h,t[4].x=c,t[4].y=h,t[5].x=l,t[5].y=t[3].y,t[6].x=c,t[6].y=y.rightTop?m:p,t[7].x=l,t[7].y=t[6].y,t[8].x=c,t[8].y=p,t[9].x=d,t[9].y=y.leftTop?m:p,t[10].x=d,t[10].y=p,t[11].x=n,t[11].y=t[9].y;let _=Math.PI/(this._segment<<1),g=Math.sin(_),b=Math.cos(_),D=y.visible;for(let e=0,r=12;e<4;++e){if(!D[e])continue;let i=3*e,a=t[i].x,s=t[i].y,o=t[i+1].x-a,n=t[i+1].y-s;for(let e=0,i=this._segment-1;e<i;++e)t[r].x=a+o*b-n*g,t[r].y=s+n*b+o*g,o=t[r].x-a,n=t[r].y-s,++r}let M=e.chunk.vb;for(let r=3,s=M.length,o=e.floatStride,l=0;r<s;r+=o,++l)M[r]=(t[l].x-n)/i,M[r+1]=(t[l].y-h)/a;this.fitUV(M)}fitUV(e){if(!this.spriteFrame)return;if(!this._renderData)return;let t=this.spriteFrame.uv;if(this.spriteFrame._rotated){var r=t[0],i=t[1],a=t[4]-r,s=t[3]-i;for(let t=3,o=e.length,n=this._renderData.floatStride;t<o;t+=n){let o=e[t];e[t]=r+e[t+1]*a,e[t+1]=i+o*s}}else{r=t[0],i=t[1],a=t[2]-r,s=t[5]-i;for(let t=3,o=e.length,n=this._renderData.floatStride;t<o;t+=n)e[t]=r+e[t]*a,e[t+1]=i+e[t+1]*s}}updateColor(){let e=this._renderData;if(!e)return;let t=e.chunk.vb,r=this.color,i=r.r/255,a=r.g/255,s=r.b/255,o=r.a/255;for(let r=5,n=t.length,h=e.floatStride;r<n;r+=h)t[r]=i,t[r+1]=a,t[r+2]=s,t[r+3]=o}updateIData(){let e=this._renderData?.chunk._ib;if(!e)return;for(let t=A.length-1;t>-1;e[t]=A[t--]);let t=A.length,r=this._corner.visible,i=36;for(let a=0;a<4;++a){if(!r[a])continue;let s=3*a,o=s+1,n=i/3;for(let r=0,a=this._segment-1;r<a;++r)e[t++]=s,e[t++]=o,e[t++]=n,o=n++,i+=3;e[t++]=s,e[t++]=o,e[t++]=s+2}}_render(e){e.commitComp(this,this._renderData,this._spriteFrame,this._assembler,null)}_canRender(){return super._canRender()&&!!this._spriteFrame?.texture}}).prototype,"atlas",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(E.prototype,"_spriteFrame",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(E.prototype,"spriteFrame",[S],Object.getOwnPropertyDescriptor(E.prototype,"spriteFrame"),E.prototype),L=t(E.prototype,"_sizeMode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U["TRIMMED: 原始尺寸裁剪透明像素"]}}),t(E.prototype,"sizeMode",[B],Object.getOwnPropertyDescriptor(E.prototype,"sizeMode"),E.prototype),P=t(E.prototype,"_segment",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),t(E.prototype,"segment",[R],Object.getOwnPropertyDescriptor(E.prototype,"segment"),E.prototype),k=t(E.prototype,"_radius",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),t(E.prototype,"radius",[w],Object.getOwnPropertyDescriptor(E.prototype,"radius"),E.prototype),N=t(E.prototype,"_corner",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new H}}),t(E.prototype,"corner",[I],Object.getOwnPropertyDescriptor(E.prototype,"corner"),E.prototype),T=E))||T)||T));i._RF.pop()}}}));

System.register("chunks:///_virtual/scaleAction.ts",["cc","./baseAction.ts"],(function(t){var e,n,s,c,a;return{setters:[function(t){e=t.v3,n=t.tween,s=t.cclegacy,c=t.Widget},function(t){a=t.default}],execute:function(){s._RF.push({},"24adfW+gglF64/pAgWG7w8K","scaleAction",void 0);t("default",class extends a{show(t,s){let a=this.curConfig.useData,i=a?.show||e(t.scale.x,t.scale.y,1),o=a?.hide||e(0,0,1);t.setScale(o);const u=t=>{const e=t?.getComponent(c);e&&(e.updateAlignment(),t.children.forEach((t=>{u(t)})))};return n(t).to(this.curConfig.duration,{scale:i},{easing:a?.easing||"backOut",onComplete:e=>{u(t),s?.(e)}}).start()}hide(t,s){let c=this.curConfig.useData,a=c?.hide||e(0,0,1);return n(t).to(this.curConfig.duration,{scale:a},{easing:c?.easing||"backIn",onComplete:s}).start()}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/SceneUtil.ts",["cc","./EventUtil.ts"],(function(e){var n,t,i;return{setters:[function(e){n=e.director,t=e.cclegacy},function(e){i=e.default}],execute:function(){t._RF.push({},"35898RDUShG8Lyobe6XbAC+","SceneUtil",void 0);class o{static setExternalMethod(e){this._externalMethods=e}static changeScene(e,t,o){void 0===o&&(o={}),this._loadingScene&&this._loadingScene.scene===e&&this._loadingScene.options===t?(console.log("SceneUtil.loadScene retry",this._loadingScene.triedTimes),++this._loadingScene.triedTimes):this._loadingScene={scene:e,options:t,triedTimes:1},i.emit("toChangeScene",{oldScene:n.getScene()?.scene.name,newScene:e}),this._externalMethods.showLoading?.("奋力加载中...");let s=!1,c=async n=>{if(!s)if(s=!0,l&&(clearTimeout(l),l=void 0),n)if(this._loadingScene&&this._loadingScene.triedTimes<=3)this._externalMethods.showLoading?.(`网络错误，第${this._loadingScene.triedTimes}次重试...`),setTimeout((()=>{this.changeScene(e,t,o)}),1e3);else{if(!await(this._externalMethods.showAlert?.("加载失败是否重试？")))return void this._externalMethods.hideLoading?.(!0);this._loadingScene.triedTimes=0,this.changeScene(e,t,o)}else this._loadingScene=void 0,this._doSwitchScene(e,t,o),this.loadSceneHistory.push({scene:e,options:t}),this.loadSceneHistory.splice(0,this.loadSceneHistory.length-5)};console.time("SceneUtil 预加载场景用时,"+e),n.preloadScene(e,((e,n,t)=>{this._externalMethods.showLoading?.(`奋力加载中 ${e}/${n}`)}),(async n=>{console.timeEnd("SceneUtil 预加载场景用时,"+e),c(n)}));let l=window.setTimeout((()=>{console.log("preload超时"),c(new Error("__TIMEOUT__"))}),2e4)}static _doSwitchScene(e,t,i){try{for(let e of this.onSceneWillChange)e()}catch(e){console.error("onSceneWillChanged hook error",e)}this._loadSceneOptions=t||{},n.loadScene(e,(()=>{this._externalMethods.hideLoading?.(!0);try{for(let e of this.onSceneDidChange)e()}catch(e){console.error("onSceneWillChanged hook error",e)}i.onLaunched&&i.onLaunched()}))}static get sceneOptions(){return this._loadSceneOptions}}e("default",o),o.onSceneWillChange=[],o.onSceneDidChange=[],o.loadSceneHistory=[],o._loadSceneOptions=void 0,o._loadingScene=void 0,o._externalMethods={},t._RF.pop()}}}));

System.register("chunks:///_virtual/SDKEvent.ts",["cc"],(function(e){var t,E;return{setters:[function(e){t=e.cclegacy,E=e.Enum}],execute:function(){t._RF.push({},"d1890ZWWudIe7EcRdXuAXSp","SDKEvent",void 0);e("default",E({CHANGE_RECORDER_STATE:"CHANGE_RECORDER_STATE",VIDEO_LOAD_STATUS:"VIDEO_LOAD_STATUS"}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Server_System.ts",["cc","./ServerHttpBase.ts","./ServerManager.ts","./DeviceUtil.ts","./EventUtil.ts","./StorageUtil.ts","./TimeUtil.ts","./ServerDeclare.ts","./telegram-web.ts","./GameGlobal.ts","./GlobalManager.ts","./AccountType.ts","./serviceProto.ts"],(function(e){var t,n,i,r,a,s,o,c,u,f,p,l,m;return{setters:[function(e){t=e.cclegacy},function(e){n=e.ServerHttpBase},function(e){i=e.default},function(e){r=e.default},function(e){a=e.default},function(e){s=e.default},function(e){o=e.TimeUtil},function(e){c=e.ServerBaseConfig},function(e){u=e.TelegramWebApp},function(e){f=e.GameGlobal},function(e){p=e.default},function(e){l=e.AccountType},function(e){m=e.serviceProto}],execute:function(){t._RF.push({},"e34e9+5KZNKmbYjhzy8jpIc","Server_System",void 0);class d extends n{constructor(){super(...arguments),this._curToken=void 0,this.serverProto=m,this._gameRecordId=void 0,this._prizeData=void 0,this._curRankInfo=null,this._drawPrizeListInfo=void 0,this._inviteListInfo=void 0}async callApi(e,t,n,i){let a=t?{...t}:{};this._curToken||void 0!==a.token||(this._curToken=s.get("token",void 0)),a.device={id:r.getDeviceID()},this._curToken&&(a.token=this._curToken),c.activityId&&!a.activityId&&(a.activityId=c.activityId);let o=await super.callApi(e,a,n,i);return o.res?.token&&this._curToken!=o.res.token&&s.set("token",this._curToken=o.res.token),o}async initServerConfig(){return await o.retryUntilSuccess([this.getServerConfig.bind(this),this.getUserGameInfo.bind(this),this.getAccountInfo.bind(this)],"sequence",5)}async getServerConfig(){const e=await this.callApi("m/game/Init",{});return!!e.isSucc&&(f.instance.serverConfig=e.res,console.log("[getServerConfig] 成功",JSON.stringify(e.res)),!0)}async getUserGameInfo(){let e,t=u.Instance.getTelegramInitData();if(t||(console.error("[getUserGameInfo] 使用测试账号"),t="user=%7B%22id%22%3A6810238641%2C%22first_name%22%3A%22xuan%22%2C%22last_name%22%3A%22Qk%22%2C%22username%22%3A%22Xuanqikai%22%2C%22language_code%22%3A%22zh-hans%22%2C%22allows_write_to_pm%22%3Atrue%2C%22photo_url%22%3A%22https%3A%5C%2F%5C%2Ft.me%5C%2Fi%5C%2Fuserpic%5C%2F320%5C%2FJ51lHzLldkQ83bMJCt6oi_2JsW8StEC5pFMY2FFrMjdXZYk5LI9vawTM7FSPUdOr.svg%22%7D&chat_instance=-1807091436106531254&chat_type=private&auth_date=1731675026&hash=86f69499e076c19cf538fa83025137abab960509a1be77a30465f038aa053492"),t){const n=new URLSearchParams(t).get("start_param");if(n){const t=f.instance.decryptObject(n);t.id&&(e=t.id)}}const n=await this.callApi("m/login/TgUserLogin",{initData:t,inviteUid:e});if(!n.isSucc)return!1;f.instance.accountInfo=n.res.account;const{uid:i,nickname:r,avatar:a}=n.res.userInfo;return f.instance.userInfo.tgUid=i,f.instance.userInfo.nickname=r,f.instance.userInfo.avatar=a,f.instance.userInfo.id=n.res.id,console.log("[getUserGameInfo] 成功"),!0}async getAccountInfo(){const e=await this.callApi("m/user/GetAccount",{});if(!e.isSucc)return!1;f.instance.accountInfo=e.res.data.account;for(const t in e.res.data.propsAccount){const n=t;f.instance.gamePropConfig[n]=e.res.data.propsAccount[t]}return!0}async startGame(){if(f.instance.accountInfo.times<0)return!1;const e=await this.callApi("m/game/Start",{});if(!e.isSucc)return!1;if(this._gameRecordId=e.res.recordId,f.instance.accountInfo.times=e.res.times,e.res.buttonConfig)for(const t in e.res.buttonConfig)t.startsWith("gameProp_")?f.instance.gamePropConfig[t]=e.res.buttonConfig[t]:f.instance.gameButtonConfig[t]=e.res.buttonConfig[t];return a.emit("leftTimeChange",f.instance.accountInfo.times),!0}async gameOver(e,t){const n=await this.callApi("m/game/End",{recordId:this._gameRecordId,value:e,compositedTimes:t});return n.isSucc?(f.instance.accountInfo.point=n.res.totalValue,a.emit("scoreChange",f.instance.accountInfo.point),this._gameRecordId=void 0,n):n}async addGameTimes(){const e=await this.callApi("m/game/props/ShareGetProps",{type:l.TIMES});return e.isSucc?(f.instance.accountInfo.times=e.res.value,a.emit("leftTimeChange",f.instance.accountInfo.times),!0):(p.moduleManager("uiPopupManager").showTips(e.err?.message||"增加次数失败了"),!1)}async addProp(e){const t=await this.callApi("m/game/props/ShareGetProps",{type:e});return t.isSucc?(f.instance.gamePropConfig[e].value=t.res.value,!0):(p.moduleManager("uiPopupManager").showTips(t.err?.message||"获取道具失败"),!1)}async useScoreBuyProp(e,t){const n=await this.callApi("m/game/props/ScoreProps",{propsType:e,score:t});return!!n.isSucc&&(f.instance.accountInfo.point=n.res.score,f.instance.gamePropConfig[e].value=n.res.value,a.emit("scoreChange",f.instance.accountInfo.point),!0)}async useProp(e){const t=await this.callApi("m/game/props/UseProps",{propsType:e});return t.isSucc?(f.instance.gamePropConfig[e].value=t.res.value,!0):(f.instance.uiPopupManager.showTips(t.err?.message||"使用失败"),!1)}async getPropPrice(e){const t=await this.callApi("m/game/props/PropsInfo",{propsType:e});return t.isSucc?t.res:null}async _refreshLocalMoney(e){f.instance.accountInfo.drawMoney=e,a.emit("moneyChange",f.instance.accountInfo.times)}async getPrizeData(){const e=await this.callApi("m/rank/GetRankInfo",{});if(e.isSucc&&(this._prizeData=e.res),!this._prizeData)return[];let t=[];for(const e of this._prizeData.data.prizeList)for(const n of e.prizeList)t.push({icon:n.prizePicture,name:n.prizeName});return t=Array.from(new Set(t.map((e=>e.name)))).map((e=>t.find((t=>t.name===e)))),t}async getRankInfo(){const e=await this.callApi("m/rank/GetUserRankList",{current:1,pageSize:100});if(!e.isSucc)return null;const t=e=>{let t;return e.prize&&(t={ranks:[e.rankNo],prizes:e.prize?.map((e=>({type:e.prizeType,name:e.prizeName,icon:e.prizePicture,count:e.rewardCount})))}),{rank:e.rankNo,name:e.nickname,score:e.value,prize:t}};let n=0;return this._prizeData?.data.rankInfo.endDate&&(n=this._prizeData?.data.rankInfo.endDate),this._curRankInfo={rankList:e.res.list.map(t),myRank:t(e.res.myRank),endTime:n},this._curRankInfo}getRankPrizeInfo(e){if(!this._curRankInfo)return null;const t=this._curRankInfo.rankList[e-1];return t?{endTime:this._curRankInfo.endTime,prize:t.prize}:null}async getMyPrize(){return[]}get drawPrizeListInfo(){return this._drawPrizeListInfo}async getDrawPrizeListInfo(e){return await o.smartExecuteFunction("getDrawPrizeListInfo",(async()=>{if(this._drawPrizeListInfo&&!e)return this._drawPrizeListInfo;const t=await this.callApi("m/fruitDraw/GetPrizeList",{});return t.isSucc?(this._drawPrizeListInfo=t.res,a.emit("drawPrizeInfoChanged"),this._drawPrizeListInfo):void 0})),this._drawPrizeListInfo}async getDrawList(){const e=await this.getDrawPrizeListInfo();if(!e)return[];return[...e.basicPrize.map((e=>({prizePic:e.prizePicture,prizeId:e.prizeId,isCollect:!1}))),...e.collectPrize.map((e=>({prizePic:e.prizePicture,prizeId:e.prizeId,isCollect:!0})))]}async prizeDraw(){const e=this._drawPrizeListInfo,t=f.instance.accountInfo.draw>0?l.DRAW:l.POINT,n=await this.callApi("m/fruitDraw/Draw",{drawInfoId:e.drawInfoId,drawType:t});return n.isSucc&&(this.getDrawPrizeListInfo(!0),f.instance.accountInfo.point=n.res.point,f.instance.accountInfo.draw=n.res.draw,a.emit("scoreChange",f.instance.accountInfo.point),a.emit("drawTimeChange",n.res.draw)),n}async composePrize(){const e=this._drawPrizeListInfo,t=await this.callApi("m/fruitDraw/Compose",{drawInfoId:e.drawInfoId});return t.isSucc?this.getDrawPrizeListInfo(!0):p.moduleManager("uiPopupManager").showTips(t.err?.message||"合成失败"),t.isSucc}async getInviteListInfo(e){if(this._inviteListInfo&&!e)return this._inviteListInfo;const t=await this.getDrawPrizeListInfo(),n=await this.callApi("m/fruitDraw/GetInviteList",{drawInfoId:t.drawInfoId,current:0,pageSize:1e5});return n.isSucc?(this._inviteListInfo=n.res,this._inviteListInfo):null}async getInviteConfig(){const e=await this.getDrawPrizeListInfo();if(!e)return null;const t=await this.callApi("m/fruitDraw/GetInviteConfig",{drawInfoId:e.drawInfoId});return t.isSucc?t.res:null}}e("Server_System",d),i.pushServer("server_System",new d),t._RF.pop()}}}));

System.register("chunks:///_virtual/ServerBase.ts",["cc","./index.mjs","./ServerDeclare.ts","./ServerRepeater.ts","./index4.mjs"],(function(e){var t,s,r,n,o;return{setters:[function(e){t=e.cclegacy},null,function(e){s=e.ServerBaseConfig,r=e.ENetworkState},function(e){n=e.default},function(e){o=e.TsrpcErrorType}],execute:function(){t._RF.push({},"1b5e6pTyBZIUrjeeVqgHpFd","ServerBase",void 0);class i{constructor(){this._myUrl=void 0,this._myConfig=void 0}get myUrl(){return this._myUrl||(this._myUrl=this.myConfig.url[s.curServerType]+this._getServerVersion()),this._myUrl}get myConfig(){return this._myConfig}setServerUrl(e){this._myUrl=e}setServerConfig(e){this._myConfig=e}_getServerVersion(){return s.version?.[s.curServerType]?s.version[s.curServerType]+"/":""}async _callFuncByRecoredResponse(e){let t=0;s.monitorNetState&&(t=Date.now());let r=await e();return s.monitorNetState&&this._addResponseTime(r?.err?.type==o.NetworkError?void 0:Date.now()-t),r}_addResponseTime(e){if(e){i._last10ResponseList.push(e),i._last10ResponseList.length>i._maxRecordN&&i._last10ResponseList.unshift();let t=0;i._last10ResponseList.forEach((e=>{t+=e})),i._responseData.ms=t/i._last10ResponseList.length|0;const s=this._getNetState(i._responseData.ms);i._responseData.state=s,n.emitNetworkDelayEvent(i._responseData)}else i._responseData.ms=9999,i._responseData.state=r.offline}_getNetState(e){const t=[100,250,1e3];for(let s=0;s<t.length;s++){if(e<t[s])return s}return r.bad}}e("default",i),i._maxRecordN=10,i._responseData={state:r.offline,ms:0},i._last10ResponseList=[],t._RF.pop()}}}));

System.register("chunks:///_virtual/ServerConfig.ts",["cc","./ServerDeclare.ts"],(function(e){var t,r;return{setters:[function(e){t=e.cclegacy},function(e){r=e.EServerType}],execute:function(){t._RF.push({},"509e7DONpJJ5ojgbQEa1s2m","ServerConfig",void 0);e("default",{baseConfig:{curServerType:r.develop,maxReconnectTime:1e3,json:!0,logger:console,monitorNetState:!0,version:{local:"",develop:"",test:"",online:""},http:{reconnect:{interval:200,max:5}},socket:{interval:1e4,timeout:2e4,reconnect:{interval:1e3,max:10}}},serverMap:{server_System:{url:{local:"http://localhost:3000/watermelon-game-server/",develop:"https://ddxtozfhbf44h.cloudfront.net/watermelon-game-server/",test:"",online:""}}}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ServerDeclare.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9282ehW+t5P6ZTCdQwepbzi","ServerDeclare",void 0);let o=e("EServerType",function(e){return e.local="local",e.develop="develop",e.test="test",e.online="online",e}({}));e("ENetworkState",function(e){return e[e.good=0]="good",e[e.normal=1]="normal",e[e.bad=2]="bad",e[e.offline=3]="offline",e}({}));e("ServerNetSppedConfig",[50,200,999]),e("ServerBaseConfig",{curServerType:o.develop,maxReconnectTime:1e3,json:!0,logger:console,monitorNetState:!1,activityId:void 0,version:{local:"",develop:"",test:"",online:""},http:{reconnect:{interval:200,max:5}},socket:{interval:1e4,timeout:2e4,reconnect:{interval:1e3,max:10}}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ServerHttpBase.ts",["cc","./index.mjs","./ServerDeclare.ts","./ServerRepeater.ts","./ServerBase.ts","./index4.mjs"],(function(e){var t,r,s,n,i,c;return{setters:[function(e){t=e.cclegacy},function(e){r=e.HttpClient},function(e){s=e.ServerBaseConfig},function(e){n=e.default},function(e){i=e.default},function(e){c=e.TsrpcErrorType}],execute:function(){t._RF.push({},"b450aCr2SBJ/KCN+KoVSDsd","ServerHttpBase",void 0);e("ServerHttpBase",class extends i{constructor(){super(...arguments),this._client=void 0}get serverClass(){return r}get client(){return this._client||console.error("服务器未初始化,请先调用init方法进行初始化！"),this._client}init(e){this._client?console.error("服务器不能重复初始化"):(e&&this.setServerUrl(e),this._client=new this.serverClass(this.serverProto,{server:this.myUrl,logger:s.logger,json:s.json}),this._setFlow())}setServerUrl(e){this._client?console.error("setServerUrl","接口已被初始化更改地址失效"):super.setServerUrl(e)}_setFlow(){this._client}async callApi(e,t,r,i){let o;void 0===i&&(i=s.http.reconnect.max),i=i>0?i:1;for(let l=0;l<i&&(0!==l&&(await n.TimeWait(s.http.reconnect.interval*l),console.error("网络错误，自动重试",l)),o=await this._callFuncByRecoredResponse((async()=>await this.client.callApi(e,t,r))),!o.isSucc&&o.err.type==c.NetworkError);l++);return o}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/ServerManager.ts",["cc","./ModuleUtilManagerBase.ts","./ServerBase.ts","./ServerDeclare.ts"],(function(e){var r,t,i,s;return{setters:[function(e){r=e.cclegacy},function(e){t=e.ModuleUtilManagerBase},function(e){i=e.default},function(e){s=e.ServerBaseConfig}],execute:function(){r._RF.push({},"cade0IU54JK05r8RonN9be7","ServerManager",void 0);class n extends t{get netState(){return i._responseData}constructor(e){if(super(),this._serversConfig=void 0,this._serversConfig=e.serverMap,e.baseConfig)for(const r in e.baseConfig)s[r]=e.baseConfig[r]}static pushServer(e,r){this._allServers[e]=r}async init(){console.log("初始化服务管理器"),this._bindAllServerConfig()}setActivityId(e){s.activityId=e}getActivityId(){return s.activityId}callServer(e){return this._getServer(e)}initAllServer(e){for(const r in this._serversConfig)this.initServer(r,e&&e[r])}initServer(e,r){const t=this._getServer(e);if(!t)return console.error(`initServer:未找到【${e}】服务器类实例，请确认是否存在`),!1;const i=this._serversConfig[e];return i?(t.setServerConfig(i),t.init(r),!0):(console.error(`initServer:未找到【${e}】服务器配置，请确认是否存在`),!1)}_bindAllServerConfig(){for(const e in this._serversConfig){const r=this._serversConfig[e],t=this._getServer(e);t?t.setServerConfig(r):console.error(`未找到【${e}】服务器类实例，请确认是否存在`)}}_getServer(e){return n._allServers[e]}}e("default",n),n._allServers={},r._RF.pop()}}}));

System.register("chunks:///_virtual/ServerRepeater.ts",["cc","./EventUtil.ts","./TimeUtil.ts"],(function(e){var t,i,a;return{setters:[function(e){t=e.cclegacy},function(e){i=e.default},function(e){a=e.TimeUtil}],execute:function(){t._RF.push({},"88eabKNMW9Jb7VRM5XL9G17","ServerRepeater",void 0);e("default",class{static async TimeWait(e,t){return await a.wait(e,t)}static async emitNetworkDelayEvent(e){i.emit("NetworkDelayChange",e)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/ServerSocketBase.ts",["cc","./ServerBase.ts","./index.mjs","./ServerDeclare.ts","./ServerRepeater.ts","./index4.mjs"],(function(e){var t,n,s,i,c,r;return{setters:[function(e){t=e.cclegacy},function(e){n=e.default},function(e){s=e.WsClient},function(e){i=e.ServerBaseConfig},function(e){c=e.default},function(e){r=e.TsrpcErrorType}],execute:function(){t._RF.push({},"61182vZDxJOmbcuZp4YEvZw","ServerSocketBase",void 0);e("default",class extends n{constructor(){super(...arguments),this._client=void 0,this._curReconnectN=0}get client(){return this._client||console.error("服务器未初始化,请先调用init方法进行初始化！"),this._client}get serverClass(){return s}init(e){this._client?console.error("服务器不能重复初始化"):(e&&this.setServerUrl(e),this._client=new this.serverClass(this.serverProto,{server:this.myUrl,logger:i.logger,json:i.json,heartbeat:{interval:i.socket.interval,timeout:i.socket.timeout}}),this._curReconnectN=0,this._setFlow())}clearServer(){this._client&&(delete this._client,this._client=void 0)}setServerUrl(e){this._client?console.error("setServerUrl","接口已被初始化更改地址失效"):super.setServerUrl(e)}async connect(){if(!this.client)return!1;if(this.client.isConnected)return!0;return!(await this.client.connect()).isSucc&&this._curReconnectN<i.socket.reconnect.max?(0==this._curReconnectN&&console.error("网络异常，正在尝试重新连接..."),this._curReconnectN++,await new Promise((e=>{setTimeout(e,i.socket.reconnect.interval)})),await this.connect()):this._curReconnectN=0,!0}async disConnect(){return!!this._client&&(!this.client.isConnected||(this._curReconnectN=0,await this._client.disconnect(),!0))}_setFlow(){this._client&&(this.client.flows.postDisconnectFlow.push((async e=>e.isManual?(console.log("主动断开连接",e),e):(await this.connect(),this.client.isConnected||console.error("服务端断开链接",e),e))),this.client.flows.postConnectFlow.push((async e=>(console.log("服务端连接成功",e),e))))}async callApi(e,t,n,s){let o;if(void 0===s&&(s=i.socket.reconnect.max),!this.client)return o={isSucc:!1,err:{message:"房间服未连接",type:r.ClientError}},o;s=s>0?s:1;for(let l=0;l<s&&(0!==l&&(await c.TimeWait(i.socket.reconnect.interval*l),console.error("网络错误，自动重试",l)),o=await this._callFuncByRecoredResponse((async()=>await this.client.callApi(e,t,n))),!o.isSucc&&o.err.type==r.NetworkError);l++);return o}async sendMsg(e,t,n,s){let o;if(void 0===s&&(s=i.socket.reconnect.max),!this.client)return o;s=s>0?s:1;for(let i=0;i<s&&(0!==i&&(await c.TimeWait(100*i),console.error("网络错误，自动重试",i)),o=await this._callFuncByRecoredResponse((async()=>await this.client.sendMsg(e,t,n))),!o.isSucc&&o.err.type==r.NetworkError);i++);return o}async listenMsg(e,t){if(this.client)return await this.client.listenMsg(e,t)}unlistenMsg(e,t){this.client&&this.client.unlistenMsg(e,t)}unlistenMsgAll(e){this.client&&this.client.unlistenMsgAll(e)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/serviceProto.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"5a6eeyqIjpF2amcl9wM1OQX","serviceProto",void 0);e("serviceProto",{version:100,services:[{id:51,name:"m/activity/GetActivity",type:"api",conf:{needLogin:!1}},{id:83,name:"m/airdrop/GetConfig",type:"api",conf:{needLogin:!0}},{id:35,name:"m/bag/GetBagList",type:"api",conf:{needLogin:!0}},{id:30,name:"m/exchange/ExchangePrize",type:"api",conf:{needLogin:!0}},{id:49,name:"m/exchange/GetConfig",type:"api",conf:{needLogin:!0}},{id:31,name:"m/exchange/GetPrizeList",type:"api",conf:{needLogin:!0}},{id:81,name:"m/fruitDraw/CheckMustPrize",type:"api",conf:{needLogin:!0}},{id:60,name:"m/fruitDraw/Compose",type:"api",conf:{needLogin:!0}},{id:59,name:"m/fruitDraw/Draw",type:"api",conf:{needLogin:!0}},{id:82,name:"m/fruitDraw/GetInviteConfig",type:"api",conf:{needLogin:!0}},{id:88,name:"m/fruitDraw/GetInviteList",type:"api",conf:{needLogin:!0}},{id:58,name:"m/fruitDraw/GetPrizeList",type:"api",conf:{needLogin:!0}},{id:84,name:"m/game/props/PropsInfo",type:"api",conf:{needLogin:!0}},{id:85,name:"m/game/props/ScoreProps",type:"api",conf:{needLogin:!0}},{id:91,name:"m/game/props/ShareGetProps",type:"api",conf:{needLogin:!0}},{id:86,name:"m/game/props/UseProps",type:"api",conf:{needLogin:!0}},{id:61,name:"m/game/End",type:"api",conf:{needLogin:!0}},{id:62,name:"m/game/Init",type:"api",conf:{needLogin:!1}},{id:63,name:"m/game/Start",type:"api",conf:{needLogin:!0}},{id:64,name:"m/login/TgUserLogin",type:"api",conf:{needLogin:!1}},{id:25,name:"m/login/TokenLogin",type:"api",conf:{needLogin:!0}},{id:72,name:"m/lottery/Lottery",type:"api",conf:{needLogin:!0}},{id:73,name:"m/lottery/LotteryList",type:"api",conf:{needLogin:!0}},{id:74,name:"m/lottery/LotteryPrizeList",type:"api",conf:{needLogin:!0}},{id:52,name:"m/notify/GetNotifyList",type:"api",conf:{needLogin:!0}},{id:80,name:"m/order/ton/CheckPayment",type:"api",conf:{needLogin:!0}},{id:78,name:"m/order/ton/CreatePayment",type:"api",conf:{needLogin:!0}},{id:65,name:"m/rank/GetRankInfo",type:"api",conf:{needLogin:!0}},{id:66,name:"m/rank/GetRankList",type:"api",conf:{needLogin:!0}},{id:67,name:"m/rank/GetRankPrizeList",type:"api",conf:{needLogin:!0}},{id:68,name:"m/rank/GetUserRankList",type:"api",conf:{needLogin:!0}},{id:56,name:"m/task/GetTask",type:"api",conf:{needLogin:!0}},{id:53,name:"m/task/GetTaskList",type:"api",conf:{needLogin:!0}},{id:57,name:"m/task/TaskUserReceive",type:"api",conf:{needLogin:!0}},{id:54,name:"m/task/TaskUserReport",type:"api",conf:{needLogin:!0}},{id:55,name:"m/task/TaskUserReward",type:"api",conf:{needLogin:!0}},{id:87,name:"m/test/Login",type:"api",conf:{needLogin:!1}},{id:90,name:"m/test/Test",type:"api",conf:{needLogin:!0}},{id:89,name:"m/user/GetAccount",type:"api",conf:{needLogin:!0}},{id:48,name:"m/user/GetUserAccountHistory",type:"api",conf:{needLogin:!0}},{id:37,name:"m/user/GetUserInfo",type:"api",conf:{needLogin:!0}}],types:{"m/activity/PtlGetActivity/ReqGetActivity":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"activityId",type:{type:"String"}}]},"Base/BaseRequest":{type:"Interface",properties:[{id:1,name:"device",type:{type:"Interface",properties:[{id:0,name:"id",type:{type:"String"}}]}},{id:0,name:"token",type:{type:"String"},optional:!0},{id:2,name:"activityId",type:{type:"String"},optional:!0}]},"m/activity/PtlGetActivity/ResGetActivity":{type:"Intersection",members:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}},{id:1,type:{type:"Reference",target:"../dbItems/activity/DbActivityInfo/DbActivityInfo"}},{id:2,type:{type:"Interface",properties:[{id:0,name:"status",type:{type:"Reference",target:"../constant/ActivityStatus/ActivityStatus"}},{id:1,name:"statusText",type:{type:"String"}}]}}]},"Base/BaseResponse":{type:"Interface",properties:[{id:0,name:"token",type:{type:"String"},optional:!0}]},"../dbItems/activity/DbActivityInfo/DbActivityInfo":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"../common/CommonField/CommonField"}}],properties:[{id:0,name:"_id",type:{type:"String"}},{id:8,name:"name",type:{type:"String"}},{id:9,name:"startDate",type:{type:"Number"}},{id:10,name:"endDate",type:{type:"Number"}},{id:11,name:"banner",type:{type:"Array",elementType:{type:"Interface",properties:[{id:0,name:"url",type:{type:"String"}}]}}},{id:12,name:"showPrizes",type:{type:"Array",elementType:{type:"Interface",properties:[{id:0,name:"name",type:{type:"String"}},{id:1,name:"icon",type:{type:"String"}},{id:2,name:"needScore",type:{type:"Number"}}]}}}]},"../common/CommonField/CommonField":{type:"Interface",properties:[{id:0,name:"isRemoved",type:{type:"Boolean"},optional:!0},{id:1,name:"isEnabled",type:{type:"Boolean"},optional:!0},{id:2,name:"create",type:{type:"Interface",properties:[{id:0,name:"time",type:{type:"Number"}},{id:1,name:"admin",type:{type:"Interface",properties:[{id:0,name:"adminId",type:{type:"String"}},{id:1,name:"nickname",type:{type:"String"}}]}}]},optional:!0},{id:3,name:"update",type:{type:"Interface",properties:[{id:0,name:"time",type:{type:"Number"}},{id:1,name:"admin",type:{type:"Interface",properties:[{id:0,name:"adminId",type:{type:"String"}},{id:1,name:"nickname",type:{type:"String"}}]}}]},optional:!0}]},"../constant/ActivityStatus/ActivityStatus":{type:"Enum",members:[{id:0,value:"NOT_STARTED"},{id:1,value:"OPENING"},{id:2,value:"FINISHED"},{id:3,value:"OFFLINE"}]},"m/airdrop/PtlGetConfig/ReqGetConfig":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}]},"m/airdrop/PtlGetConfig/ResGetConfig":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"data",type:{type:"Union",members:[{id:2,type:{type:"Interface",properties:[{id:0,name:"amount",type:{type:"Number"}},{id:1,name:"game",type:{type:"Interface",properties:[{id:0,name:"times",type:{type:"Number"}},{id:1,name:"amount",type:{type:"Number"}},{id:2,name:"finish",type:{type:"Boolean"}}]}},{id:2,name:"composited",type:{type:"Interface",properties:[{id:0,name:"times",type:{type:"Number"}},{id:1,name:"amount",type:{type:"Number"}},{id:2,name:"finish",type:{type:"Boolean"}}]}},{id:3,name:"invite",type:{type:"Interface",properties:[{id:0,name:"times",type:{type:"Number"}},{id:1,name:"amount",type:{type:"Number"}},{id:2,name:"finish",type:{type:"Boolean"}}]}},{id:4,name:"buy",type:{type:"Interface",properties:[{id:0,name:"times",type:{type:"Number"}},{id:1,name:"amount",type:{type:"Number"}},{id:2,name:"finish",type:{type:"Boolean"}}]}},{id:5,name:"rank",type:{type:"Interface",properties:[{id:0,name:"min",type:{type:"Number"}},{id:1,name:"max",type:{type:"Number"}},{id:2,name:"amount",type:{type:"Number"}},{id:3,name:"finish",type:{type:"Boolean"}}]}}]}},{id:1,type:{type:"Literal",literal:null}}]}}]},"m/bag/PtlGetBagList/ReqGetBagList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"activityId",type:{type:"String"}}]},"m/bag/PtlGetBagList/ResGetBagList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"bagList",type:{type:"Array",elementType:{type:"Interface",properties:[{id:0,name:"bagId",type:{type:"String"}},{id:1,name:"prize",type:{type:"Interface",properties:[{id:0,name:"name",type:{type:"String"}},{id:1,name:"pic",type:{type:"String"}},{id:2,name:"price",type:{type:"Number"}}]}},{id:2,name:"status",type:{type:"Union",members:[{id:0,type:{type:"Reference",target:"../constant/BagPrizeStatus/EBagPrizeStatus"}},{id:1,type:{type:"Reference",target:"../constant/ExpressStatus/EExpressStatus"}}]}},{id:4,name:"createDate",type:{type:"Number"}},{id:3,name:"expressInfo",type:{type:"Interface",properties:[{id:0,name:"expressNumber",type:{type:"String"}},{id:1,name:"expressName",type:{type:"String"}}]},optional:!0},{id:5,name:"addressId",type:{type:"String"},optional:!0}]}}}]},"../constant/BagPrizeStatus/EBagPrizeStatus":{type:"Enum",members:[{id:0,value:"unApply"}]},"../constant/ExpressStatus/EExpressStatus":{type:"Enum",members:[{id:0,value:"wait"},{id:1,value:"sent"},{id:2,value:"stop"}]},"m/exchange/PtlExchangePrize/ReqExchangePrize":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:3,name:"activityId",type:{type:"String"}},{id:2,name:"accountType",type:{type:"Reference",target:"../constant/AccountType/AccountType"}},{id:0,name:"exchangeId",type:{type:"String"}}]},"../constant/AccountType/AccountType":{type:"Enum",members:[{id:2,value:"POINT"},{id:3,value:"TIMES"},{id:4,value:"DRAW"},{id:5,value:"DRAW_MONEY"}]},"m/exchange/PtlExchangePrize/ResExchangePrize":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"amount",type:{type:"Number"}}]},"m/exchange/PtlGetConfig/ReqGetConfig":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"activityId",type:{type:"String"}},{id:1,name:"accountType",type:{type:"Reference",target:"../constant/AccountType/AccountType"}}]},"m/exchange/PtlGetConfig/ResGetConfig":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"config",type:{target:{type:"Reference",target:"../dbItems/exchange/DbExchangeConfig/DbExchangeConfig"},keys:["_id"],type:"Omit"}},{id:1,name:"amount",type:{type:"Number"}}]},"../dbItems/exchange/DbExchangeConfig/DbExchangeConfig":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"../common/CommonField/CommonField"}}],properties:[{id:0,name:"_id",type:{type:"String"}},{id:1,name:"pointName",type:{type:"String"}},{id:2,name:"pointImage",type:{type:"String"}},{id:3,name:"pointExchangeValue",type:{type:"Number"}},{id:4,name:"rule",type:{type:"String"}}]},"m/exchange/PtlGetPrizeList/ReqGetPrizeList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:2,name:"activityId",type:{type:"String"}},{id:1,name:"accountType",type:{type:"Reference",target:"../constant/AccountType/AccountType"}}]},"m/exchange/PtlGetPrizeList/ResGetPrizeList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:1,name:"config",type:{target:{type:"Reference",target:"../dbItems/exchange/DbExchangeConfig/DbExchangeConfig"},keys:["_id"],type:"Omit"}},{id:2,name:"amount",type:{type:"Number"}},{id:0,name:"prizeList",type:{type:"Array",elementType:{type:"Intersection",members:[{id:0,type:{type:"Reference",target:"../common/PrizeField/PrizeField"}},{id:5,type:{type:"Interface",properties:[{id:0,name:"exchangeId",type:{type:"String"}},{id:1,name:"prizeStock",type:{type:"Number"}},{id:2,name:"updateStockTime",type:{type:"Number"},optional:!0},{id:3,name:"enableTime",type:{type:"Number"},optional:!0},{id:4,name:"exchangePrizeStatus",type:{type:"Reference",target:"../constant/ExchangeType/EExchangePrizeStatus"}},{id:5,name:"needAmount",type:{type:"Number"}}]}}]}}}]},"../common/PrizeField/PrizeField":{type:"Interface",properties:[{id:11,name:"prizeId",type:{type:"String"}},{id:6,name:"prizeType",type:{type:"Reference",target:"../constant/PrizeType/PrizeType"}},{id:7,name:"rewardCount",type:{type:"Number"}},{id:8,name:"prizeName",type:{type:"String"}},{id:9,name:"prizePicture",type:{type:"String"}},{id:10,name:"prizePrice",type:{type:"Number"}}]},"../constant/PrizeType/PrizeType":{type:"Enum",members:[{id:3,value:"POINT"},{id:4,value:"TON"},{id:5,value:"USD"}]},"../constant/ExchangeType/EExchangePrizeStatus":{type:"Enum",members:[{id:0,value:"default"},{id:1,value:"outOfStock"},{id:2,value:"exchanged"}]},"m/fruitDraw/PtlCheckMustPrize/ReqCheckMustPrize":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"drawInfoId",type:{type:"String"}}]},"m/fruitDraw/PtlCheckMustPrize/ResCheckMustPrize":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"list",type:{type:"Array",elementType:{type:"Reference",target:"../common/PrizeField/PrizeField"}}}]},"m/fruitDraw/PtlCompose/ReqCompose":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:1,name:"drawInfoId",type:{type:"String"}}]},"m/fruitDraw/PtlCompose/ResCompose":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}]},"m/fruitDraw/PtlDraw/ReqDraw":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"drawInfoId",type:{type:"String"}},{id:1,name:"drawType",type:{type:"Union",members:[{id:0,type:{type:"Literal",literal:"POINT"}},{id:1,type:{type:"Literal",literal:"DRAW"}}]}}]},"m/fruitDraw/PtlDraw/ResDraw":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:3,name:"drawNum",type:{type:"Number"}},{id:4,name:"todayDrawNum",type:{type:"Number"}},{id:2,name:"prizeList",type:{type:"Array",elementType:{type:"Interface",properties:[{id:0,name:"moduleType",type:{type:"Union",members:[{id:0,type:{type:"Literal",literal:"basic"}},{id:1,type:{type:"Literal",literal:"collect"}}]}},{id:1,name:"prize",type:{type:"Reference",target:"../common/PrizeField/PrizeField"}}]}},optional:!0},{id:5,name:"draw",type:{type:"Number"}},{id:6,name:"point",type:{type:"Number"}}]},"m/fruitDraw/PtlGetInviteConfig/ReqGetInviteConfig":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"drawInfoId",type:{type:"String"}}]},"m/fruitDraw/PtlGetInviteConfig/ResGetInviteConfig":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"list",type:{type:"Array",elementType:{type:"Intersection",members:[{id:0,type:{type:"Interface",properties:[{id:0,name:"isFinish",type:{type:"Boolean"}}]}},{id:1,type:{target:{type:"Reference",target:"../dbItems/fruitDraw/DbFruitInviteConfig/DbFruitInviteConfig"},keys:["stock","sent","update","create"],type:"Omit"}}]}}}]},"../dbItems/fruitDraw/DbFruitInviteConfig/DbFruitInviteConfig":{type:"Intersection",members:[{id:0,type:{type:"Reference",target:"../common/CommonField/CommonField"}},{id:1,type:{type:"Reference",target:"../constant/fruitGame/interface/TFruitInviteConfigPrizeItem"}},{id:2,type:{type:"Interface",properties:[{id:0,name:"_id",type:{type:"String"}},{id:1,name:"drawInfoId",type:{type:"String"}},{id:2,name:"inviteNum",type:{type:"Number"}}]}}]},"../constant/fruitGame/interface/TFruitInviteConfigPrizeItem":{type:"Union",members:[{id:0,type:{type:"Reference",target:"../constant/fruitGame/interface/IChancePrize"}},{id:1,type:{type:"Reference",target:"../constant/fruitGame/interface/IMustPrize"}}]},"../constant/fruitGame/interface/IChancePrize":{type:"Interface",properties:[{id:0,name:"rewardType",type:{type:"Literal",literal:"chance"}},{id:1,name:"chanceMultiple",type:{type:"Number"}},{id:2,name:"chancePrize",type:{type:"Array",elementType:{type:"Interface",properties:[{id:0,name:"drawPrizeId",type:{type:"String"}}]}}}]},"../constant/fruitGame/interface/IMustPrize":{type:"Interface",properties:[{id:0,name:"rewardType",type:{type:"Literal",literal:"must"}},{id:1,name:"mustPrize",type:{type:"Array",elementType:{type:"Reference",target:"../common/PrizeField/PrizeField"}}},{id:2,name:"stock",type:{type:"Number"}},{id:3,name:"sent",type:{type:"Number"}}]},"m/fruitDraw/PtlGetInviteList/ReqGetInviteList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"drawInfoId",type:{type:"String"}},{id:1,name:"current",type:{type:"Number"}},{id:2,name:"pageSize",type:{type:"Number"}}]},"m/fruitDraw/PtlGetInviteList/ResGetInviteList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"total",type:{type:"Number"}},{id:1,name:"totalPage",type:{type:"Number"}},{id:2,name:"current",type:{type:"Number"}},{id:3,name:"list",type:{type:"Array",elementType:{type:"Interface",properties:[{id:0,name:"nickname",type:{type:"String"}},{id:1,name:"avatar",type:{type:"String"}},{id:2,name:"timeStr",type:{type:"String"}},{id:3,name:"finishDraw",type:{type:"Boolean"}}]}}}]},"m/fruitDraw/PtlGetPrizeList/ReqGetPrizeList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}]},"m/fruitDraw/PtlGetPrizeList/ResGetPrizeList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:3,name:"drawInfoId",type:{type:"String"}},{id:0,name:"basicPrize",type:{type:"Array",elementType:{type:"Reference",target:"../common/PrizeField/PrizeField"}}},{id:1,name:"collectPrize",type:{type:"Array",elementType:{type:"Intersection",members:[{id:0,type:{type:"Reference",target:"../common/PrizeField/PrizeField"}},{id:1,type:{type:"Interface",properties:[{id:0,name:"sum",type:{type:"Number"}}]}}]}}},{id:2,name:"composePrize",type:{type:"Intersection",members:[{id:0,type:{type:"Reference",target:"../common/PrizeField/PrizeField"}},{id:2,type:{type:"Interface",properties:[{id:0,name:"isCompose",type:{type:"Boolean"}}]}}]}}]},"m/game/props/PtlPropsInfo/ReqPropsInfo":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:1,name:"propsType",type:{type:"Reference",target:"../constant/AccountType/EPropsType"}}]},"../constant/AccountType/EPropsType":{type:"Enum",members:[{id:0,value:"gameProp_1"},{id:1,value:"gameProp_2"},{id:2,value:"gameProp_3"},{id:3,value:"gameProp_4"}]},"m/game/props/PtlPropsInfo/ResPropsInfo":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"amount",type:{type:"Number"}},{id:1,name:"score",type:{type:"Number"}}]},"m/game/props/PtlScoreProps/ReqScoreProps":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:1,name:"propsType",type:{type:"Reference",target:"../constant/AccountType/EPropsType"}},{id:2,name:"score",type:{type:"Number"}}]},"m/game/props/PtlScoreProps/ResScoreProps":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"value",type:{type:"Number"}},{id:1,name:"score",type:{type:"Number"}}]},"m/game/props/PtlShareGetProps/ReqShareGetProps":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"type",type:{type:"Union",members:[{id:0,type:{type:"Reference",target:"../constant/AccountType/EPropsType"}},{id:1,type:{type:"Literal",literal:"TIMES"}}]}}]},"m/game/props/PtlShareGetProps/ResShareGetProps":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"type",type:{type:"Union",members:[{id:0,type:{type:"Reference",target:"../constant/AccountType/EPropsType"}},{id:1,type:{type:"Literal",literal:"TIMES"}}]}},{id:1,name:"value",type:{type:"Number"}}]},"m/game/props/PtlUseProps/ReqUseProps":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:1,name:"propsType",type:{type:"Reference",target:"../constant/AccountType/EPropsType"}}]},"m/game/props/PtlUseProps/ResUseProps":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"value",type:{type:"Number"}}]},"m/game/PtlEnd/ReqEnd":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"recordId",type:{type:"String"}},{id:1,name:"value",type:{type:"Number"}},{id:3,name:"compositedTimes",type:{type:"Number"}},{id:2,name:"extData",type:{type:"String"},optional:!0}]},"m/game/PtlEnd/ResEnd":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"totalValue",type:{type:"Number"}},{id:1,name:"upPer",type:{type:"String"}}]},"m/game/PtlInit/ReqInit":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}]},"m/game/PtlInit/ResInit":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:2,name:"loadingPage",type:{type:"Interface",properties:[{id:0,name:"activeCard",type:{type:"String"}}]}},{id:3,name:"mainPage",type:{type:"Interface",properties:[{id:0,name:"ads",type:{type:"String"}},{id:1,name:"activeAwardScores",type:{type:"Array",elementType:{type:"Interface",properties:[{id:0,name:"icon",type:{type:"String"}},{id:1,name:"score",type:{type:"Number"}}]}}}]}},{id:5,name:"drawConfig",type:{type:"Interface",properties:[{id:0,name:"moneyGet",type:{type:"Number"}}]}},{id:6,name:"cashOutConfig",type:{type:"Interface",properties:[{id:3,name:"type_1",type:{type:"Boolean"}},{id:4,name:"type_2",type:{type:"Boolean"}},{id:5,name:"type_3",type:{type:"Boolean"}}]}}]},"m/game/PtlStart/ReqStart":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}]},"m/game/PtlStart/ResStart":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"recordId",type:{type:"String"}},{id:1,name:"times",type:{type:"Number"}},{id:2,name:"buttonConfig",type:{type:"Union",members:[{id:0,type:{type:"Interface",properties:[{id:0,name:"reviveBtn",type:{type:"Reference",target:"../constant/ButtonType/IButtonConfigItem"}},{id:1,name:"gameOverBtn",type:{type:"Reference",target:"../constant/ButtonType/IButtonConfigItem"}},{id:2,name:"gameProp_1",type:{type:"Reference",target:"m/game/PtlStart/IPropsItem"}},{id:3,name:"gameProp_2",type:{type:"Reference",target:"m/game/PtlStart/IPropsItem"}},{id:4,name:"gameProp_3",type:{type:"Reference",target:"m/game/PtlStart/IPropsItem"}},{id:5,name:"gameProp_4",type:{type:"Reference",target:"m/game/PtlStart/IPropsItem"}}]}},{id:1,type:{type:"Literal",literal:null}}]}}]},"../constant/ButtonType/IButtonConfigItem":{type:"Union",members:[{id:0,type:{type:"Reference",target:"../constant/ButtonType/IButtonConfigItemA"}},{id:1,type:{type:"Reference",target:"../constant/ButtonType/IButtonConfigItemB"}}]},"../constant/ButtonType/IButtonConfigItemA":{type:"Interface",properties:[{id:0,name:"btnType",type:{type:"Literal",literal:"share"}}]},"../constant/ButtonType/EBtnType":{type:"Enum",members:[{id:0,value:"buy"},{id:1,value:"share"}]},"../constant/ButtonType/IButtonConfigItemB":{type:"Interface",properties:[{id:0,name:"btnType",type:{type:"Literal",literal:"buy"}},{id:1,name:"priceInfo",type:{type:"Interface",properties:[{id:0,name:"price",type:{type:"Number"}},{id:1,name:"nowPrice",type:{type:"Number"}}]}}]},"m/game/PtlStart/IPropsItem":{type:"Interface",properties:[{id:0,name:"value",type:{type:"Number"}},{id:3,name:"index",type:{type:"Boolean"}},{id:1,name:"share",type:{type:"Boolean"}},{id:2,name:"buy",type:{type:"Boolean"}}]},"m/login/PtlTgUserLogin/ReqTgUserLogin":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:1,name:"initData",type:{type:"String"}},{id:2,name:"inviteUid",type:{type:"String"},optional:!0}]},"m/login/PtlTgUserLogin/ResTgUserLogin":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"token",type:{type:"String"}},{id:1,name:"userInfo",type:{type:"Interface",properties:[{id:0,name:"uid",type:{type:"String"}},{id:1,name:"nickname",type:{type:"String"}},{id:2,name:"avatar",type:{type:"String"}}]}},{id:2,name:"account",type:{type:"Interface",properties:[{id:0,name:"times",type:{type:"Number"}},{id:1,name:"draw",type:{type:"Number"}},{id:2,name:"point",type:{type:"Number"}},{id:3,name:"drawMoney",type:{type:"Number"},optional:!0}]}},{id:3,name:"id",type:{type:"String"}}]},"m/login/PtlTokenLogin/ReqTokenLogin":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"token",type:{type:"String"}},{id:2,name:"needUserInfo",type:{type:"Boolean"},optional:!0}]},"m/login/PtlTokenLogin/ResTokenLogin":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"token",type:{type:"String"}},{id:1,name:"userInfo",type:{type:"Interface",properties:[{id:3,name:"uid",type:{type:"String"}},{id:1,name:"nickname",type:{type:"String"}},{id:2,name:"avatar",type:{type:"String"}}]},optional:!0}]},"m/lottery/PtlLottery/ReqLottery":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"lotteryInfoId",type:{type:"String"},optional:!0}]},"m/lottery/PtlLottery/ResLottery":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"drawNum",type:{type:"Number"}},{id:1,name:"todayDrawNum",type:{type:"Number"}},{id:2,name:"prizeInfo",type:{type:"Interface",properties:[{id:0,name:"prizeId",type:{type:"String"}},{id:1,name:"prizeName",type:{type:"String"}},{id:2,name:"prizePic",type:{type:"String"}},{id:3,name:"prizeType",type:{type:"String"}},{id:4,name:"prizePrice",type:{type:"Number"}}]},optional:!0}]},"m/lottery/PtlLotteryList/ReqLotteryList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"current",type:{type:"Number"}},{id:1,name:"pageSize",type:{type:"Number"}}]},"m/lottery/PtlLotteryList/ResLotteryList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"list",type:{type:"Array",elementType:{type:"Interface",properties:[{id:0,name:"lotteryInfoId",type:{type:"String"}},{id:1,name:"startDateStr",type:{type:"String"}},{id:2,name:"endDateStr",type:{type:"String"}},{id:3,name:"statusName",type:{type:"String"}}]}}}]},"m/lottery/PtlLotteryPrizeList/ReqLotteryPrizeList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"lotteryInfoId",type:{type:"String"}}]},"m/lottery/PtlLotteryPrizeList/ResLotteryPrizeList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"list",type:{type:"Array",elementType:{type:"Reference",target:"../common/PrizeField/PrizeField"}}}]},"m/notify/PtlGetNotifyList/ReqGetNotifyList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}]},"m/notify/PtlGetNotifyList/ResGetNotifyList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"list",type:{type:"Array",elementType:{type:"Reference",target:"../dbItems/notify/DbNotify/DbNotify"}}}]},"../dbItems/notify/DbNotify/DbNotify":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"../common/CommonField/CommonField"}}],properties:[{id:0,name:"_id",type:{type:"String"}},{id:1,name:"notifyUserType",type:{type:"Reference",target:"../constant/NotifyUserType/NotifyUserType"}},{id:2,name:"title",type:{type:"String"}},{id:3,name:"notifyStyle",type:{type:"Union",members:[{id:0,type:{type:"Interface",properties:[{id:0,name:"notifyStyleType",type:{type:"Literal",literal:"TEXT"}},{id:1,name:"notifyText",type:{type:"String"},optional:!0}]}},{id:1,type:{type:"Interface",properties:[{id:0,name:"notifyStyleType",type:{type:"Literal",literal:"IMAGE"}},{id:1,name:"notifyImage",type:{type:"String"}}]}}]}},{id:4,name:"notifyButton",type:{type:"Union",members:[{id:0,type:{type:"Interface",properties:[{id:0,name:"hasNotifyButton",type:{type:"Literal",literal:!1}}]}},{id:1,type:{type:"Interface",properties:[{id:0,name:"hasNotifyButton",type:{type:"Literal",literal:!0}},{id:1,name:"notifyButtonText",type:{type:"String"}}]}}]}},{id:5,name:"notifyJump",type:{type:"Union",members:[{id:0,type:{type:"Interface",properties:[{id:0,name:"isJump",type:{type:"Literal",literal:!1}}]}},{id:1,type:{type:"Interface",properties:[{id:0,name:"isJump",type:{type:"Literal",literal:!0}},{id:1,name:"jumpPath",type:{type:"String"}}]}}]}},{id:6,name:"startTime",type:{type:"Number"}},{id:7,name:"endTime",type:{type:"Number"}},{id:8,name:"notifyShowFrequencyType",type:{type:"Reference",target:"../constant/NotifyShowFrequencyType/NotifyShowFrequencyType"}}]},"../constant/NotifyUserType/NotifyUserType":{type:"Enum",members:[{id:0,value:"ALL"},{id:1,value:"NEW"}]},"../constant/NotifyDialogStyleType/NotifyDialogStyleType":{type:"Enum",members:[{id:0,value:"TEXT"},{id:1,value:"IMAGE"}]},"../constant/NotifyShowFrequencyType/NotifyShowFrequencyType":{type:"Enum",members:[{id:0,value:"ONLY_ONE"},{id:1,value:"EVERY_DAY"},{id:2,value:"EVERY_TIME"}]},"m/order/ton/PtlCheckPayment/ReqCheckPayment":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"orderId",type:{type:"String"}}]},"m/order/ton/PtlCheckPayment/ResCheckPayment":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"status",type:{type:"String"}}]},"m/order/ton/PtlCreatePayment/ReqCreatePayment":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:2,name:"key",type:{type:"String"}},{id:3,name:"address",type:{type:"String"}}]},"m/order/ton/PtlCreatePayment/ResCreatePayment":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"orderId",type:{type:"String"}},{id:3,name:"amount",type:{type:"Number"}},{id:4,name:"tonToken",type:{type:"String"}}]},"m/rank/PtlGetRankInfo/ReqGetRankInfo":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"rankInfoId",type:{type:"String"},optional:!0}]},"m/rank/PtlGetRankInfo/ResGetRankInfo":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"data",type:{type:"Interface",properties:[{id:0,name:"rankInfo",type:{type:"Interface",properties:[{id:0,name:"rankInfoId",type:{type:"String"}},{id:4,name:"startDate",type:{type:"Number"}},{id:5,name:"endDate",type:{type:"Number"}},{id:3,name:"statusName",type:{type:"String"}}]}},{id:1,name:"prizeList",type:{type:"Array",elementType:{type:"Reference",target:"../dbItems/rank/DbRankPrize/DbRankPrize"}}}]}}]},"../dbItems/rank/DbRankPrize/DbRankPrize":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"../common/CommonField/CommonField"}}],properties:[{id:0,name:"_id",type:{type:"String"}},{id:1,name:"rankInfoId",type:{type:"String"}},{id:2,name:"minRank",type:{type:"Number"}},{id:3,name:"maxRank",type:{type:"Number"}},{id:5,name:"prizeList",type:{type:"Array",elementType:{type:"Reference",target:"../common/PrizeField/PrizeField"}}}]},"m/rank/PtlGetRankList/ReqGetRankList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"current",type:{type:"Number"}},{id:1,name:"pageSize",type:{type:"Number"}}]},"m/rank/PtlGetRankList/ResGetRankList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"list",type:{type:"Array",elementType:{type:"Interface",properties:[{id:0,name:"rankInfoId",type:{type:"String"}},{id:4,name:"startDate",type:{type:"Number"}},{id:5,name:"endDate",type:{type:"Number"}},{id:3,name:"statusName",type:{type:"String"}}]}}}]},"m/rank/PtlGetRankPrizeList/ReqGetRankPrizeList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"rankInfoId",type:{type:"String"}}]},"m/rank/PtlGetRankPrizeList/ResGetRankPrizeList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"list",type:{type:"Array",elementType:{type:"Reference",target:"../dbItems/rank/DbRankPrize/DbRankPrize"}}}]},"m/rank/PtlGetUserRankList/ReqGetUserRankList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"rankInfoId",type:{type:"String"},optional:!0},{id:1,name:"current",type:{type:"Number"}},{id:2,name:"pageSize",type:{type:"Number"}}]},"m/rank/PtlGetUserRankList/ResGetUserRankList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"list",type:{type:"Array",elementType:{type:"Interface",properties:[{id:0,name:"uid",type:{type:"String"}},{id:1,name:"nickname",type:{type:"String"}},{id:2,name:"avatar",type:{type:"String"}},{id:3,name:"rankNo",type:{type:"Number"}},{id:4,name:"value",type:{type:"Number"}},{id:5,name:"prize",type:{type:"Array",elementType:{type:"Reference",target:"../common/PrizeField/PrizeField"}},optional:!0},{id:6,name:"received",type:{type:"Boolean"}},{id:7,name:"receivedDate",type:{type:"Number"},optional:!0}]}}},{id:1,name:"myRank",type:{type:"Interface",properties:[{id:0,name:"uid",type:{type:"String"}},{id:1,name:"nickname",type:{type:"String"}},{id:2,name:"avatar",type:{type:"String"}},{id:3,name:"rankNo",type:{type:"Number"}},{id:4,name:"value",type:{type:"Number"}},{id:5,name:"prize",type:{type:"Array",elementType:{type:"Reference",target:"../common/PrizeField/PrizeField"}},optional:!0},{id:6,name:"received",type:{type:"Boolean"}},{id:7,name:"receivedDate",type:{type:"Number"},optional:!0}]}}]},"m/task/PtlGetTask/ReqGetTask":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"activityId",type:{type:"String"}},{id:1,name:"taskId",type:{type:"String"}}]},"m/task/PtlGetTask/ResGetTask":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"data",type:{type:"Interface",properties:[{id:0,name:"taskId",type:{type:"String"}},{id:1,name:"autoReceive",type:{type:"Boolean"}},{id:2,name:"autoActive",type:{type:"Boolean"}},{id:3,name:"taskProgress",type:{type:"Interface",properties:[{id:0,name:"taskState",type:{type:"Reference",target:"../constant/task/TaskType/ETaskState"}},{id:1,name:"progressIndex",type:{type:"Number"}},{id:2,name:"completeValue",type:{type:"Number"}}]}},{id:4,name:"basicInfo",type:{type:"Interface",properties:[{id:0,name:"title",type:{type:"String"}},{id:1,name:"describe",type:{type:"String"}},{id:2,name:"icon",type:{type:"String"}},{id:3,name:"reward",type:{type:"Array",elementType:{type:"Reference",target:"../constant/task/TaskConfig./IRewardItem"}}}]}},{id:5,name:"detailInfo",type:{type:"Array",elementType:{type:"Reference",target:"../constant/task/Interface/ITaskContentInfo"}}},{id:6,name:"taskLife",type:{type:"Interface",properties:[{id:0,name:"refreshType",type:{type:"Reference",target:"../constant/task/TaskRefreshType/ETaskRefreshType"}},{id:1,name:"showTime",type:{type:"Tuple",elementTypes:[{type:"Number"},{type:"Number"}]},optional:!0},{id:2,name:"enableTime",type:{type:"Tuple",elementTypes:[{type:"Number"},{type:"Number"}]},optional:!0}]}}]}}]},"../constant/task/TaskType/ETaskState":{type:"Enum",members:[{id:0,value:"unEnable"},{id:1,value:"unStart"},{id:2,value:"inTask"},{id:3,value:"receiveAward"},{id:4,value:"finished"}]},"../constant/task/TaskConfig./IRewardItem":{type:"Interface",properties:[{id:0,name:"rewardId",type:{type:"String"}},{id:1,name:"rewardName",type:{type:"String"}},{id:2,name:"rewardType",type:{type:"String"}},{id:3,name:"rewardValue",type:{type:"Number"}},{id:4,name:"rewardPic",type:{type:"String"}}]},"../constant/task/Interface/ITaskContentInfo":{type:"Union",members:[{id:0,type:{type:"Reference",target:"../constant/task/Interface/ITaskDialogInfo"}},{id:1,type:{type:"Reference",target:"../constant/task/Interface/ITaskOperateInfo"}}]},"../constant/task/Interface/ITaskDialogInfo":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"../constant/task/Interface/ITaskDetailBaseInfo"}}],properties:[{id:0,name:"taskType",type:{type:"Literal",literal:"dialog"}},{id:1,name:"dialogList",type:{type:"Array",elementType:{type:"Interface",properties:[{id:0,name:"targetType",type:{type:"Union",members:[{id:0,type:{type:"Literal",literal:"npc"}},{id:1,type:{type:"Literal",literal:"myself"}},{id:2,type:{type:"Literal",literal:"none"}}]},optional:!0},{id:1,name:"targetId",type:{type:"String"},optional:!0},{id:2,name:"text",type:{type:"String"}}]}}}]},"../constant/task/Interface/ITaskDetailBaseInfo":{type:"Interface",properties:[{id:0,name:"triggerType",type:{type:"Reference",target:"../constant/task/TaskConfig./ETriggerType"},optional:!0},{id:1,name:"triggerId",type:{type:"String"},optional:!0}]},"../constant/task/TaskConfig./ETriggerType":{type:"Enum",members:[{id:3,value:"none"},{id:0,value:"npc"},{id:1,value:"landmark"},{id:2,value:"area"}]},"../constant/task/TaskType/ETaskType":{type:"Enum",members:[{id:0,value:"dialog"},{id:1,value:"operate"}]},"../constant/task/Interface/ITaskOperateInfo":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"../constant/task/Interface/ITaskDetailBaseInfo"}}],properties:[{id:0,name:"taskType",type:{type:"Literal",literal:"operate"}},{id:1,name:"operateType",type:{type:"String"}},{id:2,name:"operateValue",type:{type:"Number"}},{id:3,name:"operateTarget",type:{type:"String"},optional:!0}]},"../constant/task/TaskRefreshType/ETaskRefreshType":{type:"Enum",members:[{id:0,value:"always"},{id:1,value:"daily"},{id:2,value:"once"},{id:3,value:"weekly"},{id:4,value:"monthly"},{id:5,value:"yearly"}]},"m/task/PtlGetTaskList/ReqGetTaskList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"activityId",type:{type:"String"}}]},"m/task/PtlGetTaskList/ResGetTaskList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:1,name:"list",type:{type:"Array",elementType:{type:"Interface",properties:[{id:0,name:"taskId",type:{type:"String"}},{id:1,name:"autoReceive",type:{type:"Boolean"}},{id:2,name:"autoActive",type:{type:"Boolean"}},{id:3,name:"taskProgress",type:{type:"Interface",properties:[{id:0,name:"taskState",type:{type:"Reference",target:"../constant/task/TaskType/ETaskState"}},{id:1,name:"progressIndex",type:{type:"Number"}},{id:2,name:"completeValue",type:{type:"Number"}}]}},{id:4,name:"basicInfo",type:{type:"Interface",properties:[{id:0,name:"title",type:{type:"String"}},{id:1,name:"describe",type:{type:"String"}},{id:2,name:"icon",type:{type:"String"}},{id:3,name:"reward",type:{type:"Array",elementType:{type:"Reference",target:"../constant/task/TaskConfig./IRewardItem"}}}]}},{id:5,name:"detailInfo",type:{type:"Array",elementType:{type:"Reference",target:"../constant/task/Interface/ITaskContentInfo"}}},{id:6,name:"taskLife",type:{type:"Interface",properties:[{id:0,name:"refreshType",type:{type:"Reference",target:"../constant/task/TaskRefreshType/ETaskRefreshType"}},{id:1,name:"showTime",type:{type:"Tuple",elementTypes:[{type:"Number"},{type:"Number"}]},optional:!0},{id:2,name:"enableTime",type:{type:"Tuple",elementTypes:[{type:"Number"},{type:"Number"}]},optional:!0}]}}]}}}]},"m/task/PtlTaskUserReceive/ReqTaskUserReceive":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"activityId",type:{type:"String"}},{id:1,name:"taskId",type:{type:"String"}}]},"m/task/PtlTaskUserReceive/ResTaskUserReceive":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"taskProgress",type:{type:"Interface",properties:[{id:0,name:"taskState",type:{type:"Reference",target:"../constant/task/TaskType/ETaskState"}},{id:1,name:"progressIndex",type:{type:"Number"}},{id:2,name:"completeValue",type:{type:"Number"}}]}}]},"m/task/PtlTaskUserReport/ReqTaskUserReport":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"activityId",type:{type:"String"}},{id:1,name:"taskId",type:{type:"String"}},{id:2,name:"data",type:{type:"Interface",properties:[{id:0,name:"index",type:{type:"Number"}},{id:1,name:"value",type:{type:"Number"}}]}}]},"m/task/PtlTaskUserReport/ResTaskUserReport":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:1,name:"taskProgress",type:{type:"Interface",properties:[{id:0,name:"taskState",type:{type:"Reference",target:"../constant/task/TaskType/ETaskState"}},{id:1,name:"progressIndex",type:{type:"Number"}},{id:2,name:"completeValue",type:{type:"Number"}}]}}]},"m/task/PtlTaskUserReward/ReqTaskUserReward":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"activityId",type:{type:"String"}},{id:1,name:"taskId",type:{type:"String"}}]},"m/task/PtlTaskUserReward/ResTaskUserReward":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"taskProgress",type:{type:"Interface",properties:[{id:0,name:"taskState",type:{type:"Reference",target:"../constant/task/TaskType/ETaskState"}},{id:1,name:"progressIndex",type:{type:"Number"}},{id:2,name:"completeValue",type:{type:"Number"}}]}},{id:1,name:"reward",type:{type:"Array",elementType:{type:"Reference",target:"../constant/task/TaskConfig./IRewardItem"}}}]},"m/test/PtlLogin/ReqLogin":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}],properties:[{id:0,name:"uid",type:{type:"String"}},{id:1,name:"nickname",type:{type:"String"}},{id:2,name:"avatar",type:{type:"String"}}]},"m/test/PtlLogin/ResLogin":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}]},"m/test/PtlTest/ReqTest":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}]},"m/test/PtlTest/ResTest":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"data",type:{type:"Any"}}]},"m/user/PtlGetAccount/ReqGetAccount":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}]},"m/user/PtlGetAccount/ResGetAccount":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"data",type:{type:"Interface",properties:[{id:0,name:"account",type:{type:"Interface",properties:[{id:0,name:"times",type:{type:"Number"}},{id:1,name:"draw",type:{type:"Number"}},{id:2,name:"point",type:{type:"Number"}},{id:3,name:"drawMoney",type:{type:"Number"}}]}},{id:1,name:"propsAccount",type:{type:"Interface",properties:[{id:0,name:"gameProp_1",type:{type:"Number"}},{id:1,name:"gameProp_2",type:{type:"Number"}},{id:2,name:"gameProp_3",type:{type:"Number"}},{id:3,name:"gameProp_4",type:{type:"Number"}}]}}]}}]},"m/user/PtlGetUserAccountHistory/ReqGetUserAccountHistory":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}},{id:1,type:{type:"Reference",target:"Base/BasePageRequest"}}],properties:[{id:0,name:"activityId",type:{type:"String"}},{id:1,name:"accountType",type:{type:"Reference",target:"../constant/AccountType/AccountType"}}]},"Base/BasePageRequest":{type:"Interface",properties:[{id:0,name:"pageSize",type:{type:"Number"}},{id:1,name:"pageNumber",type:{type:"Number"}}]},"m/user/PtlGetUserAccountHistory/ResGetUserAccountHistory":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}},{id:1,type:{type:"Reference",target:"Base/BasePageResponse"}}],properties:[{id:0,name:"list",type:{type:"Array",elementType:{type:"Interface",properties:[{id:0,name:"amount",type:{type:"Number"}},{id:1,name:"createTime",type:{type:"Number"}},{id:2,name:"tips",type:{type:"String"},optional:!0}]}}}]},"Base/BasePageResponse":{type:"Interface",properties:[{id:0,name:"total",type:{type:"Number"}},{id:1,name:"totalPage",type:{type:"Number"}},{id:2,name:"pageNumber",type:{type:"Number"}}]},"m/user/PtlGetUserInfo/ReqGetUserInfo":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseRequest"}}]},"m/user/PtlGetUserInfo/ResGetUserInfo":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"Base/BaseResponse"}}],properties:[{id:0,name:"userInfo",type:{type:"Interface",properties:[{id:2,name:"uid",type:{type:"String"}},{id:0,name:"nickname",type:{type:"String"}},{id:1,name:"avatar",type:{type:"String"}}]}}]}}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ShippingMethod.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"bfe61F7uFhAuZizWoOZ7+N2","ShippingMethod",void 0);e("ShippingMethodType",function(e){return e.NO_NEED_SHIP="NO_NEED_SHIP",e.USER_INPUT_ADDRESS="USER_INPUT_ADDRESS",e}({}));e("ShippingMethodTypeName",{NO_NEED_SHIP:"无需发货",USER_INPUT_ADDRESS:"用户填写收货地址"});t._RF.pop()}}}));

System.register("chunks:///_virtual/SkillLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventUtil.ts","./NodeUtil.ts","./TimeUtil.ts","./AudioManage.ts","./PanelBaseOrigin.ts","./StaticLayer.ts","./GameGlobal.ts","./GlobalManager.ts","./AccountType.ts","./GameLogic.ts"],(function(e){var t,i,s,a,n,r,l,o,u,h,c,y,p,b,B,f,m,g,d,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){s=e.cclegacy,a=e.Label,n=e.Button,r=e.Sprite,l=e.Node,o=e.SpriteFrame,u=e._decorator},function(e){h=e.default},function(e){c=e.NodeUtil},function(e){y=e.TimeUtil},function(e){p=e.AudioManage,b=e.SoundList},function(e){B=e.default},function(e){f=e.default},function(e){m=e.GameGlobal},function(e){g=e.default},function(e){d=e.EPropsType},function(e){T=e.GameLogic}],execute:function(){var S,k,w,_,C,L,v,z,P,F,I,N,x,A,G,H,D,M,O,W,U,E,R,X,j,J,K,V,Y,$,q,Q,Z,ee,te,ie,se,ae,ne,re,le,oe,ue,he,ce,ye;s._RF.push({},"01ac0WKu4BN1I1m/oAJbTIW","SkillLayer",void 0);const{ccclass:pe,property:be}=u;e("default",(S=be(a),k=be(n),w=be(n),_=be(r),C=be(r),L=be(a),v=be(a),z=be(n),P=be(n),F=be(a),I=be(a),N=be(n),x=be(r),A=be(a),G=be(a),H=be(n),D=be(n),M=be(l),O=be(l),W=be([o]),U=be([o]),E=be([l]),pe((j=t((X=class extends B{constructor(){super(...arguments),i(this,"propNLabel",j,this),i(this,"useBtn",J,this),i(this,"buyCancel",K,this),i(this,"buySprite",V,this),i(this,"buyTitleSprite",Y,this),i(this,"buyHintTxt",$,this),i(this,"buyTitleTxt",q,this),i(this,"scoreBuyBtn",Q,this),i(this,"moneyBuyBtn",Z,this),i(this,"scoreLabel",ee,this),i(this,"moneyLabel",te,this),i(this,"shareCancel",ie,this),i(this,"shareSprite",se,this),i(this,"shareHintTxt",ae,this),i(this,"shareTitleTxt",ne,this),i(this,"shareBtn",re,this),i(this,"buyBtn",le,this),i(this,"shareOrBuy",oe,this),i(this,"buyLayer",ue,this),i(this,"propSpriteFrames",he,this),i(this,"titleSpriteFrames",ce,this),i(this,"skillNodeArr",ye,this),this.skillType=void 0,this.successCallback=void 0,this.failCallback=void 0,this._scorePrice=0,this.lastSkillType=0,this._buyButtonInfo=void 0}get propType(){return d["gameProp_"+this.skillType]}onLoad(){}start(){c.ListenBtnsClick([this.buyCancel,this.shareCancel,this.buyBtn,this.shareBtn,this.scoreBuyBtn,this.moneyBuyBtn,this.useBtn],(async(e,t)=>{switch(e.node.name){case"shareCancel":this.onCloseTouch();break;case"shareBtn":await m.instance.share(this.propType);break;case"buyBtn":this._showBuyLayer();break;case"buyCancel":this._hideBuyLayer();break;case"scoreBuyBtn":this._scoreBuy();break;case"moneyBuyBtn":this._moneyBuy();break;case"useBtn":this._useProp()}}),this)}onEnable(){super.onEnable(),h.on("buyOrShareCallback",(e=>{"gameProp_1"!=e.key&&"gameProp_2"!=e.key&&"gameProp_3"!=e.key&&"gameProp_4"!=e.key||e.isSuccess&&(this._hideBuyLayer(),this._updateBuyInfo())})),T.instance.pauseGame()}onDisable(){h.targetOff(this),T.instance.resumeGame()}async showSkillHint(e){this.node.active=!0,this.buyLayer.active=!1,this.shareOrBuy.active=!0,this.skillType=e.type,this.successCallback=e.success,this.failCallback=e.fail;const t=this.getButtonConfig();this.shareBtn.node.active=t.share,this.buyBtn.node.active=t.buy,this.showSkillTypeNode(e),this.shareHintTxt.string=e.hintContent,this.shareSprite.spriteFrame=this.propSpriteFrames[this.skillType-1],this.buyTitleTxt.string=e.title,this.buyHintTxt.string=e.hintContent,this.buySprite.spriteFrame=this.propSpriteFrames[this.skillType-1],this.buyTitleSprite.spriteFrame=this.titleSpriteFrames[this.skillType-1],this._updateBuyInfo()}showSkillTypeNode(e){this.skillNodeArr[this.lastSkillType].active=!1,this.lastSkillType=e.type-1,this.skillNodeArr[e.type-1].active=!0,this.skillNodeArr[e.type-1].getChildByName("contentLab").getComponent(a).string=e.hintContent}async _updateBuyInfo(){this.scoreBuyBtn.node.active=!1,this.moneyBuyBtn.node.active=!1,this.useBtn.node.active=!1;const e=m.instance.gamePropConfig[this.propType];this.useBtn.node.active=e.value>0,this.propNLabel.string=`${e.value.toString()}`;const t=await this.getBuyInfo(!0);return!!t&&(!this.isValid||(this.moneyLabel.string=t?.amount.toString()||"0",this.scoreLabel.string=t?.score.toString()||"0",this.scoreBuyBtn.node.active=!!t?.score,this.moneyBuyBtn.node.active=!!t?.amount,!0))}_showBuyLayer(){y.soloFunction((async()=>{this._buyButtonInfo||await this._updateBuyInfo()?this.buyLayer.active=!0:g.moduleManager("uiPopupManager").showTips("道具购买信息获取失败！")}),"_showBuyLayer")}_hideBuyLayer(){this.buyLayer.active=!1}async _scoreBuy(){const e=this._buyButtonInfo;await m.instance.gameServer.useScoreBuyProp(this.propType,e.score)&&this._useProp()}_moneyBuy(){this._buyButtonInfo.amount?m.instance.pay(this.propType):m.instance.share()}async _useProp(){const e=await m.instance.gameServer.useProp(this.propType);this._updateBuyInfo(),e&&this.closeWithSuccess()}getButtonConfig(){return m.instance.gamePropConfig[this.propType]}async getBuyInfo(e){return void 0===e&&(e=!1),this._buyButtonInfo&&!e||(this._buyButtonInfo=await m.instance.gameServer.getPropPrice(this.propType)),this._buyButtonInfo}async onYesTouch(){p.playSFX(b.click)}onCloseTouch(){this.closeWithFail(),p.playSFX(b.click)}onDestroy(){f.Instance.setSkillStatic(null)}closeWithSuccess(){this.successCallback&&this.successCallback(),this.onClose(),T.instance.addDifficulty&&T.instance.addDifficulty--}closeWithFail(){this.failCallback&&this.failCallback(),this.onClose()}}).prototype,"propNLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(X.prototype,"useBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(X.prototype,"buyCancel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(X.prototype,"buySprite",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(X.prototype,"buyTitleSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(X.prototype,"buyHintTxt",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(X.prototype,"buyTitleTxt",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(X.prototype,"scoreBuyBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(X.prototype,"moneyBuyBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(X.prototype,"scoreLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(X.prototype,"moneyLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(X.prototype,"shareCancel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(X.prototype,"shareSprite",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(X.prototype,"shareHintTxt",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(X.prototype,"shareTitleTxt",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(X.prototype,"shareBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(X.prototype,"buyBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(X.prototype,"shareOrBuy",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(X.prototype,"buyLayer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=t(X.prototype,"propSpriteFrames",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=t(X.prototype,"titleSpriteFrames",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ye=t(X.prototype,"skillNodeArr",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=X))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/SocketBase.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"49146ahAmtIz7z7OFUwN0Hy","SocketBase",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/socketServiceProto.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b9c4ezCtg9PCqSPxPw0z2xD","socketServiceProto",void 0);e("serviceProto",{version:25,services:[{id:0,name:"room/clientMsg/Chat",type:"msg"},{id:1,name:"room/clientMsg/Move",type:"msg"},{id:15,name:"room/clientMsg/Relay",type:"msg"},{id:17,name:"room/friend/AddFriendApply",type:"api",conf:{}},{id:18,name:"room/friend/AddFriendProcess",type:"api",conf:{}},{id:19,name:"room/friend/DeleteFriend",type:"api",conf:{}},{id:20,name:"room/friend/GetFriendList",type:"api",conf:{}},{id:2,name:"room/ChangeUserInfo",type:"api",conf:{}},{id:3,name:"room/ExitRoom",type:"api",conf:{}},{id:27,name:"room/GetOfflineMessage",type:"api",conf:{}},{id:5,name:"room/JoinRoom",type:"api",conf:{}},{id:6,name:"room/SetMic",type:"api",conf:{}},{id:7,name:"room/SetSeat",type:"api",conf:{}},{id:25,name:"room/serverMsg/BusinessCardNotice",type:"msg"},{id:8,name:"room/serverMsg/ChangeUserInfoNotice",type:"msg"},{id:9,name:"room/serverMsg/ChatNotice",type:"msg"},{id:10,name:"room/serverMsg/ExitRoomNotice",type:"msg"},{id:26,name:"room/serverMsg/FriendNotice",type:"msg"},{id:11,name:"room/serverMsg/JoinRoomNotice",type:"msg"},{id:12,name:"room/serverMsg/MoveNotice",type:"msg"},{id:16,name:"room/serverMsg/RelayNotice",type:"msg"},{id:13,name:"room/serverMsg/SetMicNotice",type:"msg"},{id:14,name:"room/serverMsg/SetSeatNotice",type:"msg"},{id:21,name:"room/userBusinessCard/GetUserBusinessCard",type:"api",conf:{}},{id:22,name:"room/userBusinessCard/SaveUserBusinessCard",type:"api",conf:{}},{id:23,name:"room/userBusinessCard/SwitchUserBusinessCardApply",type:"api",conf:{}},{id:24,name:"room/userBusinessCard/SwitchUserBusinessProcess",type:"api",conf:{}}],types:{"room/clientMsg/MsgChat/MsgChat":{type:"Reference",target:"../constant/room/RoomChatMessage/IRoomChatUserMessage"},"../constant/room/RoomChatMessage/IRoomChatUserMessage":{type:"Interface",properties:[{id:0,name:"receiverIds",type:{type:"Array",elementType:{type:"String"}},optional:!0},{id:1,name:"content",type:{type:"Reference",target:"../constant/room/RoomChat/IRoomChat"}}]},"../constant/room/RoomChat/IRoomChat":{type:"Interface",properties:[{id:2,name:"chatId",type:{type:"String"}},{id:3,name:"text",type:{type:"String"}},{id:1,name:"chatType",type:{type:"Reference",target:"../constant/room/RoomChat/EChatType"}}]},"../constant/room/RoomChat/EChatType":{type:"Enum",members:[{id:4,value:"world"},{id:5,value:"room"},{id:1,value:"private"},{id:6,value:"friend"}]},"room/clientMsg/MsgMove/MsgMove":{type:"Reference",target:"../constant/room/RoomMoveMessage/IRoomUserMoveMessage"},"../constant/room/RoomMoveMessage/IRoomUserMoveMessage":{type:"Interface",properties:[{id:0,name:"content",type:{type:"Array",elementType:{type:"Intersection",members:[{id:2,type:{type:"Reference",target:"../constant/room/RoomUser/IUserStateMove"}},{id:1,type:{type:"Interface",properties:[{id:0,name:"inteval",type:{type:"Number"}}]}}]}}},{id:1,name:"firstMessageTime",type:{type:"Number"}}]},"../constant/room/RoomUser/IUserStateMove":{type:"Interface",properties:[{id:0,name:"pos",type:{type:"Array",elementType:{type:"Number"}}},{id:1,name:"angle",type:{type:"Array",elementType:{type:"Number"}}},{id:2,name:"action",type:{type:"Number"},optional:!0}]},"room/clientMsg/MsgRelay/MsgRelay":{type:"Reference",target:"../constant/room/RoomRelayMessage/IRoomRelayMessage"},"../constant/room/RoomRelayMessage/IRoomRelayMessage":{type:"Interface",properties:[{id:0,name:"relayType",type:{type:"Reference",target:"../constant/room/RoomRelayMessage/ERelayType"}},{id:1,name:"receiverIds",type:{type:"Array",elementType:{type:"String"}},optional:!0},{id:2,name:"data",type:{type:"Any"}}]},"../constant/room/RoomRelayMessage/ERelayType":{type:"Enum",members:[{id:0,value:"world"},{id:1,value:"room"}]},"room/friend/PtlAddFriendApply/ReqAddFriendApply":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseRequest"}}],properties:[{id:0,name:"toUid",type:{type:"String"}}]},"SocketBase/BaseRequest":{type:"Interface"},"room/friend/PtlAddFriendApply/ResAddFriendApply":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseResponse"}}]},"SocketBase/BaseResponse":{type:"Interface"},"room/friend/PtlAddFriendProcess/ReqAddFriendProcess":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseRequest"}}],properties:[{id:0,name:"uid",type:{type:"String"}},{id:1,name:"toUid",type:{type:"String"}},{id:2,name:"isAgree",type:{type:"Boolean"}}]},"room/friend/PtlAddFriendProcess/ResAddFriendProcess":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseResponse"}}]},"room/friend/PtlDeleteFriend/ReqDeleteFriend":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseRequest"}}],properties:[{id:0,name:"toUid",type:{type:"String"}}]},"room/friend/PtlDeleteFriend/ResDeleteFriend":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseResponse"}}]},"room/friend/PtlGetFriendList/ReqGetFriendList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseRequest"}}]},"room/friend/PtlGetFriendList/ResGetFriendList":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseResponse"}}],properties:[{id:0,name:"list",type:{type:"Array",elementType:{type:"Interface",properties:[{id:0,name:"friendUid",type:{type:"String"}},{id:1,name:"friendAvatar",type:{type:"String"}},{id:2,name:"friendNickname",type:{type:"String"}},{id:3,name:"online",type:{type:"Boolean"}}]}}}]},"room/PtlChangeUserInfo/ReqChangeUserInfo":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseRequest"}}],properties:[{id:0,name:"data",type:{type:"Reference",target:"../constant/room/RoomUser/IUserStateChangeUserInfo"}}]},"../constant/room/RoomUser/IUserStateChangeUserInfo":{type:"Reference",target:"../constant/UserInfo/IUserInfoBase"},"../constant/UserInfo/IUserInfoBase":{type:"Interface",properties:[{id:0,name:"sex",type:{type:"Reference",target:"../constant/UserInfo/EUserSex"},optional:!0},{id:1,name:"nickname",type:{type:"String"},optional:!0},{id:2,name:"avatar",type:{type:"String"},optional:!0},{id:3,name:"dressData",type:{type:"Reference",target:"../constant/DressDeclare/IDressData"},optional:!0}]},"../constant/UserInfo/EUserSex":{type:"Enum",members:[{id:0,value:"female"},{id:1,value:"male"}]},"../constant/DressDeclare/IDressData":{type:"Interface",properties:[{id:0,name:"sex",type:{type:"Reference",target:"../constant/DressDeclare/EDressSex"}},{id:1,name:"parts",type:{type:"Interface",indexSignature:{keyType:"String",type:{type:"Number"}}}}]},"../constant/DressDeclare/EDressSex":{type:"Enum",members:[{id:0,value:"female"},{id:1,value:"male"}]},"room/PtlChangeUserInfo/ResChangeUserInfo":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseResponse"}}]},"room/PtlExitRoom/ReqExitRoom":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseRequest"}}]},"room/PtlExitRoom/ResExitRoom":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseResponse"}}]},"room/PtlGetOfflineMessage/ReqGetOfflineMessage":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseRequest"}}],properties:[{id:0,name:"size",type:{type:"Number"}}]},"room/PtlGetOfflineMessage/ResGetOfflineMessage":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseResponse"}}],properties:[{id:0,name:"hasNext",type:{type:"Boolean"}},{id:1,name:"list",type:{type:"Array",elementType:{type:"Reference",target:"../constant/room/OfflineMessage/TOfflineMessage"}}}]},"../constant/room/OfflineMessage/TOfflineMessage":{type:"Union",members:[{id:0,type:{type:"Reference",target:"../constant/room/OfflineMessage/IOfflineMessage_FriendChat"}},{id:1,type:{type:"Reference",target:"../constant/room/OfflineMessage/IOfflineMessage_BusinessCardNotice"}},{id:2,type:{type:"Reference",target:"../constant/room/OfflineMessage/IOfflineMessage_FriendNotice"}}]},"../constant/room/OfflineMessage/IOfflineMessage_FriendChat":{type:"Interface",properties:[{id:0,name:"type",type:{type:"Literal",literal:"FriendChat"}},{id:1,name:"serverTime",type:{type:"Number"}},{id:2,name:"data",type:{type:"Reference",target:"../constant/room/RoomChatMessage/IRoomChatMessageInfo"}}]},"../constant/room/RoomChatMessage/IRoomChatMessageInfo":{type:"Interface",properties:[{id:3,name:"senderId",type:{type:"String"}},{id:1,name:"content",type:{type:"Reference",target:"../constant/room/RoomChat/IRoomChat"}},{id:2,name:"serverTime",type:{type:"Number"}}]},"../constant/room/OfflineMessage/IOfflineMessage_BusinessCardNotice":{type:"Interface",properties:[{id:0,name:"type",type:{type:"Literal",literal:"BusinessCardNotice"}},{id:1,name:"serverTime",type:{type:"Number"}},{id:2,name:"data",type:{type:"Reference",target:"../constant/userBusinessCard/UserBusinessCardMessage/IBusinessCardMessageBroadcast"}}]},"../constant/userBusinessCard/UserBusinessCardMessage/IBusinessCardMessageBroadcast":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"../constant/userBusinessCard/UserBusinessCardMessage/IBusinessCardMessage"}}],properties:[{id:0,name:"uid",type:{type:"String"}}]},"../constant/userBusinessCard/UserBusinessCardMessage/IBusinessCardMessage":{type:"Interface",properties:[{id:0,name:"operateType",type:{type:"Reference",target:"../constant/userBusinessCard/UserBusinessCardMessage/EBusinessCardOperateType"}},{id:1,name:"toUid",type:{type:"String"}}]},"../constant/userBusinessCard/UserBusinessCardMessage/EBusinessCardOperateType":{type:"Enum",members:[{id:0,value:"apply"},{id:1,value:"agree"},{id:2,value:"unAgree"},{id:3,value:"delete"}]},"../constant/room/OfflineMessage/IOfflineMessage_FriendNotice":{type:"Interface",properties:[{id:0,name:"type",type:{type:"Literal",literal:"FriendNotice"}},{id:1,name:"serverTime",type:{type:"Number"}},{id:2,name:"data",type:{type:"Reference",target:"../constant/friend/FriendMessage/IFriendMessageBroadcast"}}]},"../constant/friend/FriendMessage/IFriendMessageBroadcast":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"../constant/friend/FriendMessage/IFriendMessage"}}],properties:[{id:0,name:"uid",type:{type:"String"}}]},"../constant/friend/FriendMessage/IFriendMessage":{type:"Interface",properties:[{id:0,name:"operateType",type:{type:"Reference",target:"../constant/friend/FriendMessage/EFriendOperateType"}},{id:1,name:"toUid",type:{type:"String"}}]},"../constant/friend/FriendMessage/EFriendOperateType":{type:"Enum",members:[{id:0,value:"add"},{id:1,value:"agree"},{id:2,value:"unAgree"},{id:3,value:"delete"}]},"room/PtlJoinRoom/ReqJoinRoom":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseRequest"}}],properties:[{id:0,name:"uid",type:{type:"String"}},{id:1,name:"roomId",type:{type:"String"}}]},"room/PtlJoinRoom/ResJoinRoom":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseResponse"}}],properties:[{id:0,name:"users",type:{type:"Array",elementType:{type:"Reference",target:"../constant/room/RoomUser/IRoomUser"}}}]},"../constant/room/RoomUser/IRoomUser":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"../constant/UserInfo/IUserInfo"}}],properties:[{id:0,name:"state",type:{type:"Reference",target:"../constant/room/RoomUser/IUserAllState"}}]},"../constant/UserInfo/IUserInfo":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"../constant/UserInfo/IUserInfoBase"}}],properties:[{id:0,name:"uid",type:{type:"String"}}]},"../constant/room/RoomUser/IUserAllState":{type:"Intersection",members:[{id:0,type:{type:"Reference",target:"../constant/room/RoomUser/IUserStateMove"}},{id:1,type:{type:"Reference",target:"../constant/room/RoomUser/IUserStateMic"}},{id:2,type:{type:"Reference",target:"../constant/room/RoomUser/IUserStateSeat"}}]},"../constant/room/RoomUser/IUserStateMic":{type:"Interface",properties:[{id:0,name:"micId",type:{type:"String"}}]},"../constant/room/RoomUser/IUserStateSeat":{type:"Interface",properties:[{id:0,name:"seatId",type:{type:"String"}}]},"room/PtlSetMic/ReqSetMic":{type:"Intersection",members:[{id:0,type:{type:"Reference",target:"SocketBase/BaseRequest"}},{id:1,type:{type:"Reference",target:"../constant/room/RoomUserMessage/IRoomMicUserMessage"}}]},"../constant/room/RoomUserMessage/IRoomMicUserMessage":{type:"Reference",target:"../constant/room/RoomUser/IUserStateMic"},"room/PtlSetMic/ResSetMic":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseResponse"}}]},"room/PtlSetSeat/ReqSetSeat":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseRequest"}},{id:1,type:{type:"Reference",target:"../constant/room/RoomUserMessage/IRoomSeatUserMessage"}}]},"../constant/room/RoomUserMessage/IRoomSeatUserMessage":{type:"Reference",target:"../constant/room/RoomUser/IUserStateSeat"},"room/PtlSetSeat/ResSetSeat":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseResponse"}}]},"room/serverMsg/MsgBusinessCardNotice/MsgBusinessCardNotice":{type:"Reference",target:"../constant/userBusinessCard/UserBusinessCardMessage/IBusinessCardMessageBroadcast"},"room/serverMsg/MsgChangeUserInfoNotice/MsgChangeUserInfoNotice":{type:"Reference",target:"../constant/room/RoomUserMessage/IRoomChangeUserInfoMessageInfo"},"../constant/room/RoomUserMessage/IRoomChangeUserInfoMessageInfo":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"../constant/room/RoomUserMessage/IRoomChangeUserInfoUserMessage"}}],properties:[{id:0,name:"uid",type:{type:"String"}}]},"../constant/room/RoomUserMessage/IRoomChangeUserInfoUserMessage":{type:"Reference",target:"../constant/room/RoomUser/IUserStateChangeUserInfo"},"room/serverMsg/MsgChatNotice/MsgChatNotice":{type:"Interface",properties:[{id:0,name:"data",type:{type:"Array",elementType:{type:"Reference",target:"../constant/room/RoomChatMessage/IRoomChatMessageInfo"}}}]},"room/serverMsg/MsgExitRoomNotice/MsgExitRoomNotice":{type:"Interface",properties:[{id:0,name:"uid",type:{type:"String"}}]},"room/serverMsg/MsgFriendNotice/MsgFriendNotice":{type:"Reference",target:"../constant/friend/FriendMessage/IFriendMessageBroadcast"},"room/serverMsg/MsgJoinRoomNotice/MsgJoinRoomNotice":{type:"Reference",target:"../constant/room/RoomUser/IRoomUser"},"room/serverMsg/MsgMoveNotice/MsgMoveNotice":{type:"Interface",properties:[{id:0,name:"data",type:{type:"Array",elementType:{type:"Reference",target:"../constant/room/RoomMoveMessage/IRoomUserMoveMessageInfo"}}}]},"../constant/room/RoomMoveMessage/IRoomUserMoveMessageInfo":{type:"Interface",properties:[{id:0,name:"messages",type:{type:"Array",elementType:{type:"Reference",target:"../constant/room/RoomMoveMessage/IRoomUserMoveServerMessage"}}},{id:1,name:"uid",type:{type:"String"}}]},"../constant/room/RoomMoveMessage/IRoomUserMoveServerMessage":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"../constant/room/RoomMoveMessage/IRoomUserMoveMessage"}}],properties:[{id:1,name:"serverTime",type:{type:"Number"}}]},"room/serverMsg/MsgRelayNotice/MsgRelayNotice":{type:"Reference",target:"../constant/room/RoomRelayMessage/IRoomRelayMessageInfo"},"../constant/room/RoomRelayMessage/IRoomRelayMessageInfo":{type:"Interface",properties:[{id:3,name:"relayType",type:{type:"Reference",target:"../constant/room/RoomRelayMessage/ERelayType"}},{id:0,name:"senderId",type:{type:"String"}},{id:1,name:"serverTime",type:{type:"Number"}},{id:2,name:"data",type:{type:"Any"}}]},"room/serverMsg/MsgSetMicNotice/MsgSetMicNotice":{type:"Reference",target:"../constant/room/RoomUserMessage/IRoomSetMicMessageInfo"},"../constant/room/RoomUserMessage/IRoomSetMicMessageInfo":{type:"Interface",extends:[{id:2,type:{type:"Reference",target:"../constant/room/RoomUserMessage/IRoomMicUserMessage"}}],properties:[{id:0,name:"uid",type:{type:"String"}}]},"room/serverMsg/MsgSetSeatNotice/MsgSetSeatNotice":{type:"Reference",target:"../constant/room/RoomUserMessage/IRoomSetSeatMessageInfo"},"../constant/room/RoomUserMessage/IRoomSetSeatMessageInfo":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"../constant/room/RoomUserMessage/IRoomSeatUserMessage"}}],properties:[{id:0,name:"uid",type:{type:"String"}}]},"room/userBusinessCard/PtlGetUserBusinessCard/ReqGetUserBusinessCard":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseRequest"}}],properties:[{id:0,name:"toUid",type:{type:"String"},optional:!0}]},"room/userBusinessCard/PtlGetUserBusinessCard/ResGetUserBusinessCard":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseResponse"}}],properties:[{id:0,name:"data",type:{type:"Union",members:[{id:0,type:{target:{type:"Reference",target:"../dbItems/user/DbUserBusinessCard/DbUserBusinessCard"},keys:["_id"],type:"Omit"}},{id:1,type:{type:"Literal",literal:null}}]}}]},"../dbItems/user/DbUserBusinessCard/DbUserBusinessCard":{type:"Interface",properties:[{id:0,name:"_id",type:{type:"String"}},{id:1,name:"uid",type:{type:"String"}},{id:2,name:"name",type:{type:"String"}},{id:3,name:"phone",type:{type:"String"}},{id:4,name:"companyName",type:{type:"String"},optional:!0},{id:5,name:"department",type:{type:"String"},optional:!0},{id:6,name:"hobby",type:{type:"String"}},{id:7,name:"introduction",type:{type:"String"},optional:!0}]},"room/userBusinessCard/PtlSaveUserBusinessCard/ReqSaveUserBusinessCard":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseRequest"}}],properties:[{id:0,name:"data",type:{target:{type:"Reference",target:"../dbItems/user/DbUserBusinessCard/DbUserBusinessCard"},keys:["_id","uid"],type:"Omit"}}]},"room/userBusinessCard/PtlSaveUserBusinessCard/ResSaveUserBusinessCard":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseResponse"}}]},"room/userBusinessCard/PtlSwitchUserBusinessCardApply/ReqSwitchUserBusinessCardApply":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseRequest"}}],properties:[{id:0,name:"toUid",type:{type:"String"}}]},"room/userBusinessCard/PtlSwitchUserBusinessCardApply/ResSwitchUserBusinessCardApply":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseResponse"}}]},"room/userBusinessCard/PtlSwitchUserBusinessProcess/ReqSwitchUserBusinessProcess":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseRequest"}}],properties:[{id:2,name:"fromUid",type:{type:"String"}},{id:1,name:"isAgree",type:{type:"Boolean"}}]},"room/userBusinessCard/PtlSwitchUserBusinessProcess/ResSwitchUserBusinessProcess":{type:"Interface",extends:[{id:0,type:{type:"Reference",target:"SocketBase/BaseResponse"}}]}}});t._RF.pop()}}}));

System.register("chunks:///_virtual/StaticLayer.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"1e7efqWPodIn5cBblJWLWLr","StaticLayer",void 0);class a{static get Instance(){return this._ins||(this._ins=new a),this._ins}setGameStatic(t){a.GameStatic=t}setGameUIStatic(t){a.GameUIStatic=t}setSkillStatic(t){a.SkillStatic=t}setConfirmExitStatic(t){a.ConfirmExitStatic=t}}t("default",a),a._ins=null,a.GameStatic=null,a.GameUIStatic=null,a.SkillStatic=null,a.ConfirmExitStatic=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/StorageUtil.ts",["cc","./EncryptUtil2.ts"],(function(e){var t,r,l;return{setters:[function(e){t=e.sys,r=e.cclegacy},function(e){l=e.EncryptUtil}],execute:function(){r._RF.push({},"4af98xA++ZN6aQtcd98doHh","StorageUtil",void 0);class i{static init(e,t){return t&&l.initCrypto(t.key,t.iv),i._key=l.md5(t&&t.key||void 0),i._iv=l.md5(t&&t.iv||void 0),i._id=e,{key:i._key,iv:i._iv,id:i._id}}static set(e,r){let n,o=l.md5("gameData"),a=i.keyDecrypt(o)||{},c="";if(n=`${e}_${i._id}`,null!=n)if(n=l.md5(n),"function"!=typeof r){"number"==typeof r&&(r+=""),a[n]=r,null!=r&&""!=r||(console.warn("存储的值为空，则直接移除该存储"),delete a[n]);try{c=JSON.stringify(a)}catch(e){return void delete a[n]}null!=i._key&&null!=i._iv&&(c=l.aesEncrypt(`${c}`,{key:i._key,iv:i._iv})),t.localStorage.setItem(o,c)}else console.error("储存的值不能为方法");else console.error("存储的key不能为空")}static get(e,t){if(null==e)return console.error("存储的key不能为空"),null;let r,n,o=l.md5("gameData"),a=i.keyDecrypt(o,t)||{};return r=`${e}_${i._id}`,r=l.md5(r),void 0!==r&&(n=a&&a[r]),void 0===n&&void 0!==t&&(n=t),n}static getNumber(e,t){void 0===t&&(t=0);var r=i.get(e);return Number(r)||t}static getBoolean(e){var t=i.get(e);return Boolean(t)||!1}static getJson(e,t){var r=i.get(e);return r&&JSON.parse(r)||t}static clear(){t.localStorage.clear()}static keyDecrypt(e,r){let n={},o=t.localStorage.getItem(e);if(null!=o&&""!==o&&null!=i._key&&null!=i._iv&&(o=l.aesDecrypt(o,{key:i._key,iv:i._iv})),null===o)return r;try{n=JSON.parse(o)}catch(t){return console.error(`解析失败，str = ${e}`),r}return n}static remove(e){null!=e?t.localStorage.removeItem(e):console.error("存储的key不能为空")}}e("default",i),i._key=null,i._iv=null,i._id="",r._RF.pop()}}}));

System.register("chunks:///_virtual/StringUtil.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"fff71edUmRI9b2i9a3Wdm0h","StringUtil",void 0);class i{static dateToFormate(t,e){let i;switch(void 0===e&&(e=""),typeof t){case"string":case"number":i=new Date(t);break;default:i=t}let r={"M+":i.getMonth()+1,"d+":i.getDate(),"h+":i.getHours(),"m+":i.getMinutes(),"s+":i.getSeconds(),"q+":Math.floor((i.getMonth()+3)/3),S:i.getMilliseconds()};for(let t in r){const i=new RegExp("("+t+")");if(i.test(e)){const a=e.match(i)[0].length;let s="";for(let t=0;t<a;t++)s+="0";e=e.replace(i,(s+r[t]).substring((""+r[t]).length))}}return e}static replaceToStr(t,e,i){return void 0===i&&(i="{}"),t.replace(i,e)}static splitStrBackUnlockCond(t){return+(t.split("|")||["","0"])[1]||0}static startsWith(t,e,i){return(t=t.substring(i)).startsWith(e)}static endsWith(t,e,i){return(t=t.substring(i)).endsWith(e)}static isAllNumberAndWord(t){return/^[A-Za-z0-9]*$/.test(t)}static isAllNumber(t){return/^[0-9]*$/.test(t)}static isAllWord(t){return/^[A-Za-z]*$/.test(t)}static getNumberByStr(t){return Number(t.replace(/[^0-9]/gi,""))}static limitStr(t,e,i){void 0===i&&(i="");for(var r="",a=0,s=0,u=t.length;s<u;){if(a++,0!=(65280&t.charCodeAt(s))&&a++,a>e){r+=i;break}r+=t.charAt(s),s++}return r}static checkPhoneAvailable(t){return!(""===t||!/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/.test(t))}static checkSpecialSymbol(t){return!t.match("[`~!@#$%^&*()+=|{}':;',\\\\[\\\\].<>/?~！@#￥%……&*（）——+|{}【】‘；：”“’。，、？-]")}static checkStringEqual(t,e){return t==e}static rejectChinese(t,e){if(""==t)return!1;let i=/[\u4e00-\u9fa5]/g;return e?t.replace(i,""):!t.match(i)}static getSuffix(t){var e=t.lastIndexOf(".");return-1==e?"":t.substring(e+1).toLowerCase()}static isImageUrl(t){return i._imageSuf.has(i.getSuffix(t))}static isVideoUrl(t){return i._videoSuf.has(i.getSuffix(t))}static isAudioUrl(t){return i._audioSuf.has(i.getSuffix(t))}static isFileUrl(t){return i._fileSuf.has(i.getSuffix(t))}static isZIP(t){return i._zipSuf.has(i.getSuffix(t))}static isRemoteUrl(t){return!!t.match(/http/)}}t("default",i),i._imageSuf=new Set(["tiff","pjp","jfif","bmp","webp","gif","svg","jpg","svgz","png","xbm","dib","jxl","jpeg","ico","tif","pjpeg","avif"]),i._videoSuf=new Set(["ogm","wmv","mpg","webm","ogv","mov","asx","mpeg","mp4","m4v","avi"]),i._audioSuf=new Set(["opus","flac","webm","weba","wav","ogg","m4a","mp3","oga","mid","amr","aiff","wma","au","acc"]),i._fileSuf=new Set(["pdf","ppt","pptx"]),i._zipSuf=new Set(["zip","rar","gzip"]),e._RF.pop()}}}));

System.register("chunks:///_virtual/SuccessPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadUtil.ts","./ActionUtil.ts","./ExchangeCenterRepeater.ts"],(function(e){var t,i,n,a,o,r,s,c,l,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e.Node,o=e.Sprite,r=e.Label,s=e._decorator,c=e.Component},function(e){l=e.default},function(e){u=e.default},function(e){p=e.default}],execute:function(){var h,d,g,f,b,C,x,y,m,w,N,k,_;n._RF.push({},"52ee0Zg1jBLyaOqKZM/HMJd","SuccessPopup",void 0);const{ccclass:P,property:v}=s;e("SuccessPopup",(h=P("SuccessPopup"),d=v(a),g=v(a),f=v(a),b=v(o),C=v(r),h((m=t((y=class extends c{constructor(){super(...arguments),i(this,"parentNode",m,this),i(this,"nextBtn",w,this),i(this,"close",N,this),i(this,"icon",k,this),i(this,"awardName",_,this),this._exchangeInfo=void 0}onLoad(){this.nextBtn.on("click",this._onClickNext,this),this.close.on("click",this.onClickClose,this)}async show(e){u.show(this.parentNode),this._updateConvertInfo(e)}async onClickClose(){await u.hide(this.parentNode),this.node.active=!1}_updateConvertInfo(e){this._exchangeInfo=e,this.awardName.string=e.prizeName,l.getSpriteFrameIntelligent(e.prizePicture,(e=>e&&this.icon&&this.icon.isValid&&(this.icon.spriteFrame=e)))}async _onClickNext(){this.onClickClose(),p.exchangeCenterManager.hideExchangeCenter(),p.bagPackManager.showBagPack(p.exchangeCenterManager.exchangeNode.parent)}}).prototype,"parentNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(y.prototype,"nextBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(y.prototype,"close",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(y.prototype,"icon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(y.prototype,"awardName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=y))||x));n._RF.pop()}}}));

System.register("chunks:///_virtual/TaskAction_operate.ts",["cc","./TaskDeclare.ts","./TaskRepeater.ts","./TaskActionBase.ts"],(function(e){var t,a,s,n;return{setters:[function(e){t=e.cclegacy},function(e){a=e.TaskContentType},function(e){s=e.TaskRepeater},function(e){n=e.default}],execute:function(){t._RF.push({},"fad21+y6mJICp/u/Ge8CzJB","TaskAction_operate",void 0);class o extends n{constructor(){super(...arguments),this.actionType=a.operate}start(e,t){s.EventUtil.emit("task_showOperate",{operate:e}),console.log("生成任务物品,具体逻辑将由业务层实现",e)}gain(e,t){}finish(e,t){}}e("TaskAction_operate",o),n.allTaskAction.operate=new o,t._RF.pop()}}}));

System.register("chunks:///_virtual/TaskActionBase.ts",["cc"],(function(t){var a;return{setters:[function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"6a8a7noB/xFraw+2w5Kq+ZS","TaskActionBase",void 0);class c{}t("default",c),c.allTaskAction={},a._RF.pop()}}}));

System.register("chunks:///_virtual/TaskConfig..ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"0df41x0GtdOdr6lyTkRRJ+k","TaskConfig.",void 0);let a=e("ETriggerType",function(e){return e.none="none",e.npc="npc",e.landmark="landmark",e.area="area",e}({}));const t=e("TriggerTypeName",{npc:"NPC",landmark:"地标点",area:"区域"}),g=(e("TriggerTypeList",[{type:a.npc,name:t.npc},{type:a.landmark,name:t.landmark},{type:a.area,name:t.area}]),e("NpcList",[{triggerId:"10001",triggerName:"NPC小胖子"},{triggerId:"10002",triggerName:"NPC小磊子"},{triggerId:"10003",triggerName:"NPC小凯子"}])),i=e("LandmarkList",[{triggerId:"11001",triggerName:"地标1"},{triggerId:"11002",triggerName:"地标2"},{triggerId:"11003",triggerName:"地标3"}]),p=e("AreaList",[{triggerId:"12001",triggerName:"地点1"},{triggerId:"12002",triggerName:"地点2"},{triggerId:"12003",triggerName:"地点3"}]);e("TriggerList",[{triggerType:a.npc,triggerTypeName:t.npc,list:g},{triggerType:a.landmark,triggerTypeName:t.landmark,list:i},{triggerType:a.area,triggerTypeName:t.area,list:p}]),e("OperateTypeList",[{operateType:"joinMember",operateTypeName:"入会",operateValue:1},{operateType:"subscribeShop",operateTypeName:"订阅",operateValue:1},{operateType:"collect",operateTypeName:"收集",operateValue:10}]),e("OperateTargetList",[{operateTarget:"football",operateTargeName:"足球"},{operateTarget:"hammer",operateTargeName:"锤子"},{operateTarget:"goods",operateTargeName:"商品",operateTargetIds:["111","222","333"]}]),e("RewardList",[{rewardId:"times001",rewardName:"次数",rewardType:"times",rewardValue:1,rewardPic:"https://xiaoailingdong.obs.myhuaweicloud.com/common/images/avatar.png"},{rewardId:"points001",rewardName:"积分",rewardType:"points",rewardValue:100,rewardPic:"https://xiaoailingdong.obs.myhuaweicloud.com/common/images/points.png"},{rewardId:"123432",rewardName:"50-1优惠券",rewardType:"coupon",rewardValue:1,rewardPic:"https://xiaoailingdong.obs.myhuaweicloud.com/common/images/hb.png"}]);r._RF.pop()}}}));

System.register("chunks:///_virtual/TaskCycleType.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"dee65LIxnhE5KTqDgyXOx2r","TaskCycleType",void 0);e("TaskCycleType",function(e){return e.ONCE="ONCE",e.DAY="DAY",e.CONTINUOUSLY="CONTINUOUSLY",e}({}));e("TaskCycleTypeName",{ONCE:"一次性任务",DAY:"每日任务",CONTINUOUSLY:"连续性任务"});c._RF.pop()}}}));

System.register("chunks:///_virtual/TaskDataControl.ts",["cc","./TaskDeclare.ts","./TaskRepeater.ts"],(function(t){var s,a,e,r,l;return{setters:[function(t){s=t.cclegacy},function(t){a=t.TaskState,e=t.TaskContentType,r=t.TaskConfig},function(t){l=t.TaskRepeater}],execute:function(){s._RF.push({},"d7d96zULJJPbbHovuL4baqw","TaskDataControl",void 0);t("default",class{get _enabledTaskList(){return this._allTaskListArr.filter((t=>"unEnable"!==t.taskProgress.taskState))}get _showTaskList(){return this._allTaskListArr.filter((t=>"unEnable"==t.taskProgress.taskState))}get _intervalTaskList(){return this._allTaskListArr.filter((t=>"finished"==t.taskProgress.taskState&&"daily"==t.taskLife.refreshType))}get autoRewardReceive(){return this._allTaskListArr.filter((t=>t.autoReceive&&t.taskProgress.taskState==a.receiveAward))}constructor(t){this._allTaskInfo={},this._allTaskListArr=[],this._allTaskOrderId={},this._allTaskOperateInfo={},this._tempUnableArr=[],this._allTaskInfo={},this._allTaskOrderId={},t.forEach(((t,s)=>{this._allTaskInfo[t.taskId]=t,this._allTaskOrderId[t.taskId]=s})),this.orderList(),this._operateTaskInfo(),setInterval(this._judgeStarted,2048)}_operateTaskInfo(){this._allTaskOperateInfo={};const t=Object.keys(this._allTaskInfo);for(var s=0;s<t.length;s++){const a=this._allTaskInfo[t[s]];a.detailInfo.forEach((t=>{t.taskType==e.operate&&(this._allTaskOperateInfo[a.taskId]={operateTarget:t.operateTarget,completeValue:a.taskProgress.completeValue,operateValue:t.operateValue})}))}}orderList(){this._allTaskListArr=[];let t={};for(const s in this._allTaskInfo){const a=this._allTaskInfo[s];t[a.taskProgress.taskState]||(t[a.taskProgress.taskState]=[]),t[a.taskProgress.taskState].push(a)}return r.listOrder.forEach((s=>{t[s]&&(this._allTaskListArr=this._allTaskListArr.concat(t[s].sort(((t,s)=>this._allTaskOrderId[t.taskId]-this._allTaskOrderId[s.taskId]))))})),this._allTaskListArr}_judgeStarted(){}getTask(t){return this._allTaskInfo[t]}getTaskProcess(t){return this._allTaskInfo[t]?.taskProgress}getOperateInfo(t){return this._allTaskOperateInfo[t]}setOperateInfo(t,s){this._allTaskOperateInfo[t]&&(this._allTaskOperateInfo[t].completeValue+=s)}getTaskListByTarget(t){return this._enabledTaskList.filter((s=>{const a=this.getTaskCurDetailInfo(s.taskId);return a&&a.taskType==e.operate&&a.operateTarget==t}))}getTaskCurDetailInfo(t){const s=this._allTaskInfo[t];return s?.taskProgress.taskState?void 0===s.taskProgress.progressIndex||s.taskProgress.progressIndex>=s.detailInfo.length?null:s.detailInfo[s.taskProgress.progressIndex]:null}changeTaskProcess(t,s){if(this._allTaskInfo[t].taskProgress=s,s.taskState,a.finished,s.taskState==a.unEnable||s.taskState==a.unStart){const s=this.getOperateInfo(t);s&&(s.completeValue=0)}this.orderList(),l.EventUtil.emit("task_DataChange",{taskId:t}),l.EventUtil.emit("task_StateChange",{taskId:t})}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/TaskDeclare.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"8f5cdqD4jNNDLqpz0e4CNHT","TaskDeclare",void 0);e("default",{TaskPanelInfo:{bundleName:"TaskBundles",path:"./TaskPanel/TaskPanel",compName:"TaskPanel"},TaskDialogInfo:{bundleName:"TaskBundles",path:"./TaskDialog/TaskDialog",compName:"TaskDialog"},TaskRewardInfo:{bundleName:"TaskBundles",path:"./TaskReward/TaskReward",compName:"TaskReward"}});let n=e("TaskState",function(e){return e.unEnable="unEnable",e.unStart="unStart",e.inTask="inTask",e.receiveAward="receiveAward",e.finished="finished",e}({}));e("TaskContentType",function(e){return e.dialog="dialog",e.operate="operate",e}({})),e("TaskDestinationType",function(e){return e[e.none=0]="none",e[e.npc=1]="npc",e[e.landmark=2]="landmark",e[e.area=3]="area",e}({})),e("TaskDialogType",function(e){return e.npc="npc",e.myself="myself",e.none="none",e}({})),e("TaskCycleType",function(e){return e.always="always",e.once="once",e.daily="daily",e.weekly="weekly",e.monthly="monthly",e.yearly="yearly",e}({}));e("TaskConfig",{listOrder:[n.receiveAward,n.inTask,n.unStart,n.unEnable,n.finished]});e("TaskAwardType",function(e){return e[e.coin=1]="coin",e[e.raffleTicket=2]="raffleTicket",e[e.playerDecoration=3]="playerDecoration",e[e.roomDecoration=4]="roomDecoration",e[e.coupon=5]="coupon",e}({}));a._RF.pop()}}}));

System.register("chunks:///_virtual/TaskDisplayBase.ts",["cc"],(function(s){var e,t,a;return{setters:[function(s){e=s.cclegacy,t=s.Component,a=s._decorator}],execute:function(){var c;e._RF.push({},"ed68flqkaRLvIs2hs3TvxRI","TaskDisplayBase",void 0);const{ccclass:i,property:n}=a;s("TaskDisplayBase",i(c=class extends t{constructor(){super(...arguments),this.takeInTaskFunc=void 0,this.doTaskFunc=void 0,this.receiveTaskFunc=void 0,this.getOperateInfoInCtr=void 0}hideSelf(){this.node.active=!1}})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/TaskInfoControl.ts",["cc","./TaskDeclare.ts","./TaskRepeater.ts","./TaskDataControl.ts"],(function(t){var a,e,o,s,r,n,i,l;return{setters:[function(t){a=t.isValid,e=t.instantiate,o=t.cclegacy},function(t){s=t.TaskContentType,r=t.TaskState,n=t.default},function(t){i=t.TaskRepeater},function(t){l=t.default}],execute:function(){o._RF.push({},"3c018huw7tKh6mLAyC6VTXP","TaskInfoControl",void 0);const{TaskDialogInfo:c,TaskPanelInfo:d,TaskRewardInfo:k}=n;t("default",class{constructor(){this._dataControl=void 0}async init(){let t=await i.getTaskList();if(!t)return i.Logger.logError("Not Configured Task Information,Please Reconfigure The NetWorks and try again"),null;this._dataControl=new l(t)}async takeTheTask(t){const a=await i.getUserReceive(t);if(!a)return!1;this._dataControl.changeTaskProcess(t,a);const e=this._dataControl.getTaskCurDetailInfo(t);return e&&e.taskType==s.dialog&&this.showDialog(t),!0}async doCurStep(t){const a=this._dataControl.getTaskCurDetailInfo(t);return!!a&&(a.taskType==s.dialog?(i.EventUtil.emit("task_showDialog",{chat:t}),console.log("启动对话")):(i.EventUtil.emit("task_showOperate",{operate:this._dataControl.getOperateInfo(t)?.operateTarget}),console.log("传送到目标位置")),!0)}async gainTarget(t,a){void 0===a&&(a=1);const e=this._dataControl.getTaskListByTarget(t);if(e&&0!=e.length)for(const o of e){this._dataControl.setOperateInfo(o.taskId,a);const e=await this._reportCurStep(o,a);e&&(o.taskProgress.progressIndex===e.progressIndex&&o.taskProgress.taskState===e.taskState||i.EventUtil.emit("task_hideOperate",{operate:t}),this._dataControl.changeTaskProcess(o.taskId,e)),e?.taskState==r.receiveAward&&o.autoReceive&&await this.showRewardInfo(o.taskId)}}async _reportCurStep(t,a){const e=this._dataControl.getTaskCurDetailInfo(t.taskId),o=this._dataControl.getTaskProcess(t.taskId);if(!e)return null;const s="operate"==e.taskType&&e.operateValue||1;console.error(`任务进度${o.progressIndex}/${t.detailInfo.length}}`,`===== ${Math.floor(o.completeValue/s*100)} % `);const n=await i.reportTaskProgress(t,a);return t.taskProgress.taskState==r.inTask&&o.progressIndex==t.detailInfo.length-1&&i.EventUtil.emit("task_WaitReward",{taskId:t.taskId}),n}async receivePrize(t){if(this._dataControl.getTaskProcess(t).taskState!==r.receiveAward)return void console.error("阶段不符合");const a=await i.receiveAward(t);return a?(console.log("获取任务奖励",a.reward),this._dataControl.changeTaskProcess(t,a.taskProgress),i.EventUtil.emit("task_receivePrize",{award:a.reward}),a.reward):void 0}async showDialog(t){var a=this;const e=this[`${d.compName}Node`],o=this._dataControl._allTaskInfo[t],s=await this._loadPrefab(o,c);return s.receiveTaskFunc=async function(t,o){void 0===o&&(o=1),await a._reportCurStep(t,o)||console.log("出错啦，请重试"),e&&(e.active=!1)},s}async showRewardInfo(t){const a=this._dataControl._allTaskInfo[t],e=await this._loadPrefab(a,k);return e.receiveTaskFunc=this.receivePrize.bind(this),e}async showTaskPanel(t){const a=await this._loadPrefab(this._dataControl._allTaskListArr,d,t);return a.takeInTaskFunc=this.takeTheTask.bind(this),a.doTaskFunc=this.doCurStep.bind(this),a.receiveTaskFunc=this.showRewardInfo.bind(this),a.getOperateInfoInCtr=this._dataControl.getOperateInfo.bind(this._dataControl),a}async _loadPrefab(t,o,s){const r=this;let n=r[`${o.compName}Node`];return await i.TimeUtil.soloFunction((async function(){if(!n||!a(n)){const t=await i.BundleUtil.loadPrefab(o.path,{bundleName:o.bundleName});t&&(n=r[`${o.compName}Node`]=e(t),i.NodeUtil.addParent(n,s))}const l=n.getComponent(o.compName);return l.onShow(t),l}),"TASK_INFO_CONTROL")}}),o._RF.pop()}}}));

System.register("chunks:///_virtual/TaskManager.ts",["cc","./ModuleUtilManagerBase.ts","./TaskInfoControl.ts"],(function(a){var t,s,n;return{setters:[function(a){t=a.cclegacy},function(a){s=a.ModuleUtilManagerBase},function(a){n=a.default}],execute:function(){t._RF.push({},"ebd38xjctdKuIQ465ZsV67N","TaskManager",void 0);a("TaskManager",class extends s{constructor(){super(...arguments),this._taskControl=void 0}async init(a){this._taskControl=new n}async showTaskDialog(a){await this._taskControl.showDialog(a)}async showRewardInfo(a){await this._taskControl.showRewardInfo(a)}async showTaskPanel(a){await this._taskControl.showTaskPanel(a)}async initTask(){await this._taskControl.init()}async takeTheTask(a){await this._taskControl.takeTheTask(a)}async doCurStep(a){return await this._taskControl.doCurStep(a)}async gainTaskItem(a,t){return void 0===t&&(t=1),await this._taskControl.gainTarget(a,t)}async receivePrize(a){return await this._taskControl.gainTarget(a)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/TaskRefreshType.ts",["cc"],(function(e){var y;return{setters:[function(e){y=e.cclegacy}],execute:function(){y._RF.push({},"12794I/bf9OCpxLMYLbqR/E","TaskRefreshType",void 0);e("ETaskRefreshType",function(e){return e.always="always",e.daily="daily",e.once="once",e.weekly="weekly",e.monthly="monthly",e.yearly="yearly",e}({}));y._RF.pop()}}}));

System.register("chunks:///_virtual/TaskRepeatDayType.ts",["cc"],(function(D){var e;return{setters:[function(D){e=D.cclegacy}],execute:function(){e._RF.push({},"efc33JHmgxHCYFZTBoj56s1","TaskRepeatDayType",void 0);D("TaskRepeatDayType",function(D){return D.MONDAY="MONDAY",D.TUESDAY="TUESDAY",D.WEDNESDAY="WEDNESDAY",D.THURSDAY="THURSDAY",D.FRIDAY="FRIDAY",D.SATURDAY="SATURDAY",D.SUNDAY="SUNDAY",D}({}));D("TaskRepeatDayTypeName",{MONDAY:"一",TUESDAY:"二",WEDNESDAY:"三",THURSDAY:"四",FRIDAY:"五",SATURDAY:"六",SUNDAY:"日"});e._RF.pop()}}}));

System.register("chunks:///_virtual/TaskRepeater.ts",["cc","./ActionUtil.ts","./EventUtil.ts","./LoadUtil.ts","./NodePoolUtil.ts","./Logger.ts","./TimeUtil.ts","./NodeUtil.ts","./ModuleManager.ts","./BundleUtil.ts"],(function(t){var e,s,a,r,i,n,c,l,o,u;return{setters:[function(t){e=t.cclegacy},function(t){s=t.default},function(t){a=t.default},function(t){r=t.default},function(t){i=t.default},function(t){n=t.Logger},function(t){c=t.TimeUtil},function(t){l=t.NodeUtil},function(t){o=t.default},function(t){u=t.default}],execute:function(){e._RF.push({},"32ced5DWa5P873yNGaEUEgX","TaskRepeater",void 0);class d{static get _serverManager(){return o.instance?.getManager("serverManager").callServer("server_System")}static async getTaskInfo(t){const e=await(this._serverManager?.callApi("m/task/GetTask",{taskId:t}));if(e?.isSucc)return e.res.data}static async getTaskList(){const t=await(this._serverManager?.callApi("m/task/GetTaskList",{}));return t?.isSucc?t.res.list:[]}static async getUserReceive(t){const e=await(this._serverManager?.callApi("m/task/TaskUserReceive",{taskId:t}));if(e?.isSucc)return e.res.taskProgress}static async reportTaskProgress(t,e){void 0===e&&(e=1);const s=await(this._serverManager?.callApi("m/task/TaskUserReport",{taskId:t.taskId,data:{index:t.taskProgress.progressIndex,value:e}}));return s?.isSucc?s.res.taskProgress:t.taskProgress}static async receiveAward(t){const e=await(this._serverManager?.callApi("m/task/TaskUserReward",{taskId:t}));return e?.isSucc?e.res:null}}t("TaskRepeater",d),d.EventUtil=a,d.ActionUtil=s,d.LoadUtil=r,d.NodePoolUtil=i,d.BundleUtil=u,d.TimeUtil=c,d.NodeUtil=l,d.Logger=n,e._RF.pop()}}}));

System.register("chunks:///_virtual/TaskType.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"11352BldIVCb6fcIGZlrxur","TaskType",void 0);let t=e("ETaskType",function(e){return e.dialog="dialog",e.operate="operate",e}({}));const n=e("TaskTypeName",{dialog:"对话类型",operate:"操作类型"});e("TaskTypeList",[{taskType:t.dialog,taskTypeName:n.dialog},{taskType:t.operate,taskTypeName:n.operate}]);e("ETaskState",function(e){return e.unEnable="unEnable",e.unStart="unStart",e.inTask="inTask",e.receiveAward="receiveAward",e.finished="finished",e}({}));a._RF.pop()}}}));

System.register("chunks:///_virtual/telegram-web.ts",["cc"],(function(e){var t,r,n;return{setters:[function(e){t=e.cclegacy,r=e.sys,n=e._decorator}],execute:function(){var s,a;t._RF.push({},"032b8zR9pVLu4b/FoH+u4lZ","telegram-web",void 0);const{ccclass:p,property:i}=n,o=new Promise(((e,t)=>{if(r.platform===r.Platform.MOBILE_BROWSER||r.platform===r.Platform.DESKTOP_BROWSER){const r=document.createElement("script");r.src="https://telegram.org/js/telegram-web-app.js",r.async=!0,r.onload=()=>{const t=setInterval((()=>{window.Telegram&&window.Telegram.WebApp&&(e(window.Telegram.WebApp),clearInterval(t))}),100)},r.onerror=()=>t(new Error("Unable to load TelegramWebApp SDK, please check logs.")),document.head.appendChild(r)}}));e("TelegramWebApp",p("TelegramWebApp")(((a=class e{constructor(){this._tgWebAppJS=null}static get Instance(){return e._instance||(e._instance=new e),e._instance}async init(){return this._tgWebAppJS=await o,this._tgWebAppJS?Promise.resolve({success:!0}):Promise.resolve({success:!1})}openTelegramLink(e){this._tgWebAppJS?this._tgWebAppJS.openTelegramLink(e):console.error("telegram web app is not inited!")}share(e,t){let r="";r="https://t.me/share/url?url="+e+"&"+new URLSearchParams({text:t||""}).toString(),this.openTelegramLink(r)}shareToStory(e,t,r,n){if(!this._tgWebAppJS)return void console.error("telegram web app is not inited!");const s={text:t,widget_link:{url:r,name:n}};this._tgWebAppJS.shareToStory(e,s)}getTelegramWebApp(){return this._tgWebAppJS}getTelegramWebAppInitData(){return this._tgWebAppJS?this._tgWebAppJS.initDataUnsafe:(console.error("telegram web app is not inited!"),null)}getTelegramUser(){return this._tgWebAppJS?this._tgWebAppJS.initDataUnsafe.user:(console.error("telegram web app is not inited!"),null)}getTelegramInitData(){return this._tgWebAppJS?this._tgWebAppJS.initData:(console.error("telegram web app is not inited!"),null)}openInvoice(e,t){if(!this._tgWebAppJS)return console.error("telegram web app is not inited!"),null;this._tgWebAppJS.openInvoice(e,t)}alert(e){this._tgWebAppJS.showAlert(e)}})._instance=void 0,s=a))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/TgCocosManager.ts",["cc","./index.ts","./index2.mjs","./EventUtil.ts","./TonConnectConfig.ts","./index6.mjs"],(function(n){var t,e,o,s,c,i,r;return{setters:[function(n){t=n.cclegacy},function(n){e=n.Address,o=n.TonConnectUI,s=n.beginCell},null,function(n){c=n.default},function(n){i=n.TonConnectConfig},function(n){r=n.CHAIN}],execute:function(){t._RF.push({},"c0305v1wB5Gp5eA8eusVQxJ","TgCocosManager",void 0);class a{constructor(){this.connectUI=void 0}static get instance(){return a._instance||(a._instance=new a),a._instance}get addressStr(){if(this.isConnected){const n=this.connectUI.account.address;return e.parseRaw(n).toString()}return""}async init(){this.connectUI=new o({manifestUrl:i.manifestUrl,actionsConfiguration:{twaReturnUrl:"https://t.me/durov"}}),this.connectUI.onModalStateChange((n=>{console.log("model state changed! : ",n),this.updateConnect()})),this.connectUI.onStatusChange((n=>{console.log("wallet info status changed : ",n),this.updateConnect()})),this.updateConnect()}connect(){this.connectUI?this.isConnected?console.error("已经连接了!"):this.connectUI.openModal():console.error("请先进行初始化!")}unConnect(){this.isConnected&&this.connectUI.disconnect()}get isConnected(){return this.connectUI?(console.log("isConnected",this.connectUI.connected),this.connectUI.connected):(console.error("ton ui not inited!"),!1)}updateConnect(){c.emit("connectUIUpdate",this.isConnected)}getAddressUiStr(n){let t="";if(this.isConnected){const o=this.connectUI.account.address;t=e.parseRaw(o).toString({testOnly:!0,bounceable:!1}).substring(0,n)+(n?"...":"")}return t}async buy(n,t,e){if(!this.isConnected)return void this.connect();const o=1e9*n;let c;if(e){c=s().storeUint(0,32).storeStringTail(e).endCell().toBoc().toString("base64")}console.log("payload",c);const i={validUntil:Math.floor(Date.now()/1e3)+60,messages:[{address:t,amount:""+o,payload:c}],network:r.MAINNET};console.log("transaction-----\x3e",i);try{const n=await this.connectUI.sendTransaction(i,{modals:["before","success","error"],notifications:["before","success","error"]});return console.log("支付成功：",n),!0}catch(n){return console.error("支付失败：",n),!1}}openLink(n,t){window.location.href=n}isMobile(){return window.innerWidth<=500}addReturnStrategy(n,t){const e=new URL(n);return e.searchParams.append("ret",t),e.toString()}}n("TgCocosManager",a),a._instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/TimeUtil.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9d288seAM5LCKahwiKoRBrr","TimeUtil",void 0);class n{static wait(e,t){return new Promise((n=>{if(t)return t.scheduleOnce(n,e/1e3);setTimeout(n,e)}))}static waitFrame(e){return void 0===e&&(e=1),new Promise((t=>{let n=0,i=function(){requestAnimationFrame((()=>{++n>=e?t():i()}))};i()}))}static buttonWait(e,t){return void 0===e&&(e="btn"),void 0===t&&(t=300),e in n._canTouch||(n._canTouch[e]=!0,setTimeout((()=>{delete n._canTouch[e]}),t),!1)}static async soloFunction(e,t){if(void 0===t&&(t="normal"),this._soloKeys.indexOf(t)>-1)return!1;this._soloKeys.push(t);let n=await e(),i=this._soloKeys.indexOf(t);return i>-1&&this._soloKeys.splice(i,1),n}static async smartExecuteFunction(e,t){let n=this._conditionalFunctionGroup[e];if(n||(this._conditionalFunctionGroup[e]=n={isExecuting:!1}),n.isExecuting){n.nextExecuteFuc&&n.executeCallBack?.(!1),n.nextExecuteFuc=t;if(!await new Promise((e=>{n.executeCallBack=e})))return console.log("条件执行被替代"),!1}return n.isExecuting=!0,await t(),n.isExecuting=!1,n.executeCallBack?.(!0),!0}static sequenceFunction(e,t){this._sequenceFunctionGrop[e]||(this._sequenceFunctionGrop[e]={inExecute:!1,funcs:[]});this._sequenceFunctionGrop[e].funcs.push(t),this._executeSequenceFunction(e)}static async _executeSequenceFunction(e){const t=this._sequenceFunctionGrop[e];if(!t)return;if(t.inExecute)return;const n=t.funcs.shift();t.inExecute=!0,await n(),t.inExecute=!1,t.funcs.length>0?this._executeSequenceFunction(e):t.inExecute=!1}static async retryUntilSuccess(e,t,n,i){void 0===t&&(t="sequence"),void 0===n&&(n=3),void 0===i&&(i=100);let c=!0,s=[];for(const t of e)s.push(n);const u=new Promise((e=>{setTimeout((()=>{e()}),i)}));if("sequence"==t)for(let t=0;t<e.length;t++){let n=!1;for(;s[t]>0&&(n=await e[t](),!n);){if(s[t]--,s[t]<=0)return c=!1,c;await u}}else if("parallel"==t){const t=[];for(let n=0;n<e.length;n++)t.push((async()=>{let t=!1;for(;s[n]>0&&(t=await e[n](),!t);)await u,s[n]--,s[n]<=0&&(c=!1)})());await Promise.all(t)}return c}}e("TimeUtil",n),n._canTouch={},n._soloKeys=[],n._conditionalFunctionGroup={},n._sequenceFunctionGrop={},t._RF.pop()}}}));

System.register("chunks:///_virtual/Tips.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,n,s,r,c,l,a,p,u,h,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Sprite,s=t.Label,r=t._decorator,c=t.Component,l=t.TweenSystem,a=t.UIOpacity,p=t.director,u=t.view,h=t.tween,g=t.Vec3}],execute:function(){var b,d,y,m,f,w;o._RF.push({},"28923Wn7l9AkZccL0GR1/k1","Tips",void 0);const{ccclass:v,property:A}=r;t("default",(b=A(n),d=A(s),v((f=e((m=class extends c{constructor(){super(...arguments),i(this,"bg",f,this),i(this,"label",w,this),this._options=void 0}get options(){return this._options}async show(t){this._options=t,l.instance.ActionManager.removeAllActionsFromTarget(this.node),l.instance.ActionManager.removeAllActionsFromTarget(this.getComponent(a)),this.node.setPosition(0,0,0),this.getComponent(a).opacity=255,t.bg?this.bg.color=this.bg.color.set(t.bg):this.bg.color=this.bg.color.set(0,0,0,160),this.label.string=t.content;const e=t.duration??1.5;if(p.isPersistRootNode(this.node)){let t=u.getVisibleSize();this.node.setPosition(t.width/2,t.height/2)}return new Promise((t=>{h(this.node).by(e,{position:new g(0,120,0)},{easing:"sineOut"}).start(),h(this.getComponent(a)).delay(.3).to(e-.3,{opacity:0}).call((()=>{t()})).start()}))}}).prototype,"bg",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(m.prototype,"label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/TonConnectConfig.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"20307bHh4dLo4kG/lAZK6ks","TonConnectConfig",void 0);t("TonConnectConfig",{manifestUrl:"https://d2h6lhn2iwtzyf.cloudfront.net/ton/tonconnect-manifest.json",receiverAddress:"UQAet-amemkCQ0PJvV6_1UkIqtNJAlKUcD0CsqqqG0lUk3-W",shareUrl:"https://t.me/xuan_game_bot/test_app",shareTitle:"测试分享"});n._RF.pop()}}}));

System.register("chunks:///_virtual/TonConnectManager.ts",["cc","./index2.mjs","./EventUtil.ts","./TonConnectConfig.ts"],(function(n){var e,t,o,c,s,r,i,a;return{setters:[function(n){e=n.cclegacy},function(n){t=n.TonConnect,o=n.isWalletInfoCurrentlyEmbedded,c=n.isWalletInfoRemote,s=n.isWalletInfoCurrentlyInjected,r=n.UserRejectsError},function(n){i=n.default},function(n){a=n.TonConnectConfig}],execute:function(){e._RF.push({},"5eaa3y2owhPrp+kAKK/f+Bn","TonConnectManager",void 0);class l{static get instance(){return l._instance||(l._instance=new l),l._instance}get wallet(){return this.connector?.wallet}constructor(){this.connector=void 0,this.walletInfo=void 0}init(){this.connector=new t({manifestUrl:a.manifestUrl}),this.onStatusChange(),console.log("初始化TonConnect成功")}async reConnection(){if(console.log("尝试重连"),await this.connector.restoreConnection(),console.log("尝试重连结束",this.connector.connected),this.connector.connected)return this.walletInfo=(await this.connector.getWallets()).find((n=>n.appName.toLowerCase()==this.connector.wallet.device.appName.toLowerCase())),this.walletInfo?console.log("恢复连接成功",this.walletInfo.appName):console.error("恢复连接失败"),!0}async getWallets(){if(!this.connector)return console.error("请先初始化TonConnect"),[];const n=await t.getWallets();return console.log("获取所有ton钱包",n),n}async disconnect(){this.connector.connected&&await this.connector.disconnect()}async connectWallet(n){this.walletInfo=n;try{if(o(n)){const e={jsBridgeKey:n.jsBridgeKey};this.connector.connect(e),console.log("嵌入式钱包（例如内置于应用的浏览器）")}else if(c(n)){const e={universalLink:n.universalLink,bridgeUrl:n.bridgeUrl},t=this.connector.connect(e);this.isMobile()?this.openLink(this.addReturnStrategy(t,"none"),"_blank"):window.open(t,"_blank"),console.log("直接打开链接")}else{if(!s(n))return console.error("未识别的钱包类型"),!1;{const e={jsBridgeKey:n.jsBridgeKey};this.connector.connect(e),console.log("注入式钱包（例如浏览器扩展）")}}}catch(n){return console.error("连接钱包时发生错误：",n),!1}return!0}onStatusChange(){this.connector.onStatusChange((n=>{n?console.log("已连接到钱包：",n):console.log("未连接钱包"),i.emit("WalletStatusChange",n?"connected":"disconnected")}))}async sendTransaction(n){if(!this.connector.connected||!this.connector.wallet)return void alert("请先连接钱包再发送交易！"+!!this.walletInfo+","+!!this.connector.connected);const e=this.walletInfo;"universalLink"in e&&!e.embedded&&this.isMobile()&&this.openLink(this.addReturnStrategy(e.universalLink,"none"),"_blank");const t={validUntil:Math.floor(Date.now()/1e3)+60,messages:[{address:a.receiverAddress,amount:""+1e9*n}]};try{const n=await this.connector.sendTransaction(t);console.log("交易已发送，结果：",n),this.monitorTransaction(n.boc)}catch(n){n instanceof r?console.error("您已拒绝交易"):console.error("发送交易时发生错误：",n),i.emit("WalletTransactionResult",{result:!1,data:n})}}async monitorTransaction(n){const e=`https://toncenter.com/api/v2/getTransaction?boc=${n}`,t={result:!1,data:null};try{const n=await fetch(e),o=await n.json();o&&o.result?(console.log("交易详情：",o.result),t.result=!0,t.data=o.result):console.log("未找到交易信息")}catch(n){console.error("查询交易状态时发生错误：",n),t.result=!1,t.data=n}i.emit("WalletTransactionResult",t)}addReturnStrategy(n,e){const t=new URL(n);return t.searchParams.append("ret",e),t.toString()}openLink(n,e){window.location.href=n}isMobile(){return window.innerWidth<=500}}n("TonConnectManager",l),l._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/TonWallet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventUtil.ts","./TgCocosManager.ts","./LanguageData.ts"],(function(t){var e,n,a,l,c,o,s,i,r;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){a=t.cclegacy,l=t.Label,c=t._decorator,o=t.Component},function(t){s=t.default},function(t){i=t.TgCocosManager},function(t){r=t.LanguageData}],execute:function(){var u,g,h,p,b,d,f;a._RF.push({},"05a5dzjcnVIr7tklT4q+LuW","TonWallet",void 0);const{ccclass:L,property:_}=c;t("TonWallet",(u=L("TonWallet"),g=_(l),h=_(l),u((d=e((b=class extends o{constructor(){super(...arguments),n(this,"walletAccountLabel",d,this),n(this,"connectWalletLabel",f,this),this._currentStatus=!1}start(){s.on("connectUIUpdate",(t=>{this._changeStatue()}),this),this._changeStatue()}_changeStatue(){const t=i.instance,e=t.isConnected,n=t.getAddressUiStr(6);this._currentStatus=e,this.walletAccountLabel.string=n||r.translate("walletDisconnect"),this.connectWalletLabel.string=e?r.translate("walletBtnDisconnect"):r.translate("walletBtnConnect")}onTouchWalletHandler(t){this._currentStatus?i.instance.unConnect():i.instance.connect()}}).prototype,"walletAccountLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(b.prototype,"connectWalletLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/Transaction.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"7da0b19CPtNGo1mvxhUSpDB","Transaction",void 0);t("PaymentMethod",function(t){return t.ALIPAY="ALIPAY",t.WXPAY="WXPAY",t}({})),t("PaymentStatus",function(t){return t.SUCCESS="SUCCESS",t.FAIL="FAIL",t.REFUND="REFUND",t}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/TTSDK.ts",["cc","./BaseSdk.ts","./SDKEvent.ts"],(function(e){var t,s,o,i,a;return{setters:[function(e){t=e.sys,s=e.director,o=e.cclegacy},function(e){i=e.default},function(e){a=e.default}],execute:function(){o._RF.push({},"9e7daQ6fqNN/ZKhujF6cEzT","TTSDK",void 0);class n extends i{constructor(){super(...arguments),this.isLogin=!1,this._recorderShareFunc=null,this._musicPauseFunc=null,this._musicPauseThis=null,this._musicResumeFunc=null,this._musicResumeThis=null,this._clipboardData="",this._playScreenTime=0,this._screenSpaceTime=0,this._interstitiaId="",this._moreGameBtn=null,this._recorder=null,this._videoPath="",this._recorderStatus=0,this._recorderEndTime=0,this._recorderTime=0,this._bannerId="11f4j2icei1f225e7k",this._videoId="6gpcm2n3rio4wbb9vo",this._screenId="dnj876eh91d1g7lac8",this._shareUrl="",this._shareId="1dssoeb2lijgdmo4dm",this._shareTitle="合成一个小动物吧",this._shareDesc="看到相同的小动物就可以放手了",this._videoTopics=["合成消除","合成消除","合成小游戏"],this._videoLoaded=!1,this._videoOptions=null,this._videoAd=null,this._interstitiaAd=null,this._bannerLoaded=!1,this.lastAdTime=0,this.banner=null,this.bannerCount=0,this.lastshockTime=0,this.screenShow=!1,this.shareValue=1,this._shakeState=void 0,this.isSidebarShowed=!1}static get Instance(){return this._instance=this._instance||new n,this._instance}init(){t.platform===t.Platform.BYTEDANCE_MINI_GAME&&(this._shakeState=!1,this.showShareMenu(!0),globalThis.tt.onShareAppMessage(this.shareAppMessageCallback.bind(this)),this.lastAdTime=(new Date).getTime(),globalThis.tt.onShow((e=>{console.log("********游戏回到前台************"),console.log("启动参数：",e.query),console.log("来源信息：",e.refererInfo),console.log("场景值：",e.scene),console.log("启动场景字段：",e.launch_from,", ",e.location),"homepage"===e.launch_from&&"sidebar_card"===e.location&&(this.isSidebarShowed=!0)})),this.checkNewVersion(),globalThis.tt.setKeepScreenOn({keepScreenOn:!0}),this.loadBanner(!1))}checkNewVersion(){let e=globalThis.tt.getUpdateManager();e&&e.onCheckForUpdate((function(t){console.log("是否有新版本："+t.hasUpdate),t.hasUpdate&&(e.onUpdateReady((function(){globalThis.tt.showModal({title:"更新提示",content:"新版本已经准备好，单击确定重启小程序",showCancel:!1,success:function(t){t.confirm&&e.applyUpdate()}})})),e.onUpdateFailed((function(){globalThis.tt.showModal({title:"提示",content:"检查到有新版本，但下载失败，请稍后尝试",showCancel:!1})})))}))}showShareMenu(e){e?globalThis.tt.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}):globalThis.tt.showShareMenu({withShareTicket:!1})}shareAppMessageCallback(){let e=this.getShareConfig();return{title:this._shareTitle,imageUrl:e.url,templateId:e.id,query:"",desc:e.desc,success(){console.log("分享成功")},fail(e){console.log("分享失败")}}}getShareConfig(){let e={url:null,id:"",desc:""};switch(this.shareValue){case 1:e.url=this._shareUrl,e.id=this._shareId;break;case 2:break;case 3:let t=globalThis.tt.createCanvas();e.url=t.toTempFilePathSync({destWidth:500,destHeight:400});break;default:e={url:null,id:"",desc:""}}return e.desc=this._shareDesc,e}loadBanner(e){void 0===e&&(e=!1);let t=this;const{windowWidth:s,windowHeight:o}=globalThis.tt.getSystemInfoSync();null!=t.banner&&(t.banner.hide(),t.banner.destroy&&t.banner.destroy()),this.banner=globalThis.tt.createBannerAd({adUnitId:t._bannerId,style:{width:200,height:100,left:(s-200)/2,top:o-112.5}}),this.banner.onLoad((function(){e&&t.banner.show()})),this.banner.onError((function(e){globalThis.tt.createMoreGamesBanner&&(t.banner=globalThis.tt.createMoreGamesBanner({style:{left:0,top:o-100,width:150,horizontalAlign:"center"},appLaunchOptions:[]}),t.banner.onTap((()=>{console.log("点击跳转游戏盒子")})),t.banner.onResize((e=>{})))})),this.banner.onResize((e=>{t.banner.style.top=o-e.height,t.banner.style.left=(s-e.width)/2}))}showBanner(){try{this.banner?(this.bannerCount++,this.bannerCount>=10?(this.loadBanner(!0),this.bannerCount=0):this.banner.show()):console.log("showBanner:未获取到banner对象")}catch(e){console.log(e)}}hideBanner(){try{this.banner?this.banner.hide():console.log("hideBanner:未获取到banner对象")}catch(e){console.log(e)}}setKeepScreenOn(e){globalThis.tt.setKeepScreenOn(e)}getTTSetting(e){globalThis.tt.getSetting({withSubscriptions:!0,success:t=>{t.authSetting["scope.userInfo"]?e.success&&e.success(t):e.fail&&e.fail(t)},fail:t=>{e.fail&&e.fail(t)}})}openTTSetting(e){globalThis.tt.openSetting({withSubscriptions:!0,success:()=>{},fail:()=>{}})}login(e){if(t.platform!==t.Platform.BYTEDANCE_MINI_GAME)return;let s=this;globalThis.tt.login({force:e.force,success(t){console.log(`login 调用成功 ${t.code} ${t.anonymousCode}`);t.code,t.anonymousCode;t.isLogin?globalThis.tt.getUserInfo({success:t=>{console.log("getUserInfo 调用成功",t),s.isLogin=!0,e.success&&e.success(t)},fail:e=>{console.log("getUserInfo 调用失败",e),s.isLogin=!1,globalThis.tt.showModal({title:"授权提示",content:"请授权使用昵称和头像",showCancel:!0,success:e=>{e.confirm&&s.openTTSetting({})}})}}):s.isLogin=!1},fail(t){console.log("login调用失败",t),s.isLogin=!1,e.fail&&e.fail("登录失败,请稍后再试")}})}createMoreGamesButton(e){this._moreGameBtn||(console.log("创建更多游戏"),this._moreGameBtn=globalThis.tt.createMoreGamesButton({type:"image",image:"images/moregame.png",style:{left:e.left,top:e.top,width:e.width,height:e.height,lineHeight:49,backgroundColor:"#00000000",textColor:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4,borderWidth:1,borderColor:"#00000000"},appLaunchOptions:[],onNavigateToMiniGame(e){console.log("跳转其他小游戏",e)}}),this._moreGameBtn.onTap((()=>{console.log("点击更多游戏")})))}getOpenDataContext(){return globalThis.tt.getOpenDataContext()}postMessage(e){console.log("推送开放数据",e);globalThis.tt.getOpenDataContext().postMessage(e)}startRecorder(){this._recorder&&!this._isRecorder&&(this._recorderTime=(new Date).getTime(),this._isRecorder=!0,this._recorder.start({duration:300}),s.emit(a.CHANGE_RECORDER_STATE))}stopRecorder(e){this._recorder&&this._isRecorder&&(this._recorderEndTime=(new Date).getTime(),this._recorderShareFunc=e,this._recorder.stop(),this._isRecorder=!1,s.emit(a.CHANGE_RECORDER_STATE))}getIsScreenRecordVideo(){return""!=this._videoPath&&this._recorderEndTime-this._recorderTime>8e3}getRecorderState(){return this._isRecorder}getRecorderTime(){return(new Date).getTime()-this._recorderTime}shareRecorder(e){let t=this;if(""==this._videoPath)return void t.showToast("正在准备视频,请稍后...");globalThis.tt.shareAppMessage({channel:"video",title:t._shareTitle,desc:t._shareDesc,templateId:t._shareId,query:"",extra:{videoPath:t._videoPath,videoTopics:t._videoTopics,withVideoId:!0},success(s){console.log("分享视频成功"),e.success&&e.success(s.videoId),t._videoPath="",t.sendEvent({key:"shareVideoSuccess"})},fail(s){console.log("分享视频失败",s),t.showToast("分享失败，请重试！"),e.fail&&e.fail(s)},complete(){}}),t.sendEvent({key:"shareVideo"})}showRewardVideo(e){let s=this;if(s._videoOptions=e,t.platform!==t.Platform.BYTEDANCE_MINI_GAME)return s._videoOptions&&s._videoOptions.success&&s._videoOptions.success(),void s.sendEvent({key:"playVideoSuccess"});s._videoAd?this._videoAd.show().then((()=>{console.log("显示广告成功")})).catch((e=>{console.log("显示广告错误",e),s._videoAd.load().then((()=>s._videoAd.show()))})):(this._videoAd=globalThis.tt.createRewardedVideoAd({adUnitId:s._videoId}),this._videoAd.onLoad((()=>{console.log("广告加载完成")})),this._videoAd.onError((e=>{s._videoLoaded=!1,s.sendEvent({key:"videoError",value:{code:e.errCode}}),setTimeout((function(){s._videoAd.load().then((()=>{s._videoLoaded=!0}))}),3e4),s.showToast("暂无广告，你可以分享录屏获取奖励"),console.log("视频加载失败",e.errCode)})),this._videoAd.onClose((e=>{s._videoLoaded=!1,s.lastAdTime=(new Date).getTime(),e.isEnded?(s._videoOptions&&s._videoOptions.success&&s._videoOptions.success(),s.sendEvent({key:"playVideoSuccess"})):(s._videoOptions&&s._videoOptions.fail&&s._videoOptions.fail(),s.sendEvent({key:"playVideoFail"}))})),this._videoAd.load().then((()=>{s._videoLoaded=!0,s._videoAd.show().then((()=>{console.log("显示广告成功")})).catch((e=>{console.log("显示广告错误",e),s._videoAd.load().then((()=>s._videoAd.show()))}))})))}setClipboardData(e){globalThis.tt.setClipboardData({data:e.data,success:t=>{e.success&&e.success(t),console.log("调用剪切板成功",e.data)},fail:t=>{e.fail&&e.fail(t),console.log("调用剪切板失败",e.data)}})}getVideoState(){return this._videoLoaded}getLastAdTime(){return this.lastAdTime}playScreen(){if(t.platform!==t.Platform.BYTEDANCE_MINI_GAME)return;var e=globalThis.tt.getSystemInfoSync();if("ios"==e.platform)return;if("XiGua"==e.appName)return;let s=this;if((new Date).getTime()-this.lastAdTime>6e4){if(s._interstitiaAd&&s.screenShow)try{s._interstitiaAd.destroy(),s._interstitiaAd=null}catch(e){console.log("销毁插屏广告失败",e)}s._interstitiaAd&&!s.screenShow?s._interstitiaAd.load():(console.log("插屏不存在或已经播放，重新创建"),s._interstitiaAd=globalThis.tt.createInterstitialAd({adUnitId:s._screenId}),s._interstitiaAd.onLoad((()=>{console.log("插屏广告加载成功"),s._interstitiaAd.show().then((()=>{console.log("插屏广告展示成功"),s.screenShow=!0,s.lastAdTime=(new Date).getTime()}))})),s._interstitiaAd.onError((e=>{console.log("插屏广告加载失败",e),s.screenShow=!1})))}}sendEvent(e){e&&e.key&&t.platform===t.Platform.BYTEDANCE_MINI_GAME&&console.log("上报事件:",e)}vibrateShort(){if(t.platform!==t.Platform.BYTEDANCE_MINI_GAME)return;if(this._shakeState)return;let e=(new Date).getTime();e-this.lastshockTime>100&&(this.lastshockTime=e,globalThis.tt.vibrateShort({success(e){},fail(e){console.log("vibrateShort调用失败")}}))}vibrateLong(){t.platform===t.Platform.BYTEDANCE_MINI_GAME&&(this._shakeState||globalThis.tt.vibrateLong({success(e){},fail(e){console.log("vibrateLong调用失败")}}))}getShakeState(){return this._shakeState}setShakeState(e){this._shakeState=e}showToast(e,t,s){globalThis.tt.showToast({title:e,icon:"none",duration:1500,success:e=>{t&&t()},fail:e=>{s&&s()}})}share(e){t.platform===t.Platform.BYTEDANCE_MINI_GAME&&globalThis.tt.shareAppMessage(e)}setLocalStorage(e,s){t.localStorage.setItem(e,s)}getLocalStorage(e){return t.localStorage.getItem(e)}sendHttpRequest(e,t,s,o){globalThis.tt.request({url:e,data:t,success(e){if(console.log("request调用成功 ",e),e.data.ok){if(s){let t=e.data;s(t)}}else o&&o(e.data.msg)},fail(e){console.log("request调用失败",e),o&&o("网络繁忙,请稍后再试")}})}contentSafe(e){}ttSubpackage(e,s){t.platform===t.Platform.BYTEDANCE_MINI_GAME&&globalThis.tt.loadSubpackage({name:e,success:function(e){s&&s(!0,e)},fail:function(e){s&&s(!1,e)}})}checkSidebar(e){return new Promise(((s,o)=>{t.platform!==t.Platform.BYTEDANCE_MINI_GAME||this.isSidebarShowed?e&&e(!1):globalThis.tt.checkScene({scene:"sidebar",success:t=>{console.log("check scene success: ",t.isExist),s(t.isExist),e&&e(t.isExist)},fail:t=>{console.log("check scene fail:",t),s(!1),e&&e(!1)}})}))}showSidebar(e){t.platform===t.Platform.BYTEDANCE_MINI_GAME&&globalThis.tt.navigateToScene({scene:"sidebar",success:t=>{console.log("navigate to scene success"),e.success&&e.success()},fail:t=>{console.log("navigate to scene fail: ",t),e.fail&&e.fail()}})}showRank(){t.platform===t.Platform.BYTEDANCE_MINI_GAME&&(console.log("拉取排行榜"),globalThis.tt.getImRankList({relationType:"default",dataType:1,rankType:"day",rankTitle:"每日排行榜",pageNum:1,pageSize:20,zoneId:"default"}))}sendRankData(e){t.platform===t.Platform.BYTEDANCE_MINI_GAME&&(console.log("发送自己的数据"),globalThis.tt.setImRankData({dataType:1,value:e.value,priority:e.priority,extra:"extra",zoneId:"default",success(e){console.log(`setImRankData success res: ${e}`)},fail(e){console.log(`setImRankData fail res: ${e.errMsg}`)}}))}}e("default",n),n._instance=null,o._RF.pop()}}}));

System.register("chunks:///_virtual/TypesInfo.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"8f023yxtCtNioR0dPvnRYN9","TypesInfo",void 0);n("EAdminLoginType",function(n){return n.Account="account",n.Phone="phone",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/TypesInfo2.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"9374fIFhHlINpHtvpsm3paU","TypesInfo",void 0);e("ELoginType",function(e){return e.TgUser="TgUser",e.Token="token",e}({})),e("EAccountType",function(e){return e.Official="official",e.Guest="guest",e}({})),e("ERoomState",function(e){return e.open="open",e.close="close",e}({})),e("ESmsType",function(e){return e.login="login",e.resetPassword="resetPassword",e}({})),e("EQuestionType",function(e){return e.QA="QA",e.GUESS="GUESS",e}({})),e("ECurrencyType",function(e){return e.Ton="Ton",e}({})),e("EOrderStatus",function(e){return e.newCreate="newCreate",e.success="success",e.fail="fail",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIFriendController.ts",["cc","./BundleUtil.ts","./NodeUtil.ts","./BusinessCard.ts","./FriendChat.ts","./UIFriendDeclare.ts"],(function(e){var s,t,i,n,a,r,d,h;return{setters:[function(e){s=e.cclegacy,t=e.instantiate,i=e.Node},function(e){n=e.default},function(e){a=e.NodeUtil},function(e){r=e.BusinessCard},function(e){d=e.FriendChat},function(e){h=e.FriendChatMessageState}],execute:function(){s._RF.push({},"82a5bQb8/JLw4MfTV8KEylW","UIFriendController",void 0);class o{constructor(){this._messageList=[],this._externalFunctions={},this._businessCardNode=void 0,this._friendChatNode=void 0,this._inCreateCard=!1,this._inCreateFriendChat=!1}static get ins(){return this._ins||(this._ins=new o),this._ins}setExternalFunctions(e){Object.assign(this._externalFunctions,e)}clearExternalFunctions(){this._externalFunctions={}}clearMessage(){this._messageList=[]}getMessage(){return this._messageList}async sendMessage(e,s,t){const i=this._createMessage(e,s,t),n=Object.assign({state:h.sending},i);this.addMessage([n]);let a=!1;this._externalFunctions.sendMessage&&(a=await this._externalFunctions.sendMessage(i)),this._changeMessageState(i.chatId,a?h.successed:h.failed)}addMessage(e){e.forEach((e=>{this._messageList.push(e)}))}_changeMessageState(e,s){}_createMessage(e,s,t){const i=this._externalFunctions?.getMyUid?.()||"",n=Date.now();return{chatId:i+n,chatType:s,receiverIds:t,text:e,time:n}}async showBusinessCard(e,s,d){if(this._businessCardNode){if(this._businessCardNode.active)return;this._businessCardNode.active=!0,this._businessCardNode.getComponent(r)?.show(e,s)}else{if(this._inCreateCard)return;this._inCreateCard=!0;const h=await n.getPrefabByBundle("BusinessCard","FriendPanel");this._inCreateCard=!1,this._businessCardNode=t(h),a.addParent(this._businessCardNode,d),this._businessCardNode.getComponent(r)?.show(e,s),this._businessCardNode.on(i.EventType.NODE_DESTROYED,(()=>{this._businessCardNode=void 0}),this)}}async showFriendChat(e,s){if(this._friendChatNode){if(this._friendChatNode.active)return;this._friendChatNode.active=!0,this._friendChatNode.getComponent(d)?.show(e)}else{if(this._inCreateFriendChat)return;this._inCreateFriendChat=!0;const r=await n.getPrefabByBundle("FriendChat","FriendPanel");this._inCreateFriendChat=!1,this._friendChatNode=t(r),a.addParent(this._friendChatNode,s),this._friendChatNode.getComponent(d)?.show(e),this._friendChatNode.on(i.EventType.NODE_DESTROYED,(()=>{this._friendChatNode=void 0}),this)}}}e("UIFriendController",o),o._ins=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/UIFriendDeclare.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"6e560KtydxIqZ2Ofxsmk/Qy","UIFriendDeclare",void 0);e("FriendChatMessageType",function(e){return e.world="world",e.room="room",e.private="private",e.friend="friend",e}({})),e("FriendChatMessageState",function(e){return e[e.none=0]="none",e[e.sending=1]="sending",e[e.successed=2]="successed",e[e.failed=3]="failed",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIFriendManager.ts",["cc","./BundleUtil.ts","./EventUtil.ts","./NodeUtil.ts","./ModuleUtilManagerBase.ts","./UIFriendController.ts"],(function(e){var n,i,t,s,r,a,d,o;return{setters:[function(e){n=e.cclegacy,i=e.instantiate,t=e.Node},function(e){s=e.default},function(e){r=e.default},function(e){a=e.NodeUtil},function(e){d=e.ModuleUtilManagerBase},function(e){o=e.UIFriendController}],execute:function(){n._RF.push({},"47778p7Fo5PBpJU6ZQ/s/ce","UIFriendManager",void 0);e("UIFriendManager",class extends d{constructor(){super(...arguments),this._friendNode=void 0,this._inCreateFriend=!1}async init(){console.log("初始化 UIPopupManager")}setExternalFunctions(e){o.ins.setExternalFunctions(e)}clearExternalFunctions(){o.ins.clearExternalFunctions()}clearAllMessage(){o.ins.clearMessage(),r.emit("clearMessage")}async sendMessage(e,n,i){o.ins.sendMessage(e,n,i)}addMessage(e){o.ins.addMessage(e),r.emit("friendMessage",e)}getMessage(){return o.ins.getMessage()}async showUiFriend(e){if(this._friendNode){if(this._friendNode.active)return;this._friendNode.active=!0}else{if(this._inCreateFriend)return;this._inCreateFriend=!0;const n=await s.getPrefabByBundle("FriendPanel","FriendPanel");this._inCreateFriend=!1,this._friendNode=i(n),a.addParent(this._friendNode,e),this._friendNode.on(t.EventType.NODE_DESTROYED,(()=>{this._friendNode=void 0}),this)}}}),n._RF.pop()}}}));

System.register("chunks:///_virtual/UIFriendRepeater.ts",["cc","./ModuleManager.ts"],(function(e){var r,t;return{setters:[function(e){r=e.cclegacy},function(e){t=e.default}],execute:function(){r._RF.push({},"3ebceal4VdGWqe338Ts6dOQ","UIFriendRepeater",void 0);e("default",class{static get serverRoom(){return t.instance.getManager("serverManager").callServer("server_Room")}static get serverSystem(){return t.instance.getManager("serverManager").callServer("server_System")}static get userManager(){return t.instance.getManager("userManager")}static get uiPopupManager(){return t.instance.getManager("uiPopupManager")}}),r._RF.pop()}}}));

System.register("chunks:///_virtual/UiParentConfig.ts",["cc","./UiParentDeclare.ts"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.UiRelationType}],execute:function(){t._RF.push({},"92da85jnzdLY55I1Wu3B1Ez","UiParentConfig",void 0);e("default",{demoUi:{relation:n.Normal},playerHeadUi:{relation:n.Normal}});t._RF.pop()}}}));

System.register("chunks:///_virtual/UiParentDeclare.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"63765S1nEVMiZNjhp7wMnZ6","UiParentDeclare",void 0);t("UiRelationType",function(t){return t[t.Bottom=0]="Bottom",t[t.Normal=1]="Normal",t[t.Top=2]="Top",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/UiParentManager.ts",["cc","./DataUtil.ts","./ModuleUtilManagerBase.ts","./UiParentDeclare.ts"],(function(t){var e,o,n,i,r,s,d,a,h,c;return{setters:[function(t){e=t.cclegacy,o=t.Node,n=t.UITransform,i=t.director,r=t.RenderRoot2D,s=t.Widget,d=t.Layers},function(t){a=t.default},function(t){h=t.ModuleUtilManagerBase},function(t){c=t.UiRelationType}],execute:function(){e._RF.push({},"584a31yQlZNlr36m+5YO0a9","UiParentManager",void 0);t("UiParentManager",class extends h{constructor(t){super(),this._rootNode=void 0,this._childrenMap={},this._configInfo=void 0,this._configInfo=t}async init(){console.log("初始化UI管理类")}setParent(t,e){void 0===e&&(e=!0),this._rootNode&&e&&this.clearAllNode(),this._rootNode||(this._rootNode=this._createUiNode("UiParent"),this._createRelationNode(this._rootNode),this._rootNode.on(o.EventType.NODE_DESTROYED,(()=>{this._rootNode=void 0}))),t?(this._rootNode.parent=t,this._rootNode.getComponent(n).setContentSize(this._rootNode.parent.getComponent(n).contentSize)):(i.addPersistRootNode(this._rootNode),this._rootNode.getComponent(r)||this._rootNode.addComponent(r));let d=this._rootNode.getComponent(s);d||(d=this._rootNode.addComponent(s)),d.isAlignBottom=!0,d.isAlignTop=!0,d.isAlignLeft=!0,d.isAlignRight=!0,d.bottom=0,d.top=0,d.left=0,d.right=0,d.updateAlignment()}clearAllNode(){this._rootNode&&this._rootNode.isValid&&this._rootNode.destroy(),this._rootNode=void 0,this._childrenMap={}}getNode(t){const e=t;return this._childrenMap[e]||this._createNode(t),this._childrenMap[e]}_createNode(t){const e=t;let i=this._childrenMap[e];i&&i||(i=this._createUiNode(e),this._childrenMap[e]=i,this._rootNode||this.setParent(),i.parent=this._getRelaitionNode(this._configInfo[e].relation),i.getComponent(n).setContentSize(i.parent.getComponent(n).contentSize),this._childrenMap[e]=i,i.on(o.EventType.NODE_DESTROYED,(()=>{this._childrenMap[e]&&delete this._childrenMap[e]})))}_getRelaitionNode(t){return this._rootNode||this.setParent(),this._rootNode?.children[t]}_createRelationNode(t){for(const e of a.getEnumKeys(c)){const o=this._createUiNode(e);o.parent=t,o.getComponent(n).setContentSize(o.parent.getComponent(n).contentSize)}}_createUiNode(t){let e=new o(t);return e.layer=d.Enum.UI_2D,e.addComponent(n),e}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupDeclare.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"86d1bQzm1pAOJqBZmBdTpSz","UIPopupDeclare",void 0);e("PopupConfig",{confirmTitle:"温馨提示",confirmBtnName:"确 定",loadingText:"加载中"});c._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupManager.ts",["cc","./BundleUtil.ts","./TimeUtil.ts","./NodeUtil.ts","./ModuleUtilManagerBase.ts","./Confirm.ts","./Loading.ts","./Tips.ts"],(function(i){var o,t,n,a,e,s,d,g,l,h,r;return{setters:[function(i){o=i.cclegacy,t=i.NodePool,n=i.instantiate,a=i.Node},function(i){e=i.default},function(i){s=i.TimeUtil},function(i){d=i.NodeUtil},function(i){g=i.ModuleUtilManagerBase},function(i){l=i.Confirm},function(i){h=i.Loading},function(i){r=i.default}],execute:function(){o._RF.push({},"7cefbN25WRM25BQArHE+S+8","UIPopupManager",void 0);var u=function(i){return i.Tips="Tips/Tips",i.Confirm="Confirm/Confirm",i.Loading="Loading/Loading",i}(u||{});i("UIPopupManager",class extends g{constructor(){super(...arguments),this._tipsPool=new t,this._confirmPool=new t,this._loadingPool=new t,this._loadingNode=void 0,this._loadingMap=new Map,this._isLoadingShowing=0,this._showingLocalLoadings={}}async init(){console.log("初始化 UIPopupManager")}async showTips(i,o){let t=this._tipsPool.get()||n(await e.getPrefabByBundle(u.Tips,"UiPopup"));d.addParent(t,o?.parent),await t.getComponent(r).show({...o,content:i}),this._tipsPool.put(t)}async showConfirm(i,o){let t=this._confirmPool.get()||n(await e.getPrefabByBundle(u.Confirm,"UiPopup"));d.addParent(t,o?.parent);let a=t.getComponent(l),s=await a.show({...o,content:i});return this._confirmPool.put(t),s}async showLoading(i,o,t){if(void 0===t&&(t=0),this._isLoadingShowing++,this._loadingNode?.active)return;if(this._isLoadingShowing>1)return;let g=!!t,l=async()=>{t&&(await s.wait(1e3*t),g=!1)};if(this._loadingNode){if(await l(),!this._isLoadingShowing)return}else{let i=null;if(await Promise.all([(async()=>{i=await e.getPrefabByBundle(u.Loading,"UiPopup"),this._isLoadingShowing&&(this._loadingNode||(this._loadingNode=this._loadingPool.get()||n(i),d.addParent(this._loadingNode,o),this._loadingNode.on(a.EventType.NODE_DESTROYED,(()=>{this._loadingNode=void 0,this._isLoadingShowing=0}),this)),this._loadingNode.getChildByName("parent").active=!g)})(),l()]),!this._isLoadingShowing)return}this._loadingNode&&(this._loadingNode.getChildByName("parent").active=!0,this._loadingNode.getComponent(h).show(i))}hideLoading(){this._isLoadingShowing>0&&this._isLoadingShowing--,this._loadingNode&&(this._loadingNode.getComponent(h).hide(),this._loadingPool.put(this._loadingNode),this._loadingNode=null)}async showLocalLoading(i,o,t,a){if(void 0===a&&(a=0),this._showingLocalLoadings[i])return;if(this._showingLocalLoadings[i]=!0,this._loadingMap.get(i))return;let g=null;if(await Promise.all([(async()=>{g=await e.getPrefabByBundle(u.Loading,"UiPopup")})(),(async()=>{a&&await s.wait(1e3*a)})()]),!this._showingLocalLoadings[i])return;let l=this._loadingPool.get()||n(g);d.addParent(l,t),l.getComponent(h).show(o),this._loadingMap.set(i,l)}async hideLocalLoading(i){this._showingLocalLoadings[i]&&delete this._showingLocalLoadings[i];let o=this._loadingMap.get(i);o&&(await o.getComponent(h).hide(),this._loadingPool.put(o),this._loadingMap.delete(i))}}),o._RF.pop()}}}));

System.register("chunks:///_virtual/UserBusinessCardMessage.ts",["cc"],(function(e){var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"9bc33z9fUZF07S7M9SIfqBx","UserBusinessCardMessage",void 0);e("EBusinessCardOperateType",function(e){return e.apply="apply",e.agree="agree",e.unAgree="unAgree",e.delete="delete",e}({}));s._RF.pop()}}}));

System.register("chunks:///_virtual/UserInfo.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"9a6f7L1zXBDkrC5vnWI3+4o","UserInfo",void 0);e("EUserSex",function(e){return e.female="female",e.male="male",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/UserPrizeSourceType.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"ca844y+et9AdbVSj/UcSzq4","UserPrizeSourceType",void 0);e("UserPrizeSourceType",function(e){return e.PRIZE="PRIZE",e.TASK="TASK",e.RANK="TASK",e.POINT_EXCHANGE="POINT_EXCHANGE",e}({}));e("UserPrizeSourceTypeName",{PRIZE:"抽奖",TASK:"任务",RANK:"排行榜",POINT_EXCHANGE:"积分兑换"});r._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(e){var t,i,s,o,a,l,n;return{setters:[function(e){t=e.sys,i=e.Button,s=e.Component,o=e.view,a=e.UITransform,l=e.tween,n=e.cclegacy}],execute:function(){n._RF.push({},"5ba1aPvRKNETJjT/WgGbWWc","Utils",void 0);class r{constructor(){this._localStorage_key="KEY-",this._cardAtlas=null,this.QNode=void 0,this.frequency=void 0,this.decay=void 0,this.totalTime=void 0,this.pressScale=void 0,this.interval=void 0,this.originalScale=void 0,this.tween=void 0}static get Instance(){return this._ins||(this._ins=new r),this._ins}get isIOS(){return t.isNative&&t.os==t.OS.IOS}get isAndroid(){return t.isNative&&t.os==t.OS.ANDROID}addCallbackToButton(e,t,o,a,l){void 0===l&&(l="");const n=i.Transition.SCALE;let r=new s.EventHandler;r.target=t,r.component=o,r.handler=a,r.customEventData=l;let c=e.getComponent(i);c||(c=e.addComponent(i)),c.transition=n,c.duration=.1,c.zoomScale=.9,c.interactable=!0,c.clickEvents.push(r)}setBgFit(e){let t=o.getVisibleSize().height/o.getDesignResolutionSize().height,i=o.getVisibleSize().width/o.getDesignResolutionSize().width,s=t>i?t:i;e.setScale(s,s)}getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1)+e)}setLocalStorage(e,i){t.localStorage.setItem(this._localStorage_key+e,String(i))}setLocalStorageToJson(e,i){t.localStorage.setItem(this._localStorage_key+e,JSON.stringify(i))}getLocalStorage(e){let i=t.localStorage.getItem(this._localStorage_key+e);return i?Number(i):-1}getLocalStorageByJson(e){let i=t.localStorage.getItem(this._localStorage_key+e);return i?JSON.parse(i):null}removeLocalStorage(e){t.localStorage.removeItem(this._localStorage_key+e)}clearAllLocalStorage(){t.localStorage.clear()}checkRectIsCross(e,t){let i=e.getComponent(a).getBoundingBoxToWorld(),s=t.getComponent(a).getBoundingBoxToWorld();return i.intersects(s)}initBounceData(e){this.QNode=e,this.frequency=4,this.decay=2,this.totalTime=1,this.pressScale=.15,this.interval=2,this.originalScale=this.QNode.scale}play(e){void 0===e&&(e=1e9);const t=null!=e&&e>0?e:1e9,i=.2*this.totalTime,s=.15*this.totalTime,o=.65*this.totalTime,a=this.pressScale/s;this.tween=l(this.QNode).repeat(t,l().to(i,{scaleX:this.originalScale+this.pressScale,scaleY:this.originalScale-this.pressScale},{easing:"sineOut"}).to(s,{scaleX:this.originalScale,scaleY:this.originalScale}).to(o,{scaleX:{value:this.originalScale,progress:(e,t,i,s)=>t-this.getDifference(a,s)},scaleY:{value:this.originalScale,progress:(e,t,i,s)=>t+this.getDifference(a,s)}}).delay(this.interval)).start()}stop(){this.tween&&this.tween.stop(),this.QNode.setScale(this.originalScale)}getDifference(e,t){const i=this.frequency*Math.PI*2;return e*(Math.sin(t*i)/Math.exp(this.decay*t)/i)}}e("default",r),r._ins=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/viewBasic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BundleLayer.ts"],(function(e){var i,t,n,r,o,s,l;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.CCBoolean,o=e.CCFloat,s=e._decorator},function(e){l=e.default}],execute:function(){var a,h,u,c,d,p,w,b,y,f,g,A,B,v,D,m,z,V,I;n._RF.push({},"f72a4qDVL5Pwq6+0XTq2QHb","viewBasic",void 0);const{ccclass:C,property:O}=s;e("default",(a=C("viewBasic"),h=O({type:r,tooltip:"在开始时显示横幅广告"}),u=O({type:o,visible(){return this.showBannerAd},slide:!0,range:[0,5]}),c=O({type:r,visible(){return this.showBannerAd},tooltip:"在关闭时隐藏横幅广告"}),d=O({type:r,visible(){return this.showBannerAd},tooltip:"是否在小屏幕上显示"}),p=O({type:r,tooltip:"在开始时显示插页式广告"}),w=O({type:o,visible(){return this.showIntersitialAd},slide:!0,range:[0,5]}),b=O({type:r,tooltip:"在开始时显示视频广告"}),y=O({type:o,visible(){return this.showVideoAd},slide:!0,range:[0,5]}),a((A=i((g=class extends l{constructor(){super(...arguments),t(this,"showBannerAd",A,this),t(this,"bannerDelay",B,this),t(this,"hideBannerOnClose",v,this),t(this,"displayinSmallscreen",D,this),t(this,"showIntersitialAd",m,this),t(this,"intersitialDelay",z,this),t(this,"showVideoAd",V,this),t(this,"videoDelay",I,this)}showAds(){console.log(this.showBannerAd,this.showIntersitialAd,this.showVideoAd,"广告"),this.showBannerAd&&this.scheduleOnce((()=>{this.showBanner()}),this.bannerDelay),this.showIntersitialAd&&this.scheduleOnce((()=>{this.showIntersitial()}),this.intersitialDelay),this.showVideoAd&&this.scheduleOnce((()=>{this.showVideo((()=>{console.log("视频广告播放结束")}))}),this.videoDelay)}showBanner(){console.log("显示横幅广告")}showIntersitial(){console.log("显示插页式广告")}showVideo(e){console.log("显示视频广告"),e&&e()}share(e){console.log("分享"),e&&e()}}).prototype,"showBannerAd",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=i(g.prototype,"bannerDelay",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=i(g.prototype,"hideBannerOnClose",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D=i(g.prototype,"displayinSmallscreen",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=i(g.prototype,"showIntersitialAd",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=i(g.prototype,"intersitialDelay",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=i(g.prototype,"showVideoAd",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=i(g.prototype,"videoDelay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=g))||f));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});